[env:coupled_env_vars]
ns=env/coupled
title=Coupled Settings

[env:ibm_power7]
description=Optimisation settings for IBM POWER7
ns=env/ibmpower7
title=IBM POWER7 Optimisation

[env:runtime]
description=Variables that control behaviour at run time.
ns=env/runtime
title=Runtime Controls

[env:runtime_atmosphere]
description=Variables that control atmosphere-only behaviour at run time.
ns=env/runtime/atmosphere
title=Atmosphere only

[env:runtime_reconfiguration]
description=Variables that control reconfiguration-only behaviour at run time.
ns=env/runtime/reconfiguration
title=Reconfiguration only

[env=ATMOS_EXEC]
compulsory=false
description=Name of UM executable
help=This should match the name of the executable built by fcm_make. If not
    =present in either app or suite the um-atmos wrapper script will default
    =to um-atmos.exe.
ns=env/runtime/atmosphere
sort-key=a3

[env=ATMOS_KEEP_MPP_STDOUT]
compulsory=false
description=Keep atmosphere standard output from all processors
help=If unset or false all output apart from pe0 will be deleted
ns=env/runtime/atmosphere
sort-key=a2
values=true,false

[env=ATMOS_STDOUT_DIR]
compulsory=false
description=Atmosphere stdout and stderr directory
help=The directory containing stdout and stderr from the atmosphere
    =executable, commonly referred to as PE files.
    =
    =A relative path is taken relative to the task work directory
    =($CYLC_TASK_WORK_DIR).
    =
    =Defaults to 'pe_output' in the task work directory.
ns=env/runtime/atmosphere
sort-key=a3

[env=COUPLER]
compulsory=false
description=Select coupler
ns=env/coupled
trigger=namelist:nlstcatm=oasis_couple_freq: OASIS3, OASIS3-MCT;
       = namelist:nlstcatm=l_couple_master: OASIS3, OASIS3-MCT;
       = namelist:nlstcatm=l_oasis_icecalve: OASIS3, OASIS3-MCT;
       = namelist:nlstcatm=l_oasis_timers: OASIS3, OASIS3-MCT;
value-titles=No Coupling, OASIS3, OASIS3-MCT
values=, OASIS3, OASIS3-MCT

[env=DATAM]
compulsory=false
description=Path to timestamped output files
help=Full path to the output directory containing non-timestamped output files
    =from the atmosphere run. Defaults to the value of env=DATAW.
ns=env/runtime

[env=DATAW]
compulsory=false
description=Path to non-timestamped output files
help=Full path to the output directory containing timestamped output files
    =from the atmosphere run. Defaults to $ROSE_DATA, or $PWD (the task work
    =directory from which the atmosphere executable is launched) if that is
    =not defined.
ns=env/runtime

[env=ENS_MEMBER]
compulsory=false
description=Specify ensemble member number of UM run
ns=env/runtime/atmosphere
pattern=^\d+$
sort-key=c1

[env=FASTRUN]
compulsory=false
description=Turn off IAU data assimilation if FASTRUN = true
ns=env/runtime/atmosphere
sort-key=c2

[env=FLUME_IOS_NPROC]
compulsory=false
description=Number of IO sever processors
help=Please note if changing the total number of processors used by the
    =model (including IO server processors) that the number of processors
    =requested from the batch system will need to be updated in the suite.rc.
ns=env/runtime/atmosphere
range=0:
sort-key=b3
type=integer

[env=HFI_RDMA_BREAKOUT_COUNT]
compulsory=false
ns=env/ibmpower7

[env=LAPI_DEBUG_MTU_4K]
compulsory=false
ns=env/ibmpower7

[env=LAPI_DEBUG_RC_DREG_COUNT]
compulsory=false
ns=env/ibmpower7

[env=LAPI_DEBUG_RC_DREG_LAZY]
compulsory=false
ns=env/ibmpower7

[env=LAPI_DEBUG_RC_DREG_THRESHOLD]
compulsory=false
ns=env/ibmpower7

[env=LAPI_DEBUG_RC_INIT_SETUP]
compulsory=false
ns=env/ibmpower7

[env=LDR_CNTRL]
compulsory=false
ns=env/ibmpower7

[env=MEMORY_AFFINITY]
compulsory=false
ns=env/ibmpower7

[env=MP_BINDPROC]
compulsory=false
ns=env/ibmpower7

[env=MP_BUFFER_MEM]
compulsory=false
ns=env/ibmpower7

[env=MP_BULK_MIN_MSG_SIZE]
compulsory=false
ns=env/ibmpower7

[env=MP_BULK_XFER_CHUNK_SIZE]
compulsory=false
ns=env/ibmpower7

[env=MP_DEVTYPE]
compulsory=false
ns=env/ibmpower7

[env=MP_EAGER_LIMIT]
compulsory=false
ns=env/ibmpower7

[env=MP_EUIDEVELOP]
compulsory=false
ns=env/ibmpower7

[env=MP_EUILIB]
compulsory=false
ns=env/ibmpower7

[env=MP_FIFO_ROUTE_MODE]
compulsory=false
ns=env/ibmpower7

[env=MP_POLLING_INTERVAL]
compulsory=false
ns=env/ibmpower7

[env=MP_PULSE]
compulsory=false
ns=env/ibmpower7

[env=MP_RC_MAX_QP]
compulsory=false
ns=env/ibmpower7

[env=MP_RDMA_MTU]
compulsory=false
ns=env/ibmpower7

[env=MP_RDMA_ROUTE_MODE]
compulsory=false
ns=env/ibmpower7

[env=MP_RETRANSMIT_INTERVAL]
compulsory=false
ns=env/ibmpower7

[env=MP_RFIFO_SIZE]
compulsory=false
ns=env/ibmpower7

[env=MP_SHARED_MEMORY]
compulsory=false
ns=env/ibmpower7

[env=MP_SHM_ATTACH_THRESH]
compulsory=false
ns=env/ibmpower7

[env=MP_SINGLE_THREAD]
compulsory=false
ns=env/ibmpower7

[env=MP_USE_BULK_XFER]
compulsory=false
ns=env/ibmpower7

[env=MP_WAIT_MODE]
compulsory=false
ns=env/ibmpower7

[env=PRINT_STATUS]
compulsory=false
description=Set level of print output from model
help=The level of print output determines how many messages are required
    =from the model executable. Most users will select "Normal". Setting
    ="Minimum" should reduce the length of output for long running stable
    =jobs, but you may need to be prepared to rerun parts of a job with
    ="Normal" should it run into trouble. "Operational" level is for
    =operational forecast use. "Extra Diag messages" can be selected,
    =which will produce STASH diagnostics messages to aid the user in
    =understanding why diagnostics have not appeared where expected.
ns=env/runtime/atmosphere
sort-key=a1
value-titles=Minimum output; only essential messages,
            =Normal informative messages and warnings,
            =Operational status; all information messages,
            =Extra diagnostic messages
values=PrStatus_Min, PrStatus_Normal, PrStatus_Oper, PrStatus_Diag

[env=RCF_NPROCX]
compulsory=false
help=Please note if changing the total number of processors used by the
    =reconfiguration that the number of processors requested from the batch
    =system will need to be updated in the suite.rc.
    =
    =Running the reconfiguration on multiple processors is done to gain the
    =same speed and memory improvements as it would when used for the model.
    =The reconfiguration will need fewer processors than the atmosphere model.
    =In practice 3 by 3 is suitable for a N48 resolution model and 4 by 4 is
    =fine for a N216 resolution model.
ns=env/runtime/reconfiguration
range=1:
type=integer

[env=RCF_NPROCY]
compulsory=false
help=Please note if changing the total number of processors used by the
    =reconfiguration that the number of processors requested from the batch
    =system will need to be updated in the suite.rc.
    =
    =Running the reconfiguration on multiple processors is done to gain the
    =same speed and memory improvements as it would when used for the model.
    =The reconfiguration will need fewer processors than the atmosphere model.
    =In practice 3 by 3 is suitable for a N48 resolution model and 4 by 4 is
    =fine for a N216 resolution model.
ns=env/runtime/reconfiguration
range=1:
type=integer

[env=RCF_PRINTSTATUS]
compulsory=false
description=Set level of print output from reconfiguration
help=The level of print output determines how many messages are output
    =from the reconfiguration executable.
ns=env/runtime/reconfiguration
value-titles=Minimum output; only essential messages,
            =Normal informative messages and warnings,
            =Operational status; all information messages,
            =Extra diagnostic messages
values=PrStatus_Min, PrStatus_Normal, PrStatus_Oper, PrStatus_Diag

[env=RCF_TIMER]
compulsory=false
description=Timer information required from reconfiguration run
help=The version of the timer is defined by the C97 cpp flag.  This will need to
    =be modified separately in the fcm_make app.
    =
    =Version 1A is the standard UM timer, but cannot be used on MPP machines.
    =Version 3A is an upgraded version of the standard timer. It can be used all
    =types of machines, and will give useful timing information on MPP machines.
    =It is computationally more expensive than version 1A. As well as giving timing
    =information for individual routines (as version 1A does), version 3A also
    =gives timing information for larger model components - for example the total
    =time spent in the dynamics or physics.
ns=env/runtime/reconfiguration
values=false,true

[env=RECON_EXEC]
compulsory=false
description=Name of Reconfiguration executable
help=This should match the name of the executable built by fcm_make. If not
    =present in either app or suite the um-recon wrapper script will default
    =to um-recon.exe.
ns=env/runtime/reconfiguration

[env=RECON_KEEP_MPP_STDOUT]
compulsory=false
description=Keep reconfiguration standard output from all processors
help=If unset or false all output apart from pe0 will be deleted
ns=env/runtime/reconfiguration
values=true,false

[env=RECON_STDOUT_DIR]
compulsory=false
description=Reconfiguration stdout and stderr directory
help=The directory containing stdout and stderr from the reconfiguration
    =executable, commonly referred to as PE files.
    =
    =A relative path is taken relative to the task work directory
    =($CYLC_TASK_WORK_DIR).
    =
    =Defaults to 'pe_output' in the task work directory.
ns=env/runtime/reconfiguration

[env=RUNID]
compulsory=false
description=5-character ID associated with each run
help=A string to identify output from a given task. Defaults to 'atmos'
    =in the UM. This will be used as a prefix to filenames generated by
    =the atmosphere model in order to identify output from each task,
    =e.g. atmos.pp0.
    =
    =The string should be 5 characters long and may only contain the
    =characters A-Z, a-z and 0-9. Longer strings will be truncated.
    =
    =This string is encoded as an integer into the fixed length header
    =of UM output to help identify the source of the data. The encoding
    =is case-insensitive.
ns=env/runtime
pattern=^[a-zA-Z0-9]{5}$

[env=SPECTRAL_FILE_DIR]
compulsory=false
description=Specify path to spectral files
ns=env/runtime/atmosphere
sort-key=c3

[env=STASHMSTR]
compulsory=false
description=Path to STASHmaster directory
help=If this environment variable is not present in the app or suite the UM and
    =reconfiguration scripts will default to the centrally installed STASHmaster.
ns=env/runtime

[env=UM_ATM_NPROCX]
compulsory=false
description=Number of processors west-east for atmosphere model
fail-if=this % 2 == 1 and this != 1 # Needs to be even or 1
help=Value must be 1 or an even number.
    =
    =Please note if changing the total number of processors used by the model
    =that the number of processors requested from the batch system will need
    =to be updated in the suite.rc.
    =
    =The atmosphere model can be decomposed in two dimensions so two
    =values for the number of PEs are requested, one for East/West and
    =one for North/South; the total number of PEs is the product of
    =these two values.
    =
    =For the atmosphere model the number of processors in the E-W direction
    =must be either 1 or a multiple of 2. This is a requirement for
    =efficient cross polar communication.
    =
    =There is a slight bias towards having more processors in the North-South
    =direction than the East-West as there is generally more data communication
    =across East-West boundaries than the North-South ones. Therefore it is
    =advisable to experiment with various domain decompositions to find which
    =are the most efficient for a given platform or particular simulation
ns=env/runtime/atmosphere
range=1:
sort-key=b1
type=integer

[env=UM_ATM_NPROCY]
compulsory=false
description=Number of processors north-south for atmosphere model
help=Please note if changing the total number of processors used by the model
    =that the number of processors requested from the batch system will need
    =to be updated in the suite.rc.
    =
    =The atmosphere model can be decomposed in two dimensions so two
    =values for the number of PEs are requested, one for East/West and
    =one for North/South; the total number of PEs is the product of
    =these two values.
    =
    =There is a slight bias towards having more processors in the North-South
    =direction than the East-West as there is generally more data communication
    =across East-West boundaries than the North-South ones. Therefore it is
    =advisable to experiment with various domain decompositions to find which
    =are the most efficient for a given platform or particular simulation
ns=env/runtime/atmosphere
range=1:
sort-key=b2
type=integer

[env=VN]
compulsory=false
description=Version number of the UM and/or reconfiguration
help=This number should match the version of the fcm-make apps used
    =to compile the executables.
ns=env/runtime
pattern=^\d+\.\d+

[env=XLFRTEOPTS]
compulsory=false
ns=env/ibmpower7

[env=XLSMPOPTS]
compulsory=false
ns=env/ibmpower7

[namelist:ancilcta]
compulsory=true
description=Ancil control
ns=namelist/ancillaries/ancilcta

[namelist:ancilcta=l_sstanom]
compulsory=true
description=Use SST anomalies in ancillary updating
help=SST Anomalies are used by long-range forecast configurations.
    = This allows anomalies to be added to the sea-surface temperature
    = climatologies at each updating point.
    =
    = SST Anomalies are used by long-range forecast configurations.
    = This allows anomalies to be added to the sea-surface temperature
    = climatologies at each updating point.
    =
    = Standard files hold time-varying fields (monthly,
    =annually-cyclic).
    = Long runs should use updating; the frequency depends on requirements.
    = Coupled models will not need this field at all.
    =
    = Sea surface temperature anomalies in NWP can be turned on by selecting
    = namelist:ancilcta=l_sstanom.
    =
    = This anomaly can then be used to update the model SST at the
    = specified frequency (daily is recommended for NWP),
    =by simply
    = persisting the anomaly for the duration of the forecast while
    = updating the baseline climatology from the SST ancillary
    = file. Note that SST anomalies over sea-ice and partial land points
    = are ignored.
    =
    = The older SST anomaly method is used by the long-range forecast group
    = and requires special ancillary files. Essentially SST anomalies allow
    = climatologies of SST to be used as climatologies of SST change. This
    = procedure is only required for long runs (where SST change is
    = significant) in real time forecasts (where actual values are not
    = known).
    =
    = In the case where SST anomaly fields are not used,
    =the SST updating
    = frequency should be consistent with that for sea-ice.
type=logical

[namelist:ancilcta=lamipii]
compulsory=true
description=Use AMIP-II method of updating SST and sea ice
help=Setting the updating of SST and ice to use the AMIP II method
    = implies that your ice ancillary file contains only ice concentrations.
    = The ice depths are worked out from the ice concentration by the
    = ancillary updating subroutine. You should still ask for updating of
    = ice depth.
    =
    = This method does not allow the ice concentration seen by the model to
    = fall below 0.3. This limit is applied because in the present version
    = of the model if any ice is present however small the value of the SST
    = seen by the physics (boundary layer and radiation) is -1.8C
    = irrespective of the value of the SST coming from the ancillary file.
    =
    = This method is designed to be used with the specially prepared SST
    = and ice boundary data supplied by PCMDI. This data is valid for a
    = real calendar year and when using daily updating it will correctly
    = reproduce monthly mean SST and ice.
    =
    = If a different updating period is used the monthly means will not be
    = correctly reproduced.
    =
    = Note the normal style SST and ice ancillary files contain correct
    = monthly means but once the model takes the data and interpolates,
    =the
    = resulting monthly means output by the model do not agree with the
    = original values.
type=logical

[namelist:atm_sizes]
compulsory=true
ns=namelist/pending/atm_sizes

[namelist:bouncnst]
compulsory=true
ns=namelist/Model_Configuration/lbc_related

[namelist:bouncnst=rimweightsa]
# This should be triggered by model_domain = 2 (LAM)
compulsory=true
description=Rim weights from outside inwards
help=The rim width is the width of the region around the edge of the model
    = domain that will undergo a weighted relaxation back to the values in the
    = LBC file(s). The outer-most points in the rim need to have a weight of
    = 1,
    =and the values need to descend smoothly as we move inwards. A wider
    = rim will give a smoother relaxation,
    =but will reduce the area of the
    = domain that is running freely. The maximum length of this array is
    = set in the UM code.
length=:
type=real

[namelist:clmchfcg]
compulsory=true
# Some trouble here - tables needed?
ns=namelist/um/section01/vary_greenhouse_gases

[namelist:clmchfcg=clim_fcg_levls]
compulsory=true
description=List of values and rates of growth for each active gas
length=:
type=real

[namelist:clmchfcg=clim_fcg_nyears]
compulsory=true
description=No. of years at which forcing rate is specified for each active
           =gas
length=:
type=integer

[namelist:clmchfcg=clim_fcg_rates]
compulsory=true
description=List of values and rates of growth for each active gas
length=:
type=real

[namelist:clmchfcg=clim_fcg_years]
compulsory=true
description=List of years at which forcing rate or level is specified for
           =each active gas
length=:
type=integer

[namelist:clmchfcg=l_clmchfcg]
compulsory=true
description=Switch on options for time varying Greenhouse Gases
sort-key=0
trigger=namelist:clmchfcg=clim_fcg_levls: .true.;
       =namelist:clmchfcg=clim_fcg_nyears: .true.;
       =namelist:clmchfcg=clim_fcg_years: .true.;
       =namelist:clmchfcg=clim_fcg_rates: .true.;
type=logical

[namelist:configid]
compulsory=true
ns=namelist/um/configid

[namelist:configid=itab]
compulsory=false
description=Model identifier code to insert into PP header.
help=See UMDP F3 documentation for LBEXP for commonly used operational settings.
    = Research runs can choose to use any number > 1000
    = Further advice to follow from FF/PP governance group.
type=integer

[namelist:domain]
duplicate=true
ns=namelist/um/STASH/domain

[namelist:domain=imn]
help=Spatial meaning option:
    =0 None
    =1 Vertical
    =2 Zonal
    =3 Meridional
    =4 Horizontal area
values=0,1,2,3,4

[namelist:domain=iwt]
type=integer

[namelist:headers]
compulsory=true
description=headers
ns=namelist/reconfiguration/headers
title=Dump Header Overrides

[namelist:headers=i_dump_year]
compulsory=false
description=Override the year in the dump fixed header
help=The reconfiguration will override items 21 and 28 in the dump fixed
    =header. Please see UMDP F3 for more details of dump fixed header
    = items.
range=0:9999
type=integer

[namelist:horizont]
compulsory=true
ns=namelist/reconfiguration/horizont

[namelist:horizont=h_int_method]
compulsory=true
description=1-Bilinear,
           =2-area-weighted (global only) 3-nearest neighbour
help=The reconfiguration can perform one of three horizontal interpolation
    =techniques:
    =
    =Bi-linear: Standard bi-linear interpolation based on calculating a weight
    =for each of the four source grid points surrounding the target point. Uses
    =the routine h_int_bl (src/control/grids/h_int_bl.F90)
    =
    =Area-weighted: Interpolation based on the area-weighted contribution of source
    =grid boxes to the target grid boxes.  This technique should only be used
    =when the domains of the target and source grids are identical and no pole
    =rotations are being performed.  Uses the routine box_sum (trunk/src/utility/
    =qxreconf/box_sum.F90)
    =
    =Nearest neighbour: Target grid point takes its value from the nearest source
    =grid point.  Should only be used for cutting out data of the same resolution.
title=Horizontal interpolation method
values=1,2,3

[namelist:horizont=l_limit_rotations]
compulsory=true
description=Avoid rotating grid when interpolating
help=Avoid rotating grid when interpolating,
    =useful when target LAM uses same rotated pole coords as driving model.
type=logical

[namelist:horizont=orog_blend_weights]
compulsory=true
description=Orography blending zone weights.
help=Orography blending zone weights.
length=:
range=0:1
type=real

[namelist:horizont=smcp_int_nearest_neighbour]
compulsory=true
description=Use nearest-neighbour interpolation for soil moisture properties
help=Use nearest-neighbour interpolation for soil moisture properties
type=logical

[namelist:iau_nl]
compulsory=true
description=iau_nl
help=The Incremental Analysis Update (IAU) scheme provides a means of adding
    = increments to the model fields during a model integration. For full details,
    =see UMDP 31.
    =
    = Typically,
    =the IAU scheme is used to add a single analysis increment or
    = ensemble perturbation to the model. If this increment is sufficiently
    = well-balanced,
    =it can be added at a single time. Otherwise,
    =it should be
    = added gradually over a series of timesteps,
    =using a suitably-designed weighting
    = function (time filter) to remove some of the gravity-wave noise. In both cases,
    =the "Specify filter for first increment file" option should be selected,
    =and
    = the IAU insertion period and filter design specified. If using a single-time
    = insertion,
    =select the uniform filter. Otherwise,
    =select from one of the five
    = filter types supported by the IAU code:
    =
    = - Uniform:          Flat weighting function.
    = - Triangular:       Triangular weighting function with its apex at the
    =                     specified time within the insertion period.
    = - Lanczos windowed: As above,
    =but including the so-called Lanczos window to
    =                     remove Gibbs oscillations.
    = - Dolph:            The filter which gives the smallest maximum frequency
    =                     response for periods below the specified "stop-band edge"
    =                     period.
    =
    = To avoid phase errors,
    =the validity time of the increments should lie at the
    = centre of the insertion period. Appendix B of UMDP 31 explains in more detail
    = the issues to consider when selecting the filter settings.
    =
    = If supplying more than one increment file,
    =the filepaths for the second and
    = subsequent files are obtained by adding "NN" to the path of the first
    = increment file,
    =where "NN" is the increment file number. In this case,
    =the
    = insertion details for the second file onwards are determined from data in their
    = fixed headers. If FIXHD(10) is set to 0,
    =the increments are added in full at
    = the UM timestep nearest the verification time. Otherwise,
    =the increments
    = are assumed to be tendencies for the period between the verification time and
    = the data time,
    =with the shape of the IAU weighting function determined by the
    = value of FIXHD(10). If the "Specify filter for first increment file" option is
    = not selected,
    =the first increment will be treated in the same way,
    =even if
    = supplying just one increment file.
    =
    = The above functionality is designed to support the addition of model error
    = increments generated by our 4D-Var scheme. For further details,
    =see VAR
    = Scientific Documentation Paper no.51.
    =
    = On calls to the IAU scheme,
    =model fields can be updated in two ways:
    =
    =   1. Directly,
    =via corresponding increment fields in the IAU increment files.
    =   2. Indirectly,
    =via the increments to other fields.
    =
    = Currently,
    =direct incrementing is supported for the following fields:
    =
    =   u,
    =v,w,theta,rho,exner,p,q,qCL,qCF,murk (aerosol),ozone,
    =sfctemp,
    =soilm
    =
    = Sfctemp and soilm are used as initial perturbations in ensemble forecasts.
    = Sfctemp is passed to TStar (at all points) and to TStar_tile and TSoil(1)
    = over land. Soilm is passed to all levels of smcl.
    = These fields are automatically processed if present in the increment file.
    =
    = theta,
    =rho and exner may also be updated indirectly via the following
    = relationships:
    =
    =   exner - expression in terms of p
    =   theta - hydrostatic equation
    =   rho   - equation of state
    =
    = These three options are activated via the following buttons:
    =
    =   "Calculating exner increments from p increments"
    =   "Calculating theta increments from exner and q increments"
    =   "Calculating rho   increments from exner, theta and q increments"
    =
    = When one of these options is activated,
    =direct updates to the corresponding
    = field are switched off.
    =
    = As well as the above set of fields,
    =the IAU increment files may also contain
    = increments to the total specific humidity qT. When qT increments are available,
    =the routine Gen_VarDiagCloud is used to diagnose the increments to q and qCL.
    = If the "Diagnose qCF as well as q and qCL incs if providing qT incs" button is
    = selected,
    =increments to qCF are also calculated. The option "Scale cloud
    = incs diagnosed from qT incs to be within physical limits" is normally used only
    = when "Diagnose qCF as well as q and qCL incs if providing qT incs" is switched
    = on.
    =
    = The only other indirect incrementing option is to pass on the level-one
    = temperature increments to the surface temperature fields (TStar and TStar_tile)
    = at land points,
    =and the top-level soil temperature (TSoil(1)) field.
    =
    = Increments to u,
    =v,
    =and w are always passed on to their advected counterparts
    = u_adv,
    =v_adv and w_adv; this is not optional.
    =
    = At the end of the IAU routine,
    =there is an optional call to the routine
    = QLimits,
    =which is used to apply limits to the tropospheric and
    = non-tropospheric humidities after they have been updated via the latest set of
    = increments. The panel allows the user to specify when this routine is called,
    =and to supply the set of control parameters it uses. These divide into two
    = sets; the parameters used to diagnose which points are to be considered
    = tropospheric,
    =and the humidity limits themselves.
    =
    = Other switches and variables,
    =with defaults:
    =
    =   L_IAU_ResetPoles               (F)     Reset polar rows to their mean values?
    =   L_IAU_LimitUpperThetaIncs      (F)     Apply limits to size of upper-level
    =                                          theta increments?
    =   IAU_LimitUpperThetaIncs_pBound (200.0) - Pressure boundary (Pa).
    =   IAU_LimitUpperThetaIncs_maxInc (100.0) - Maximum abs value of increment after
    =                                            multiplication by IAU weight (K).
    =   L_IAU_SetOzoneMin              (F)     Reset to oz_min if ozone was negative?
    =   L_IAU_IgnoreTopLevThetaIncs    (F)     Ignore theta incs for top model level?
    =
    =   L_IAU_UseSfcTempPerts          (F)     Add perturbations of surface temperature
    =                                          to TStar & TStar_tile (if available)
    =   L_IAU_UseSoilmPerts            (F)     Add perturbations of soil moisture
    =                                          to SMCL (if available in increment file)
    =
    = Assimilation of Lake Surface Temperature:
    =
    = If the check button "Add T1 incs to surface temp and top soil-level temp" is selected
    = at versions of the UM before 8.0 this increment is applied to all surface tiles,
    =including lakes. This has been found to be detrimental if the thermal
    = properties of lakes imply large thermal inertia. At vn8.0 an option has been
    = introduced to disable assimilation of lake surface temperature in this case,
    =with
    = assimilation disabled by default.
    =
    =
    = --------------------------------------------------------------------------------
    =
    = Namelist revisions from vn7.6 onwards:
    =
    =   At UM vn7.6,
    =the IAU namelist was heavily revised. In particular,
    =the
    =   following variables were removed:
    =
    =     L_IAU_Diags
    =     L_IAU_LowMem
    =     L_IAU_CalcCloudIncs
    =     L_IAU_CallStratQ
    =
    =   and the following variables were renamed:
    =
    =     L_IAU_UPPER_THETA -> L_IAU_LimitUpperThetaIncs
    =     IAU_LL_strat_pv   -> IAU_trop_max_PV
    =     IAU_UL_strat_p    -> IAU_nonTrop_max_p
    =     IAU_LL_trop_p     -> IAU_trop_min_p
    =     IAU_trop_RHmin    -> IAU_trop_min_RH
    =
    =   L_IAU_CallStratQ has been replaced by the
    =   "QLimits call frequency" option.
    =
    =   For full details,
    =see appendix A.2 of UMDP 31.
ns=namelist/um/section18
title=Section 18 - Data Assimilation

[namelist:iau_nl=diagcloud_applycomplimits]
compulsory=true
description=Avoid machine precision issues in Var_DiagCloud
help=Take measures to avoid machine precision issues in Var_DiagCloud
type=logical

[namelist:iau_nl=diagcloud_nummaxloops]
compulsory=true
description=Maximum number of loops for convergence in Var_DiagCloud
range=50:
type=integer

[namelist:iau_nl=diagcloud_qn_compregimelimit]
compulsory=true
description=Rounding errors computation limit
help=Variable used to define limits of regime within which
    =computation is not affected by rounding errors
type=real

[namelist:iau_nl=diagcloud_tol_fm]
compulsory=true
description=Tolerance for (1-FM)==0 tests in Var_DiagCloud
type=real

[namelist:iau_nl=diagcloud_tol_q]
compulsory=true
description=Tolerance for qcl==0,qcf==0 tests in Var_DiagCloud
type=real

[namelist:iau_nl=iau_apexmin]
compulsory=true
description=Apex minute for Triangular filter
range=0:
sort-key=a7
type=integer

[namelist:iau_nl=iau_cutoff_period]
compulsory=true
description=Cut-off period for LancWin filter in hours
range=0:
sort-key=a8

[namelist:iau_nl=iau_endmin]
compulsory=true
description=End minute of filtering period
fail-if=this < namelist:iau_nl=iau_startmin
sort-key=a6
type=integer

[namelist:iau_nl=iau_filtertype]
compulsory=true
description=filter type
help=Time-dependent weighting function for IAU increments
    = (for single-time step insertion,
    =choose 'Uniform')
sort-key=a4
trigger=namelist:iau_nl=iau_apexmin: 'Triangular';
       =namelist:iau_nl=iau_cutoff_period: 'LancWin';
       =namelist:iau_nl=iau_sbe_period: 'Dolph'
value-titles='Uniform','Triangular','LancWin','Dolph'
values=1,2,3,4

[namelist:iau_nl=iau_nontrop_max_p]
compulsory=true
description=Maximum non-trop pressure
range=0:1.0e5
type=real

[namelist:iau_nl=iau_nontrop_max_q]
compulsory=true
description=Upper limit to apply to non-trop q
help=Upper limit to apply to non-tropospheric moisture
type=real

[namelist:iau_nl=iau_nontrop_max_rh]
compulsory=true
description=Maximum non-tropospheric RH
range=0:1
type=real

[namelist:iau_nl=iau_nontrop_min_q]
compulsory=true
description=Lower limit to apply to non-trop q
help=Lower limit to apply to non-tropospheric moisture
range=0:0.0001
type=real

[namelist:iau_nl=iau_qlimitscallfreq]
compulsory=true
description=QLimits call frequency (usually 2)
trigger=namelist:iau_nl=iau_trop_min_rh: 1,2,
       =3;
       =namelist:iau_nl=l_iau_rmnontropqincs: 1,2,
       =3;
       =namelist:iau_nl=iau_trop_min_p: 1,2,
       =3;
       =namelist:iau_nl=iau_trop_max_pv: 1,2,
       =3;
       =namelist:iau_nl=iau_nontrop_max_p: 1,2,3
values=0,1,2,3

[namelist:iau_nl=iau_sbe_period]
compulsory=true
description=Stop-band edge period for Dolph filter
range=0:
sort-key=a9
type=real

[namelist:iau_nl=iau_startmin]
compulsory=true
description=Start minute of filtering period
sort-key=a5
type=integer

[namelist:iau_nl=iau_trop_max_pv]
compulsory=true
type=real

[namelist:iau_nl=iau_trop_min_p]
compulsory=true
type=real

[namelist:iau_nl=iau_trop_min_rh]
compulsory=true
description=Lower limit to apply to tropospheric RH
range=0:1
type=real

[namelist:iau_nl=l_iau]
compulsory=true
description=Switches IAU scheme on/off
sort-key=a1
trigger=namelist:iau_nl=num_iau_incs: .true.;
       =namelist:iau_nl=l_iau_specifyinc1filter: .true.;
       =namelist:iau_nl=iau_filtertype: .true.;
       =namelist:iau_nl=iau_startmin: .true.;
       =namelist:iau_nl=iau_endmin: .true.;
       =namelist:iau_nl=iau_apexmin: .true.;
       =namelist:iau_nl=iau_cutoff_period: .true.;
       =namelist:iau_nl=iau_sbe_period: .true.;
       =namelist:iau_nl=l_iau_incdiags: .true.;
       =namelist:iau_nl=l_iau_calcexnerincs: .true.;
       =namelist:iau_nl=l_iau_calcthetaincs: .true.;
       =namelist:iau_nl=l_iau_calcrhoincs: .true.;
       =namelist:iau_nl=l_iau_inctstar: .true.;
       =namelist:iau_nl=l_iau_inctstar_tile: .true.;
       =namelist:iau_nl=l_iau_inctsurf_snow: .true.;
       =namelist:iau_nl=l_iau_usesoilmperts: .true.;
       =namelist:iau_nl=l_iau_usesfctempperts: .true.;
       =namelist:iau_nl=l_iau_resetpoles: .true.;
       =namelist:iau_nl=l_iau_applyqtcorrections: .true.;
       =namelist:iau_nl=l_iau_add_qt_prime_to_q: .true.;
       =namelist:iau_nl=l_iau_dumpts0state: .true.;
       =namelist:iau_nl=l_iau_incrementice: .true.;
       =namelist:iau_nl=l_iau_scalecloud: .true.;
       =namelist:iau_nl=l_iau_limitupperthetaincs: .true.;
       =namelist:iau_nl=l_iau_setozonemin: .true.;
       =namelist:iau_nl=l_iau_qlimitsdiags: .true.;
       =namelist:iau_nl=iau_qlimitscallfreq: .true.;
       =namelist:iau_nl=l_iau_rmnontropqincs: .true.;
       =namelist:iau_nl=iau_trop_min_rh: .true.;
       =namelist:iau_nl=iau_nontrop_max_rh: .true.;
       =namelist:iau_nl=iau_nontrop_max_q: .true.;
       =namelist:iau_nl=iau_nontrop_min_q: .true.;
       =namelist:iau_nl=iau_trop_min_p: .true.;
       =namelist:iau_nl=iau_trop_max_pv: .true.;
       =namelist:iau_nl=iau_nontrop_max_p: .true.;
       =namelist:iau_nl=l_iau_ignoretoplevthetaincs: .true.;
       =namelist:iau_nl=diagcloud_applycomplimits: .true.;
       =namelist:iau_nl=diagcloud_nummaxloops: .true.;
       =namelist:iau_nl=diagcloud_tol_q: .true.;
       =namelist:iau_nl=diagcloud_tol_fm: .true.;
       =namelist:iau_nl=diagcloud_qn_compregimelimit: .true.
type=logical

[namelist:iau_nl=l_iau_add_qt_prime_to_q]
compulsory=true
description=add qt_prime to q,bypassing Var_DiagCloud
trigger=namelist:iau_nl=diagcloud_applycomplimits: .false.;
       =namelist:iau_nl=diagcloud_nummaxloops: .false.;
       =namelist:iau_nl=diagcloud_tol_q: .false.;
       =namelist:iau_nl=diagcloud_tol_fm: .false.;
       =namelist:iau_nl=diagcloud_qn_compregimelimit: .false.
type=logical

[namelist:iau_nl=l_iau_applyqtcorrections]
compulsory=true
description=Apply corrections for processing of qT incs
type=logical

[namelist:iau_nl=l_iau_calcexnerincs]
compulsory=true
description=Use p increments to calculate exner incs
help=Use p increments to calculate exner incs as an
    = alternative to using incs in increment file
type=logical

[namelist:iau_nl=l_iau_calcrhoincs]
compulsory=true
description=Calculate rho increments from exner,theta and q incs
help=Calculate rho increments from exner,
    =theta and q increments as an
    = alternative to using incs in increment file
type=logical

[namelist:iau_nl=l_iau_calcthetaincs]
compulsory=true
description=Use p increments using exner and q incs
help=Calculate theta increments using exner and q incs as an
    = alternative to using incs in increment file
type=logical

[namelist:iau_nl=l_iau_dumpts0state]
compulsory=true
description=Write dump immediately after TS 0 call to IAU
help=Write out model state immediately after timestep-zero call to IAU
type=logical

[namelist:iau_nl=l_iau_ignoretoplevthetaincs]
compulsory=true
description=Ignore top-level theta increments
type=logical

[namelist:iau_nl=l_iau_incdiags]
compulsory=true
description=Write increment diagnostics?
help=Switch to enable IAU diagnostics
type=logical

[namelist:iau_nl=l_iau_incrementice]
compulsory=true
description=Diagnose ice cloud increments from qT increments
help=Diagnose ice cloud increments as well as humidity and liquid
    =cloud increments from qT increments
type=logical

[namelist:iau_nl=l_iau_inctstar]
compulsory=true
description=Increment surface temperature
help=Add level-one temperature increments to surface temperature and
    =top-level soil temperature
type=logical

[namelist:iau_nl=l_iau_inctstar_tile]
compulsory=true
description=Increment surface temperature on tiles
help=Add level-one temperature increments to surface temperature on
    =land-surface tiles
type=logical

[namelist:iau_nl=l_iau_inctsurf_snow]
compulsory=true
description=Increment snow temperature
help=Add level-one temperature increments to snow temperature
type=logical

[namelist:iau_nl=l_iau_limitupperthetaincs]
compulsory=true
description=Limit size of upper level theta increments
type=logical

[namelist:iau_nl=l_iau_qlimitsdiags]
compulsory=true
description=Write diagnostics from QLimits
type=logical

[namelist:iau_nl=l_iau_resetpoles]
compulsory=true
description=Reset polar rows to mean values
help=Reset polar rows of relevant increment fields to their mean values
type=logical

[namelist:iau_nl=l_iau_rmnontropqincs]
compulsory=true
description=Remove non-tropospheric q increments
help=Remove non-tropospheric moisture increments
trigger=namelist:iau_nl=iau_nontrop_max_rh: .false.;
       =namelist:iau_nl=iau_nontrop_max_q: .false.;
       =namelist:iau_nl=iau_nontrop_min_q: .false.
type=logical

[namelist:iau_nl=l_iau_scalecloud]
compulsory=true
description=Scale diagnosed humidity and cloud increments to be within
           =physical bounds
help=If diagnosing humidity and cloud increments from qT increments,
    =scale increments to be within physical bounds
type=logical

[namelist:iau_nl=l_iau_setozonemin]
compulsory=true
description=Reset negative ozone values to ozone min
type=logical

[namelist:iau_nl=l_iau_specifyinc1filter]
compulsory=true
description=Specify filter for first increment file?
sort-key=a3
trigger=namelist:iau_nl=iau_filtertype: .true.;
       =namelist:iau_nl=iau_startmin: .true.;
       =namelist:iau_nl=iau_endmin: .true.;
       =namelist:iau_nl=iau_apexmin: .true.;
       =namelist:iau_nl=iau_cutoff_period: .true.;
       =namelist:iau_nl=iau_sbe_period: .true.;
type=logical

[namelist:iau_nl=l_iau_usesfctempperts]
compulsory=true
description=Include surface temperature perturbations
help=Include surface temperature perturbations and add to TStar
    =and top-level soil temperature
type=logical

[namelist:iau_nl=l_iau_usesoilmperts]
compulsory=true
description=Add soil moisture perturbations to soil-levels
type=logical

[namelist:iau_nl=num_iau_incs]
compulsory=true
description=Number of increment files
range=1:99
sort-key=a2
type=integer

[namelist:intfcnsta]
compulsory=true
ns=namelist/pending/um/intfcnsta

[namelist:io_control]
compulsory=true
description=Enable viewing of latent variables to edit advanced I/O options.
ns=namelist/um/io_control

[namelist:io_control=io_data_alignment]
compulsory=false
description=Data alignment on disk
help=Specifies how the beginning of data fields are aligned on disk,
    =measured
    =in 64-bit words. For optimal performance on GPFS filesystems this should
    =be the same as the I/O buffer size. The default value is 524288 (= 4 MB).
    =Other values may be appropriate for other architectures.
range=0:
sort-key=d02
type=integer

[namelist:io_control=io_external_control]
compulsory=true
description=True => Subjob mechanism for the UM is activated
help=On closing a UM output file named um_file,
    =a um_file.done is created in the run directory.
sort-key=a01
type=logical

[namelist:io_control=io_field_padding]
compulsory=false
description=Padding between fields
help=Specifies how individual data fields are padded out in UM output files,
    =measured in 64-bit words. The default value is 512 (= 4 KB). In older UM
    =releases this function was served by the UM_SECTOR_SIZE environment
    =variable.
    =
    =When buffered I/O is active a small value is generally more appropriate,
    =because write sizes are determined by the buffer size.
range=0:
sort-key=d01
type=integer

[namelist:io_control=io_rbuffer_count]
compulsory=false
description=Read buffers per input stream
help=The number of read buffer blocks to use when buffered I/O is active. The
    =optimal value for the Met Office GPFS configuration is 4,
    =which is the
    =default. Other values may be appropriate for other architectures.
    =
    =This option is only valid when using the C95_2B scheme for I/O.
range=0:
sort-key=c02
type=integer

[namelist:io_control=io_rbuffer_prefetch]
compulsory=false
description=No. of read buffers to prefetch
fail-if=this > namelist:io_control=io_rbuffer_count; # No. of read blocks to prefetch greater than no. of read buffers
help=The number of read blocks a helper thread will try to prefetch ahead of the
    =current file position. This should be less than or equal to
    =io_rbuffer_count. The optimal value for the Met Office GPFS configuration
    =is 1,
    =which is the default.
    =
    =This option is only valid when using the C95_2B scheme for I/O.
range=0:
sort-key=c03
type=integer

[namelist:io_control=io_rbuffer_size]
compulsory=false
description=Read buffer size (2B I/O only)
help=Specifies the size of the internal buffer used by read operations in the
    =UM C layer,
    =measured in 64-bit words. The optimal value for the Met Office
    =GPFS configuration is 524288 (= 4 MB),
    =which is the default. Other values
    =may be appropriate for other architectures.
    =
    =This option is only valid when using the C95_2B scheme for I/O.
range=256:
sort-key=c01
type=integer

[namelist:io_control=io_rbuffer_update]
compulsory=false
description=Discard/update read cached blocks on writing
help=Set the policy for coherence between read caching and write caching:
    =
    =  Discard:  read cached blocks are discarded on writing
    =  Update:   read cached blocks are updated by writes
    =
    =When available,
    =the default policy is to update cached blocks.
    =
    =This option is only valid when using the C95_2B scheme for I/O.
sort-key=c04
value-titles=Discard,Update
values=0,1

[namelist:io_control=io_timing]
compulsory=true
description=Time IO Operations
help=IO timing information provides a low level diagnostic of data
    =transfer rates. It should not be used for normal runs as it may slow
    =code execution.
sort-key=e01
value-titles=Off,On
values=0,1

[namelist:io_control=io_wbuffer_size]
compulsory=false
description=Write buffer size
help=Specifies the size of the internal buffer used by write operations in the
    =UM C layer,
    =measured in 64-bit words. The optimal value for the Met Office
    =GPFS configuration is 524288 (= 4 MB),
    =which is the default. Other values
    =may be appropriate for other architectures.
range=256:
sort-key=b01
type=integer

[namelist:ioscntl]
compulsory=true
ns=namelist/um/ioscntl

[namelist:ioscntl=ios_acquire_model_prsts]
compulsory=false
description=false => I/O servers retain output level from IOSCNTL namelist
           =true  => I/O servers acquire output level from atmospheric model
help=The I/O servers do not read the majority of UM namelist files,
    =including
    =those that set output levels.
    =
    =The servers therefore start with a separate initial output level defined
    =in this namelist. If true,
    =this option will cause the model setting
    =(PrintStatus) to take precedence when it becomes available.
    =
    =Note that some output is generated by the I/O server during
    =initialisation of the UM regardless of whether the I/O server is
    =configured,
    =and so the I/O server output level should still be set even
    =if this option is active.
type=logical

[namelist:ioscntl=ios_as_concurrency]
compulsory=false
description=The number of accelerated I/O server transactions that may be
           =initiated before checking for completion.
help=The number of coalesced accelerated transactions that the atmosphere
    =model may initiate before having to check for completion. It includes
    =the number genuinely "in-flight" and those that have been created and in
    =the process of being packed. It can be thought of as the number of
    =concurrent in-flight operations decoupling the model from the I/O server.
    =
    =Increasing this value increases performance and,
    =proportionally,
    =the
    =memory overhead on each task. It is recommended that the minimum is the
    =number of units in use by the subsystems selected plus one to avoid
    =pathological performance problems (e.g. with only accelerated dumps a
    =minimum value of 2 is recommended).
    =
    =Note that an operation is considered completed when the I/O server has
    =processed it.
ns=namelist/um/ioscntl/accel
range=1:1000
# used when ios_use_async_stash=.true. OR ios_use_async_dump=.true.
type=integer

[namelist:ioscntl=ios_async_levs_per_pack]
compulsory=false
description=Number of field levels to send in a single accelerated transaction
help=The number of field levels to coalesce into a single message for
    =asynchronous (accelerated) dump or STASH output messages. Asynchronous
    =dump and STASH output messages can pack multiple field levels into a
    =single transaction before dispatch to an I/O server. Increasing this
    =value will result in larger MPI messages (that are more efficient on
    =most platforms),
    =but also increase memory overhead and delay sending a
    =particular model level.
# used when ios_use_async_stash=.true. OR ios_use_async_dump=.true.
ns=namelist/um/ioscntl/accel
range=1:1000
type=integer

[namelist:ioscntl=ios_async_send_null]
compulsory=false
description=Send empty tiles to I/O server
           =false => Subdomains do not send null data for STASH output
           =true  => Subdomains send null data for STASH output
help=If true,
    =send null data for output when using asynchronous (accelerated)
    =STASH output.
    =
    =For subdomained output requests,
    =processors with no relevant data can
    =send data or not. Not sending this null data reduces network traffic.
    =Choosing to send empty tiles increases bandwidth but maintains the same
    =message footprint for all packed payloads,
    =which may be advantageous in
    =forcing communications to a particular low level MPI protocol.
    =Which is best will be hardware and MPI layer dependent.
ns=namelist/um/ioscntl/accel
type=logical

[namelist:ioscntl=ios_async_stats]
compulsory=false
description=Report message characteristics
           =true => Report characteristics of accelerated output operations
help=If true,
    =report details about communications sizes used by asynchronous
    =(accelerated) STASH and dump operations.
# used when ios_use_async_stash=.true. OR ios_use_async_dump=.true.
ns=namelist/um/ioscntl/accel
type=logical

[namelist:ioscntl=ios_backoff_interval]
compulsory=false
description=Time delay before an I/O server will retry a failed operation or check the queue for work (microseconds).
help=The time delay in microseconds that the I/O server will delay before
    =retrying an operation,
    =or checking the queue for work.
    =It is intended to allow a thread running on multithreaded hardware
    =(e.g. SMT) to yield resources to other executing threads,
    =when idle.
    =Setting a large value (more than a few milliseconds) may have a
    =degrading effect on job performance.
range=0:1e7
type=integer

[namelist:ioscntl=ios_buffer_size]
compulsory=false
description=Maximum memory buffer for each I/O server (MB)
help=The amount of data (in MB) that each I/O server can have outstanding.
    =
    =Increasing this smooths the I/O load over time,
    =but means there is more
    =uncommitted data in the case of a failure.
    =
    =The value must be small enough to be accommodated by resource limits
    =given to the scheduler,
    =but large enough to accomodate the largest
    =single request made (usually the size of an uncompressed horizontal
    =level * ios_async_levs_per_pack,
    =but in general dependent on what the
    =model decides to output).
range=500:10000
type=integer

[namelist:ioscntl=ios_concurrency]
compulsory=false
description=Number of I/O server transactions the atmosphere model may initiate before checking for completion
help=The number of I/O server transactions that the atmosphere model may
    =initiate before having to check for completion.
    =
    =It can be thought of as the number of concurrent in-flight operations
    =decoupling the model from the I/O server. Note completion of such an
    =operation is the point at which receipt has been acknowledged,
    =not when
    =the I/O server has processed it.
range=1:1000
type=integer

[namelist:ioscntl=ios_concurrency_max_mem]
compulsory=true
description=Maximum memory (MB) to be used by the general protocol queue
help=Sets a limit on the total ammount of data that can be used on the client
    = by the general protocol queue. A request exceeding this will stall the
    = model until sufficient memory becomes available.
type=integer

[namelist:ioscntl=ios_debug_no_packing]
compulsory=false
description=DEBUG: Omit data packing
           =false => Compress output as normal
           =true  => Ignore packing profiles for STASH and dump output
help=If true,
    =when using asynchronous (accelerated) STASH or dump output the
    =packing profile will be ignored and data will be written uncompressed.
    =
    =Intended for debugging purposes only.
# used when ios_use_async_stash=.true. OR ios_use_async_dump=.true.
ns=namelist/um/ioscntl/debug
type=logical

[namelist:ioscntl=ios_debug_no_subdomaining]
compulsory=false
description=DEBUG: Omit data subdomaining
           =false => Write field as normal
           =true  => Write entire STASH fields,
           =ignoring spatial profiles
help=If true,
    =when using asynchronous (accelerated) STASH output the packing
    =profile will be ignored and data will be written uncompressed.
    =
    =Intended for debugging purposes only.
ns=namelist/um/ioscntl/debug
type=logical

[namelist:ioscntl=ios_debug_no_write]
compulsory=false
description=DEBUG: Omit data writes
           =false => Write to disk as normal
           =true  => Disable output to disk for STASH and dump output
help=If true,
    =when using asynchronous (accelerated) STASH or dump output the
    =actual writing to disk will be disabled.
    =
    =Intended for debugging purposes only.
# used when ios_use_async_stash=.true. OR ios_use_async_dump=.true.
ns=namelist/um/ioscntl/debug
type=logical

[namelist:ioscntl=ios_decomp_model]
compulsory=true
description=Specify how the atmosphere grid is distributed over a parallel IO server
help=0: processor rows are evenly distributed over servers with surpluss assigned from rank 0 upward
    =1: processor rows are evenly distributed over servers with surpluss assigned from rank N downward
range=0:1
type=integer

[namelist:ioscntl=ios_force_threading_mode]
compulsory=false
description=Override thread level returned by GC_INIT_THREAD
help=see UM ticket #4333
values=0,1,2,3

[namelist:ioscntl=ios_interleave]
compulsory=true
description=false => Assigned in order
           =true  => Assigned by round robin
help=Specifies whether the distribution of tasks for each I/O server is
    =assigned in sequential order (false) or are interleaved by round robin
    =(true).
type=logical

[namelist:ioscntl=ios_local_ro_files]
compulsory=false
description=false => Read-only files can be read by I/O servers.
           =true  => Read-only files are read on rank 0.
help=Because the I/O servers treat all operations in strict order opening a
    =read-only file on the I/O server can result in delays while other
    =pending operations are completed.
    =
    =If this option is set to true files opened with read-only attributes
    =will not use an I/O server,
    =and will be read on MPI rank 0.
type=logical

[namelist:ioscntl=ios_lock_meter]
compulsory=false
description=True => Report time spent waiting for locks
help=If TRUE,
    =measure and report time spent waiting for OpenMP locks,
    =including locks on MPI in serialised MPI implementations and locks on the shared memory queue.
type=logical

[namelist:ioscntl=ios_offset]
compulsory=false
description=Rank offset of first I/O server: first task at Task Offset + Task
           =Spacing - 1
help=The offset from the first rank of the first I/O server.
    =
    =The first I/O server is located at rank ios_offset +
    =namelist:ioscntl=ios_task_spacing - 1.
    =
    =Subsequent I/O server processes are namelist:ioscntl=ios_spacing
    =tasks apart.
ns=namelist/um/ioscntl/processor
range=-1024:1024
type=integer

[namelist:ioscntl=ios_relaytoslaves]
compulsory=true
description=Relay commands from lead IOS task to IOS team
help=Switches between two modes of operation. A value of false will drive
    = each IOS team member directly,
    =where true will drive only the lead IO
    = server task,
    =who will forward commands as needed
type=logical

[namelist:ioscntl=ios_serialise_mpi_calls]
compulsory=false
description=false => Avoid serial access (if supported)
           =true => Force serial access to MPI library
help=Lock access to the MPI library so that two threads can not call it
    =simultaneously.
    =
    =A value of 'false' will allow the IO server to determine whether or not
    =a particular MPI library supports this. A value of 'true' will force the
    =behaviour (which may be useful if the MPI library is suspected to
    =contain threading bugs).
type=logical

[namelist:ioscntl=ios_spacing]
compulsory=false
description=Spacing between I/O servers (I/O server processors at
           =r+n,
           =r+2n,r+3n,... where r is a constant offset from rank 0)
help=Specifies the gap between IO servers in MPI_COMM_WORLD.
    =
    =For optimal performance the spacing should ensure that each HPC node has
    =no more than one IO server; at the Met Office,
    =a node is typically
    =running 32 MPI tasks with 2 OpenMP threads. A value of 0 will
    =distribute the tasks evenly through the job.
ns=namelist/um/ioscntl/processor
range=0:1024
type=integer

[namelist:ioscntl=ios_tasks_per_server]
compulsory=false
description=Number of MPI tasks used by each I/O server.
           =Cannot be greater than the number of processors N-S.
help=Select how many MPI tasks will be used for each IO server.
    =
    =The total number of tasks used by the IO Server subsystem is this
    =multiplied by the number of servers. The parallelism specified must be
    =the same or less than the decomposition of the atmosphere model in the
    =north-south direction.
ns=namelist/um/ioscntl/processor
range=1:32
trigger=namelist:ioscntl=ios_interleave: this > 1
type=integer

[namelist:ioscntl=ios_thread_0_calls_mpi]
compulsory=false
description=false => Any OpenMP thread can call the MPI library (if supported)
           =true => Only OpenMP thread 0 can call the MPI library
help=Force the I/O server to only allow thread zero in an OpenMP team to call
    =the MPI library.
    =
    =A value of 'false' will allow the I/O server to determine whether or not
    =a particular MPI library supports arbitrary threads calling the library.
    =A value of 'true' will force the behaviour (which may be useful if the
    =MPI library is suspected to contain threading bugs).
type=logical

[namelist:ioscntl=ios_timeout]
compulsory=false
description=Time an I/O process will wait for an operation to complete
           =(seconds)
help=The time in seconds that a component of the I/O server will wait when it
    =is expecting an operation to complete. It allows the model to abort with
    =meaningful debug information in the event of a deadlock.
range=30:1e5
type=integer

[namelist:ioscntl=ios_unit_alloc_policy]
compulsory=false
description=1 => Static allocation based on unit number.
           =2 => Static allocation based on usage order.
           =3 => Round robin dynamic reallocation.
           =4 => Load balanced dynamic reallocation.
help=Specifies how a FORTRAN unit is mapped onto one of the available I/O
    =servers.
    =
    =1: Static allocation based on unit number. All allowed units are
    =assigned to servers at start up with a round robin allocation.
    =
    =2: Static allocation based on usage order. Units are assigned to servers
    =with a round robin allocation policy as they are first used.
    =
    =3: Dynamic allocation at reinitialisation points (round robin). Units
    =are generally allocated on first use as with option 2,
    =but the model is
    =able to re-map the allocation during execution when it safe to do so
    =(e.g. new dump files and STASH reinitialisation),
    =on a round robin
    =(deterministic) basis.
    =
    =4: Dynamic allocation at reinitialisation points (load balanced). As 3,
    =but using load balancing based upon the I/O server states. Load
    =balancing provides a more optimal mapping in most cases but is more
    =expensive to perform.
values=0,1,2,3,4

[namelist:ioscntl=ios_use_async_dump]
compulsory=false
description=True => Use asynchronous communications
help=Allows the I/O server to use asynchronous communications to accelerate dump output.
ns=namelist/um/ioscntl/accel
type=logical

[namelist:ioscntl=ios_use_async_stash]
compulsory=false
description=true => Use asynchronous communications
help=Allows the I/O server to use asynchronous communications to accelerate
    =diagnostic output
ns=namelist/um/ioscntl/accel
trigger=namelist:ioscntl=ios_async_send_null: .true.;
       =namelist:ioscntl=ios_debug_no_subdomaining: .true.;
type=logical

[namelist:ioscntl=ios_verbosity]
compulsory=false
description=1 => Minimum
           =2 => Normal
           =3 => Operational
           =4 => Diagnostic
           =5 => Debug
help=Set the level of output from the I/O server:
    =
    =1 => Minimum output; essential messages only.
    =
    =2 => Normal output; standard informative messages and warnings.
    =
    =3 => Operational output; all informative messages and warnings.
    =
    =4 => Diagnostic output; all informative messages and warnings,
    =and
    =additional diagnostic messages.
    =
    =5 => Debug output; all informative messages and warnings,
    =additional
    =diagnostic messages,
    =and debugging messages. Note that some output is
    =generated by the I/O server during initialisation of the model,
    =even if
    =the I/O server is not configured for use.
values=1,2,3,4,5

[namelist:items]
compulsory=false
duplicate=true
ns=namelist/reconfiguration/items

[namelist:jules_csmin]
compulsory=true
ns=namelist/pending/um/jules_csmin

[namelist:jules_elevate]
compulsory=true
ns=namelist/pending/um/jules_elevate

[namelist:jules_nstypes]
compulsory=true
ns=namelist/pending/um/jules_nstypes

[namelist:jules_nstypes=nnvg]
compulsory=true
description=The number of non-plant surface types to be modelled.
help=The total number of surface types to be modelled is called 'ntype',
    =and is given by 'ntype = npft + nnvg'. In the standard setup,
    =JULES models 5 vegetation types and 4 non-vegetation types
    =('npft = 5',
    ='nnvg = 4').
    =Plant surfaces are always present first in any list of surfaces.
ns=namelist/pending/um/jules_nstypes
range=0:
sort-key=b
type=integer

[namelist:jules_nstypes=npft]
compulsory=true
description=The number of plant functional types to be modelled.
help=The total number of surface types to be modelled is called 'ntype',
    =and is given by 'ntype = npft + nnvg'. In the standard setup,
    =JULES models 5 vegetation types and 4 non-vegetation types
    =('npft = 5',
    ='nnvg = 4').
    =Plant surfaces are always present first in any list of surfaces.
ns=namelist/pending/um/jules_nstypes
range=0:
sort-key=a
type=integer

[namelist:jules_nvegparm]
compulsory=true
ns=namelist/pending/um/jules_nvegparm

[namelist:jules_nvegparm=albsnc_nvg_io]
description=Non-vegetated surfaces: Snow-covered albedo
fail-if=len(this) != namelist:jules_nstypes=nnvg
help=Only used when namelist:jules_switches=l_snow_albedo is false.
length=:
ns=namelist/um/section01/land_surface
range=0:1
sort-key=alb_c01
type=real

[namelist:jules_nvegparm=albsnf_nvg_io]
compulsory=true
description=Non-vegetated surfaces: Snow-free albedo
fail-if=len(this) != namelist:jules_nstypes=nnvg
help=The snow-free albedo of bare soil is supplied by an ancillary field,
    =so is usually set to -1.00.
length=:
ns=namelist/um/section01/land_surface
range=-1:1
sort-key=alb_c02
type=real

[namelist:jules_nvegparm=albsnf_nvgl_io]
description=Lower limit on albsnf_nvg_io
fail-if=len(this) != namelist:jules_nstypes=nnvg
help=Used when namelist:jules_switches=l_albedo_obs is true.
length=:
ns=namelist/um/section01/land_surface
range=0:1
sort-key=alb_c03
type=real

[namelist:jules_nvegparm=albsnf_nvgu_io]
description=Upper limit on albsnf_nvg_io
fail-if=len(this) != namelist:jules_nstypes=nnvg
help=Used when namelist:jules_switches=l_albedo_obs is true.
length=:
ns=namelist/um/section01/land_surface
range=0:1
sort-key=alb_c04
type=real

# From here on, the metadata for nvegparm are not complete, they are merely typed and lengthed correctly:
[namelist:jules_nvegparm=catch_nvg_io]
fail-if=len(this) != namelist:jules_nstypes=nnvg
length=:
type=real

[namelist:jules_nvegparm=ch_nvg_io]
fail-if=len(this) != namelist:jules_nstypes=nnvg
length=:
type=real

[namelist:jules_nvegparm=emis_nvg_io]
compulsory=true
description=Non-vegetated surfaces: Emissivity
fail-if=len(this) != namelist:jules_nstypes=nnvg
help=Surface emissivity of non-vegetated surfaces.
length=:
ns=namelist/um/section01/land_surface
range=0:1
sort-key=emiss_c01
type=real

[namelist:jules_nvegparm=gs_nvg_io]
fail-if=len(this) != namelist:jules_nstypes=nnvg
length=:
type=real

[namelist:jules_nvegparm=infil_nvg_io]
fail-if=len(this) != namelist:jules_nstypes=nnvg
length=:
type=real

[namelist:jules_nvegparm=vf_nvg_io]
fail-if=len(this) != namelist:jules_nstypes=nnvg
length=:
type=real

[namelist:jules_nvegparm=z0_nvg_io]
fail-if=len(this) != namelist:jules_nstypes=nnvg
length=:
type=real

[namelist:jules_nvegparm=z0hm_classic_nvg_io]
fail-if=len(this) != namelist:jules_nstypes=nnvg
length=:
type=real

[namelist:jules_nvegparm=z0hm_nvg_io]
fail-if=len(this) != namelist:jules_nstypes=nnvg
length=:
type=real

[namelist:jules_pftparm]
compulsory=true
ns=namelist/pending/um/jules_pftparm

# From here on, the metadata for pftparm are not complete, they are merely typed and lengthed correctly:
[namelist:jules_pftparm=a_wl_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

[namelist:jules_pftparm=a_ws_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

[namelist:jules_pftparm=albsnc_max_io]
description=Vegetated surfaces: Snow-covered albedo for large LAI.
fail-if=len(this) != namelist:jules_nstypes=npft
help=Only used when namelist:jules_switches=l_snow_albedo is false.
length=:
ns=namelist/um/section01/land_surface
range=0:1
sort-key=alb_b01
type=real

[namelist:jules_pftparm=albsnc_min_io]
description=Vegetated surfaces: Snow-covered albedo for zero LAI.
fail-if=len(this) != namelist:jules_nstypes=npft
help=Only used when namelist:jules_switches=l_snow_albedo is false.
length=:
ns=namelist/um/section01/land_surface
range=0:1
sort-key=alb_b02
type=real

[namelist:jules_pftparm=albsnf_max_io]
description=Vegetated surfaces: Snow-free albedo for large LAI.
#trigger = namelist:jules_pftparm=albsnf_maxl_io;
#          namelist:jules_pftparm=albsnf_maxu_io;
fail-if=len(this) != namelist:jules_nstypes=npft
help=Only used when namelist:jules_switches=l_spec_albedo is false.
length=:
ns=namelist/um/section01/land_surface
range=0:1
sort-key=alb_b03
type=real

[namelist:jules_pftparm=albsnf_maxl_io]
description=Lower limit on albsnf_max_io.
fail-if=len(this) != namelist:jules_nstypes=npft
help=Lower limit on albsnf_max_io when l_albedo obs is true.
length=:
ns=namelist/um/section01/land_surface
range=0:1
sort-key=alb_b04
type=real

[namelist:jules_pftparm=albsnf_maxu_io]
description=Upper limit on albsnf_max_io.
fail-if=len(this) != namelist:jules_nstypes=npft
help=Upper limit on albsnf_max_io when l_albedo obs is true.
length=:
ns=namelist/um/section01/land_surface
range=0:1
type=real

[namelist:jules_pftparm=alnir_io]
description=Vegetated surfaces: NIR Leaf reflection coeff.
#trigger = namelist:jules_pftparm=alniru_io;
#          namelist:jules_pftparm=alnirl_io;
fail-if=len(this) != namelist:jules_nstypes=npft
help=Leaf reflection coefficient for Near Infra Red wavelengths > 690nm.
    =Used when namelist:jules_switches=l_spec_albedo is true.
length=:
ns=namelist/um/section01/land_surface
range=0:1
sort-key=alb_b08
type=real

[namelist:jules_pftparm=alnirl_io]
description=Lower limit on alnir_io
fail-if=len(this) != namelist:jules_nstypes=npft
help=Lower limit on alnir_io,
    =used when namelist:jules_switches=l_spec_albedo
    =and namelist:jules_switches=l_albedo_obs are both true.
length=:
ns=namelist/um/section01/land_surface
range=0:1
sort-key=alb_b10
type=real

[namelist:jules_pftparm=alniru_io]
description=Upper limit on alnir_io
fail-if=len(this) != namelist:jules_nstypes=npft
help=Upper limit on alnir_io,
    =used when namelist:jules_switches=l_spec_albedo
    =and namelist:jules_switches=l_albedo_obs are both true.
length=:
ns=namelist/um/section01/land_surface
range=0:1
sort-key=alb_b09
type=real

[namelist:jules_pftparm=alpar_io]
description=Vegetated surfaces: VIS Leaf reflection coeff.
#trigger = namelist:jules_pftparm=alparu_io;
#          namelist:jules_pftparm=alparl_io;
fail-if=len(this) != namelist:jules_nstypes=npft
help=Leaf reflection coefficient for wavelengths < 690nm (Photosyntehtically Active Radiation).
    =Used when namelist:jules_switches=l_spec_albedo is true.
length=:
ns=namelist/um/section01/land_surface
range=0:1
sort-key=alb_b05
type=real

[namelist:jules_pftparm=alparl_io]
description=Lower limit on alpar_io
fail-if=len(this) != namelist:jules_nstypes=npft
help=Lower limit on alpar_io,
    =used when namelist:jules_switches=l_spec_albedo
    = and namelist:jules_switches=l_albedo_obs are both true.
length=:
ns=namelist/um/section01/land_surface
sort-key=alb_b07
type=real

[namelist:jules_pftparm=alparu_io]
description=Upper limit on alpar_io
fail-if=len(this) != namelist:jules_nstypes=npft
help=Upper limit on alpar_io,
    =used when namelist:jules_switches=l_spec_albedo and
    =namelist:jules_switches=l_albedo_obs are both true.
length=:
ns=namelist/um/section01/land_surface
range=0:1
sort-key=alb_b06
type=real

[namelist:jules_pftparm=alpha_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

[namelist:jules_pftparm=b_wl_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

[namelist:jules_pftparm=c3_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=integer

[namelist:jules_pftparm=catch0_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

[namelist:jules_pftparm=dcatch_dlai_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

[namelist:jules_pftparm=dgl_dm_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

[namelist:jules_pftparm=dgl_dt_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

[namelist:jules_pftparm=dqcrit_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

# Adding this to the run_dust section:
[namelist:jules_pftparm=dust_veg_scj_io]
description=Scaling factor for each land surface type
fail-if=len(this) != namelist:jules_nstypes=npft
help=This is applied when dust_veg_emiss is non-zero and
    =allows the dust emission from different land surface
    =types to be reduced/switched off.
length=:
ns=namelist/um/section17/run_dust
range=0:
sort-key=a9
type=real

[namelist:jules_pftparm=dz0v_dh_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

[namelist:jules_pftparm=emis_pft_io]
description=Vegetated surfaces: Emissivity
fail-if=len(this) != namelist:jules_nstypes=npft
help=Surface emissivity of vegetated surfaces.
length=:
ns=namelist/um/section01/land_surface
range=0:1
sort-key=emiss_b01
type=real

[namelist:jules_pftparm=eta_sl_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

[namelist:jules_pftparm=f0_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

[namelist:jules_pftparm=fd_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

[namelist:jules_pftparm=fsmc_of_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

[namelist:jules_pftparm=g_leaf_0_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

[namelist:jules_pftparm=glmin_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

[namelist:jules_pftparm=infil_f_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

[namelist:jules_pftparm=kext_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

[namelist:jules_pftparm=kpar_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

[namelist:jules_pftparm=neff_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

[namelist:jules_pftparm=nl0_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

[namelist:jules_pftparm=nr_nl_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

[namelist:jules_pftparm=ns_nl_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

[namelist:jules_pftparm=omega_io]
description=Vegetated surfaces: VIS Leaf scattering coeff.
#trigger = namelist:jules_pftparm=omegau_io;
#          namelist:jules_pftparm=omegal_io;
fail-if=len(this) != namelist:jules_nstypes=npft
help=Leaf scattering coefficient for wavelengths < 690nm (Photosyntehtically Active Radiation).
    =Used when namelist:jules_switches=l_spec_albedo is true.
length=:
ns=namelist/um/section01/land_surface
range=0:1
sort-key=alb_b11
type=real

[namelist:jules_pftparm=omegal_io]
description=Lower limit on omega_io
fail-if=len(this) != namelist:jules_nstypes=npft
help=Lower limit on omega_io,
    =used when namelist:jules_switches=l_spec_albedo
    =and namelist:jules_switches=l_albedo_obs are both true.
length=:
ns=namelist/um/section01/land_surface
range=0:1
sort-key=alb_b13
type=real

[namelist:jules_pftparm=omegau_io]
description=Upper limit on omega_io
fail-if=len(this) != namelist:jules_nstypes=npft
help=Upper limit on omega_io,
    =used when namelist:jules_switches=l_spec_albedo
    =and namelist:jules_switches=l_albedo_obs are both true.
length=:
ns=namelist/um/section01/land_surface
range=0:1
sort-key=alb_b12
type=real

[namelist:jules_pftparm=omnir_io]
description=Vegetated surfaces: NIR Leaf scattering coeff.
#trigger = namelist:jules_pftparm=omniru_io;
#          namelist:jules_pftparm=omnirl_io;
fail-if=len(this) != namelist:jules_nstypes=npft
help=Leaf scattering coefficient for Near Infra Red wavelengths > 690nm.
    =Used when namelist:jules_switches=l_spec_albedo is true.
length=:
ns=namelist/um/section01/land_surface
range=0:1
sort-key=alb_b14
type=real

[namelist:jules_pftparm=omnirl_io]
description=Lower limit on omega_io
fail-if=len(this) != namelist:jules_nstypes=npft
help=Lower limit on omega_io,
    =used when namelist:jules_switches=l_spec_albedo
    =and namelist:jules_switches=l_albedo_obs are both true.
length=:
ns=namelist/um/section01/land_surface
range=0:1
sort-key=alb_b16
type=real

[namelist:jules_pftparm=omniru_io]
description=Upper limit on omega_io
fail-if=len(this) != namelist:jules_nstypes=npft
help=Upper limit on omega_io,
    =used when namelist:jules_switches=l_spec_albedo
    =and namelist:jules_switches=l_albedo_obs are both true.
length=:
ns=namelist/um/section01/land_surface
range=0:1
sort-key=alb_b15
type=real

[namelist:jules_pftparm=orient_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

[namelist:jules_pftparm=r_grow_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

[namelist:jules_pftparm=rootd_ft_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

[namelist:jules_pftparm=sigl_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

[namelist:jules_pftparm=tleaf_of_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

[namelist:jules_pftparm=tlow_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

[namelist:jules_pftparm=tupp_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

[namelist:jules_pftparm=z0hm_classic_pft_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

[namelist:jules_pftparm=z0hm_pft_io]
fail-if=len(this) != namelist:jules_nstypes=npft
length=:
type=real

[namelist:jules_rad_param]
compulsory=true
ns=namelist/pending/um/jules_rad_param

[namelist:jules_seed]
compulsory=true
ns=namelist/pending/um/jules_seed

[namelist:jules_sigm]
compulsory=true
ns=namelist/pending/um/jules_sigm

[namelist:jules_snow_param]
compulsory=true
ns=namelist/pending/um/jules_snow_param

[namelist:jules_soil_param]
compulsory=true
ns=namelist/pending/um/jules_soil_param

[namelist:jules_surf_param]
compulsory=true
ns=namelist/pending/um/jules_surf_param

[namelist:jules_switches]
compulsory=true
ns=namelist/pending/um/jules_switches

[namelist:jules_switches=all_tiles]
compulsory=true
type=integer

# skeleton metadata for jules_switches, reals:
[namelist:jules_switches=b_pdm]
compulsory=false
type=real

[namelist:jules_switches=buddy_sea]
compulsory=true
type=integer

# skeleton metadata for jules_switches, integers:
[namelist:jules_switches=can_model]
compulsory=true
type=integer

[namelist:jules_switches=can_rad_mod]
compulsory=true
type=integer

[namelist:jules_switches=cor_mo_iter]
compulsory=true
type=integer

[namelist:jules_switches=dz_pdm]
compulsory=false
type=real

[namelist:jules_switches=frac_snow_subl_melt]
compulsory=true
type=integer

[namelist:jules_switches=i_aggregate_opt]
compulsory=true
description=Method of aggregating tiled properties
           = 0: Original option
           = 1: Separate aggregation
values=0,1

[namelist:jules_switches=i_modiscopt]
compulsory=true
type=integer

[namelist:jules_switches=i_sea_alb_method]
compulsory=true
description=Choice of model for the Ocean Surface Albedo (open water,
           =ice free):
           =1 => Initial method,Briegleb and Ramanathan,
           =1982.
           =2 => Barker and Li,1995.
           =3 => Jin et al. 2011.
help=1: Diffuse albedo constant (0.06),
    =Direct albedo from Briegleb and Ramanathan.
    =   Spectral and Diurnal Variations in Clear Sky Planetary Albedo. 1982.
    =   J. Appl. Met. doi:10.1175/1520-0450(1982)021<1160:SADVIC>2.0.CO;2.
    =
    =2: Diffuse albedo constant (0.06),
    =Direct albedo from Barker and Li.
    =   Improved simulation of clear-sky radiative transfer in the CCC-GCM. 1995.
    =   J. Climate. doi:10.1175/1520-0442(1995)008<2213:ISOCSS>2.0.CO;2.
    =
    =3: Direct and Diffuse albedo from Jin et al.
    =   A new parameterization of spectral and broadband ocean surface albedo. 2011.
    =   Optics Express. doi:10.1364/OE.19.026429.
ns=namelist/um/section01/sea_surface
trigger=namelist:jules_switches=l_sea_alb_var_chl: 3;
values=1,2,3

# Moved from run_blveg to jules_switches
[namelist:jules_switches=ilayers]
compulsory=false
help=Number of layers for canopy radiation model
range=1:100
title=Number of layers for canopy radiation model
type=integer

[namelist:jules_switches=iscrntdiag]
compulsory=true
type=integer

[namelist:jules_switches=iseaz0t]
compulsory=true
type=integer

[namelist:jules_switches=l_aggregate]
compulsory=true
trigger=namelist:recon=l_canopy_snow_throughfall: .false.;
       =namelist:jules_switches=i_aggregate_opt: .true.
type=logical

[namelist:jules_switches=l_albedo_obs]
compulsory=true
# triggers either albsnf_maxu/l or alparu/l, alniru/l etc
# depending on whether l_spec_albedo triggers albsnf_max or alpar:
#trigger = namelist:jules_pftparm=albsnf_maxu_io: .true.;
#          namelist:jules_pftparm=albsnf_maxl_io: .true.;
#trigger = namelist:jules_pftparm=alparu_io: .true.;
#          namelist:jules_pftparm=alparl_io: .true.;
#          namelist:jules_pftparm=alniru_io: .true.;
#          namelist:jules_pftparm=alnirl_io: .true.;
#          namelist:jules_pftparm=omegau_io: .true.;
#          namelist:jules_pftparm=omegal_io: .true.;
#          namelist:jules_pftparm=omniru_io: .true.;
#          namelist:jules_pftparm=omnirl_io: .true.;
#          namelist:jules_nvegparm=albsnf_nvgu_io: .true.;
#          namelist:jules_nvegparm=albsnf_nvgl_io: .true.;
description=Scale albedos of land-surface tiles to agree with obs
help=Allows the UM to read in an ancillary file containing albedos (either
    =SW(STASH 243) or VIS(STASH 244) and NIR(STASH 245)). The albedos of the
    =individual land-surface tiles are then scaled to match the supplied albedos
    =(within physical limits supplied in the JULES land surface nameslists). The
    =supplied albedos should be from an observed climatology or analysis system.
ns=namelist/um/section01/land_surface
sort-key=alb_a4
type=logical

[namelist:jules_switches=l_anthrop_heat_src]
compulsory=true
type=logical

[namelist:jules_switches=l_baseflow_corr]
compulsory=false
type=logical

[namelist:jules_switches=l_bvoc_emis]
compulsory=true
type=logical

[namelist:jules_switches=l_cice_alb]
compulsory=true
type=logical

[namelist:jules_switches=l_ctile]
compulsory=true
type=logical

[namelist:jules_switches=l_dolr_land_black]
compulsory=true
type=logical

[namelist:jules_switches=l_dpsids_dsdz]
compulsory=true
type=logical

[namelist:jules_switches=l_epot_corr]
compulsory=true
type=logical

[namelist:jules_switches=l_flake_model]
compulsory=true
type=logical

[namelist:jules_switches=l_land_ice_imp]
compulsory=true
type=logical

[namelist:jules_switches=l_pdm]
compulsory=true
type=logical

[namelist:jules_switches=l_phenol]
compulsory=true
type=logical

# skeleton metadata for jules_switches, logicals:
[namelist:jules_switches=l_point_data]
compulsory=true
type=logical

[namelist:jules_switches=l_rho_snow_corr]
compulsory=false
type=logical

[namelist:jules_switches=l_sea_alb_var_chl]
compulsory=true
description=Use spatially varying chlorophyll content
           =to calculate the open sea albedos
help=The Jin et al. parameterisation of open sea albedo includes chlorophyll content.
    =This can either be held constant at 0.5 mg m-3,
    =or input as an ancillary field.
ns=namelist/um/section01/sea_surface
type=logical

[namelist:jules_switches=l_sice_hadgem1a]
compulsory=true
type=logical

[namelist:jules_switches=l_sice_heatflux]
compulsory=true
type=logical

[namelist:jules_switches=l_sice_meltponds]
ns=namelist/um/section01
trigger=namelist:run_radiation=dt_bare: .true.;
       =namelist:run_radiation=dalb_bare_wet: .true.
type=logical

[namelist:jules_switches=l_sice_multilayers]
compulsory=true
type=logical

[namelist:jules_switches=l_sice_scattering]
ns=namelist/um/section01/sea_surface
trigger=namelist:run_radiation=pen_rad_frac: .true.;
       =namelist:run_radiation=sw_beta: .true.
type=logical

[namelist:jules_switches=l_snow_albedo]
compulsory=true
description=Include prognostic snow albedos.
#trigger = namelist:jules_pftparm=albsnc_max_io: .false.;
#          namelist:jules_pftparm=albsnc_min_io: .false.;
#          namelist:jules_nvegparm=albsnc_nvg_io: .false.;
fail-if=this == '.true.' and namelist:jules_switches=l_spec_albedo == '.false.'
help=The prognostic snow albedo scheme represents the effect of snow aging and
    =soot deposition on the albedo.
    =Only available when namelist:jules_switches=l_spec_albedo is true.
ns=namelist/um/section01/land_surface
sort-key=alb_a2
type=logical

[namelist:jules_switches=l_snowdep_surf]
compulsory=true
type=logical

[namelist:jules_switches=l_soil_sat_down]
compulsory=true
type=logical

[namelist:jules_switches=l_spec_alb_bs]
compulsory=true
description=Use a single value for both the direct and diffuse beams
help=Instead of a separate direct ('black' sky) and diffuse ('white' sky) albedos,
    =this
    =option will mean JULES returns a single albedo for both (a 'blue' sky albedo). At present,
    =this is follows the non-spectral albedo and just returns the diffuse albedo.
ns=namelist/um/section01/land_surface
sort-key=alb_a3
type=logical

[namelist:jules_switches=l_spec_albedo]
compulsory=true
#          namelist:jules_pftparm=alpar_io: .true.;
#          namelist:jules_pftparm=alnir_io: .true.;
#          namelist:jules_pftparm=omega_io: .true.;
#          namelist:jules_pftparm=omega_io: .true.;
#          namelist:jules_pftparm=omnir_io: .true.;
#          namelist:jules_pftparm=omnir_io: .true.;
# Cannot include these triggers as it will mean that the snow
# parameters in jules_pftparm and and jule_nvegparm cannot appear
# as the condition would become l_spec_albedo or l_snow_albedo is false
# and there are no OR in rose triggers...
#          namelist:jules_switches=l_snow_albedo: .true.;
#          namelist:jules_pftparm=albsnc_max_io: .false.;
#          namelist:jules_pftparm=albsnc_min_io: .false.;
#          namelist:jules_nvegparm=albsnc_nvg_io: .false.;
description=Include spectral land-surface albedos
help=The spectral land-surface albedos set different albedo values
    =for the VIS and NIR bands. By default this includes separate values
    =for direct ('black' sky) and diffuse ('white' sky) albedos.
ns=namelist/um/section01/land_surface
sort-key=alb_a1
# triggers other options becom available, and switches between
# different sets of paramaeters:
trigger=namelist:jules_switches=l_spec_alb_bs: .true.;
       =namelist:jules_pftparm=albsnf_max_io: .false.;
type=logical

[namelist:jules_switches=l_spec_sea_alb]
compulsory=true
description=Use spectrally varying open sea albedos
help=When namelist:jules_switches=i_sea_alb_method == 1 or 2,
    =spectrally varying
    =sea albedos are produced only when the spectral file contains 6 SW bands
    =identical to those used in HadGEM1.
    =
    =When namelist:jules_switches=i_sea_alb_method == 3,
    =the spectral variability is
    =calculated as per the Jin et al. parameterisation.
ns=namelist/um/section01/sea_surface
type=logical

[namelist:jules_switches=l_ssice_albedo]
ns=namelist/um/section01/sea_surface
trigger=namelist:run_radiation=alphab: .true.;
       =namelist:run_radiation=alphac: .false.;
       =namelist:run_radiation=alpham: .false.;
       =namelist:run_radiation=dtice: .false.;
       =namelist:run_radiation=dalb_bare_wet: .true.;
       =namelist:run_radiation=dt_bare: .true.;
       =namelist:run_radiation=ssalphac: .true.;
       =namelist:run_radiation=ssalpham: .true.;
       =namelist:run_radiation=ssdtice: .true.;
       =namelist:run_radiation=pen_rad_frac: .true.;
       =namelist:run_radiation=sw_beta: .true.
type=logical

[namelist:jules_switches=l_top]
compulsory=true
type=logical

[namelist:jules_switches=l_triffid]
compulsory=true
type=logical

[namelist:jules_switches=l_tstar_sice_new]
compulsory=true
type=logical

[namelist:jules_switches=l_vg_soil]
compulsory=true
type=logical

[namelist:jules_switches=soilhc_method]
compulsory=true
type=integer

[namelist:jules_triffid]
compulsory=true
ns=namelist/pending/um/jules_triffid

[namelist:nlcfiles]
compulsory=true
ns=namelist/pending/um/nlcfiles

[namelist:nlchistg]
compulsory=true
ns=namelist/pending/um/nlchistg

[namelist:nlchisto]
compulsory=true
ns=namelist/pending/um/nlchisto

[namelist:nlihistg]
compulsory=true
ns=namelist/pending/um/nlihistg

[namelist:nlihisto]
compulsory=true
ns=namelist/pending/um/nlihisto

[namelist:nlsizes]
compulsory=true
ns=namelist/pending/um/nlsizes

[namelist:nlsizes=bl_levels]
description=Number of Boundary layer levels
fail-if=this > namelist:nlsizes=model_levels;
ns=namelist/Model_Configuration
range=1:
type=integer

[namelist:nlsizes=cloud_levels]
description=Number of Cloud levels
fail-if=this > namelist:nlsizes=model_levels;
ns=namelist/Model_Configuration
range=1:
type=integer

[namelist:nlsizes=global_row_length]
description=Number of columns in the model,x-direction
fail-if=this < 0; # Needs to be positive
       =this % 2 == 1; # Needs to be even
ns=namelist/Model_Configuration
type=integer

[namelist:nlsizes=global_rows]
description=Number of rows in the model,y-direction
ns=namelist/Model_Configuration
range=1:
type=integer

[namelist:nlsizes=land_field]
description=Number of land points
ns=namelist/Model_Configuration
range=0:
type=integer

[namelist:nlsizes=model_levels]
description=Number of model levels
ns=namelist/Model_Configuration
range=1:
type=integer

[namelist:nlsizes=ozone_levels]
description=Number of Ozone levels
fail-if=this > namelist:nlsizes=model_levels;
ns=namelist/Model_Configuration
range=1:
type=integer

[namelist:nlsizes=wet_levels]
description=Number of Wet model levels
fail-if=this > namelist:nlsizes=model_levels;
ns=namelist/Model_Configuration
range=0:
type=integer

[namelist:nlst_mpp]
compulsory=true
ns=namelist/um/nlst_mpp

[namelist:nlst_mpp=extended_halo_size_ew]
compulsory=true
description=Extended halo size in the East-West direction.
help=The extended halo size determines the number of grid cells each PE uses
    = to communicate with its neighbours. The size of the extended halo should
    = be determined by the choice of:
    = i) interpolation order used in the semi-lagrangian advection,
    =and
    = ii) the maximum wind speed (CFL) which you want to allow.
    = (The maximum CFL determines how much communication on demand
    = will be done in the E-W direction.)
    =
    = In the E-W direction the number is chosen as
    = (interpolation order+1)/2 + max CFL wanted in E-W (usually 2).
    =
    = When using cubic interpolation this number is typically set to 4.
range=1:10
title=East-West halo size
type=integer

[namelist:nlst_mpp=extended_halo_size_ns]
compulsory=true
description=Extended halo size in the North-South direction.
help=The extended halo size determines the number of grid cells each PE uses
    = to communicate with its neighbours. The size of the extended halo should
    = be determined by the choice of:
    = i) interpolation order used in the semi-lagrangian advection,
    =and
    = ii) the maximum wind speed (CFL) which you want to allow.
    = (The maximum CFL determines how much communication on demand
    = will be done in the E-W direction.)
    =
    = In the N-S direction the number is chosen as
    = (interpolation order+1)/2 + 0.5 + max CFL wanted in N-S (either 1.5 or 2.5).
    =
    = When using cubic interpolation this number is typically set to 4 or 5.
range=1:10
title=North-South halo size
type=integer

[namelist:nlst_mpp=gcom_coll_limit]
compulsory=true
description=Upper limit for using GCOM routines to perform
           = all-to-all gathers and scatters.
help=The maximum number of atmosphere processors a job can have while still
    = using GCOM all-to-all routines for collective gathers and scatters.
    = A job with more atmosphere processors than this number will use MPI
    = gathers and scatters instead. The optimal value of this limit may
    = vary by both machine architecture and job configuration.
    =
    = Setting this to zero will force the UM to always use MPI gathers and scatters.
range=0:
title=GCOM collectives limit
type=integer

[namelist:nlst_mpp=global_sum_method]
compulsory=true
description=Method for summing distributed arrays
           = held across multiple processors.
help=The choice of method for summing distributed arrays held across multiple
    = processors. None of the methods will reproduce with each other as they
    = perform summations in different orders.
    =
    = Old reproducible: this method gives the same answers irrespective of
    = processor decomposition but does not scale well.
    =
    = Double-double precision reproducible: this method gives the same answers
    = irrespective of processor decomposition but scales much better.
    = This method should normally be used for reproducible model runs.
    =
    = Fast non-reproducible: this is the fastest method but can give different
    = results when used with different processor configurations.
title=Global summation method
value-titles=Old reproducible,Double-double precision reproducible,
            =Fast non-reproducible
values=1,2,3

[namelist:nlstcall]
compulsory=true
ns=namelist/pending/um/nlstcall

[namelist:nlstcall=ancil_reftime]
compulsory=true
help=The reference time used for ancillary files for ALL models
    =Set all elements to 0 for a reference time equal to basis time,
    =this is
    =not normally recommended for climate model runs.
length=6
title=Ancilliary reference time
type=integer

[namelist:nlstcall=control_resubmit]
compulsory=true
help=Y if the run is using automatic resubmission,N if not
title=Control resubmit
type=character

[namelist:nlstcall=expt_id]
compulsory=true
help=Four letter Experiment ID set from the rose edit GUI,
    =or in the rose-app.conf
    =file under rose
title=Experiment ID
type=character

[namelist:nlstcall=ft_archsel]
compulsory=true
help=Are the PP files being archived. Y or N
length=159
title=Archiving
type=character

[namelist:nlstcall=ft_firststep]
compulsory=true
help=First step for reinitialisation
length=159
title=FT First step
type=integer

[namelist:nlstcall=ft_laststep]
compulsory=true
help=Last step for reinitialisation
length=159
title=FT First step
type=integer

[namelist:nlstcall=ft_select]
compulsory=true
help=Is PP file required for post processing. Y or N
length=159
title=FT Select
type=character

[namelist:nlstcall=ft_steps]
compulsory=true
help=Frequency in steps for renitialisation of PP files
length=159
title=FT Steps
type=integer

[namelist:nlstcall=job_id]
compulsory=true
help=One letter Job ID set from the rose edit GUI,
    =or in the rose-app.conf file
    =under rose.
title=Job ID
type=character

[namelist:nlstcall=lclimrealyr]
compulsory=true
help=Are real gregorian years being used in the climate run
title=Climate Real Year
type=logical

[namelist:nlstcall=ltimer]
compulsory=true
help=The version of the timer is defined by the C97 cpp flag.  This will need to
    =be modified separately in the fcm_make app.
    =
    =Version 1A is the standard UM timer,
    =but cannot be used on MPP machines.
    =Version 3A is an upgraded version of the standard timer. It can be used all
    =types of machines,
    =and will give useful timing information on MPP machines.
    =It is computationally more expensive than version 1A. As well as giving timing
    =information for individual routines (as version 1A does),
    =version 3A also
    =gives timing information for larger model components - for example the total
    =time spent in the dynamics or physics.
title=Timer diagnostic
type=logical

[namelist:nlstcall=model_analysis_mins]
compulsory=true
help=Nominal time from the start of run in minutes for data assimilation
title=Model analysis (minutes)
type=integer

[namelist:nlstcall=model_assim_mode]
compulsory=true
help=Model assimilation mode (Atmosphere/None)
title=Model assimilation mode
type=character

[namelist:nlstcall=model_basis_time]
compulsory=true
help=The basis time of the current model run
length=6
title=Model Basis Time
type=integer

[namelist:nlstcall=model_status]
compulsory=true
help=String containing the current model status (Operational,
    =NonOperational)
title=Model Status
type=character

[namelist:nlstcall=num_albcs]
compulsory=true
help=The number of atmospheric boundary files
title=Number of atmopsheric boundary files
type=integer

[namelist:nlstcall=pp_len2_look]
compulsory=true
help=File override sizes for PP files
length=159
title=PP Length
type=integer

[namelist:nlstcall=pp_pack_code]
compulsory=true
help=PP Packing codes for the IO units used within the UM
length=159
title=PP pack code
type=integer

[namelist:nlstcall=run_assim_mode]
compulsory=true
help=Run assimilation mode (Atmosphere/None)
title=Run assimilation mode
type=character

[namelist:nlstcall=run_resubmit_inc]
compulsory=false
help=The length of CRUN periods when automatic resubmission is selected
length=6
title=Run Resubmission Increment
type=integer

[namelist:nlstcall=run_target_end]
compulsory=true
help=The run time for the current model run
length=6
title=Run Target End
type=integer

[namelist:nlstcall=time_convention]
compulsory=true
help=Set filenames compared to current time convetion chosen.
    =Relative,
    =Timestep,Absolute_standard,Absolute_short,Absolute_long,
    =Absolute_dstamp,Sub_hourley
title=Time convention option
type=character

[namelist:nlstcall=type_letter_2]
compulsory=true
help=File type letter number 2,used for file naming
length=159
title=Type letter 2

[namelist:nlstcatm]
compulsory=true
ns=namelist/pending/shared/nlstcatm

[namelist:nlstcatm=a_assim_end_min]
description=End of AC
fail-if=this < namelist:nlstcatm=a_assim_start_min
help=The period of time over which the AC scheme is used is controlled by
    =specifying the number of minutes after basis time (absolute start of
    =run) for the Start and End of AC. This does not affect the time window
    =over which data from an observation is used -  this is specified
    =through use of the ACP namelist.
    =
    =The "Start of AC" would normally be the start of the run (i.e 0).
    =
    =The "End of AC" depends on both the time-window and the definition of
    =the period of influence of the observational data.
    =For a model run which has N cycles of assimilation,
    =each of H hours,
    =the end time (in hours) would be :-
    =
    ="End of AC" = "Start of AC" + N*H + (length of influence tail)
    =
    =The start and end times chosen (in minutes) should be consistent with
    =the timestep.
    =
    =For the mesoscale this value would normally be 5.
range=0:99999999
type=integer

[namelist:nlstcatm=a_assim_start_min]
description=Start of AC
help=The period of time over which the AC scheme is used is controlled by
    =specifying the number of minutes after basis time (absolute start of
    =run) for the Start and End of AC. This does not affect the time window
    =over which data from an observation is used -  this is specified
    =through use of the ACP namelist.
    =
    =The "Start of AC" would normally be the start of the run (i.e 0).
    =
    =The "End of AC" depends on both the time-window and the definition of
    =the period of influence of the observational data.
    =For a model run which has N cycles of assimilation,
    =each of H hours,
    =the end time (in hours) would be :-
    =
    ="End of AC" = "Start of AC" + N*H + (length of influence tail)
    =
    =The start and end times chosen (in minutes) should be consistent with
    =the timestep.
    =
    =For the mesoscale this value would normally be 5.
range=0:99999999
type=integer

[namelist:nlstcatm=i_co2_opt]
compulsory=true
description=Define specification of CO2 absorption
help=1: Simple method with fixed value.
    =2: Complex method allowing linear and/or exponential variation.
    =3: From the interactive carbon cycle.
trigger=namelist:nlstcatm=l_co2_emits: 3
value-titles=Simple method with fixed value,
            =Complex method allowing linear and/or exponential variation,
            =From the interactive carbon cycle
values=1,2,3

[namelist:nlstcatm=l_bl_tracer_mix]
compulsory=true
description=Boundary layer mixing of tracers
type=logical

[namelist:nlstcatm=l_co2_emits]
description=CO2 emissions
help=False => Not using emission.
    =True  => Use emission from ancillary file.
#trigger = namelist:run_radiation=co2_mmr: .false.
type=logical

[namelist:nlstcatm=l_couple_master]
compulsory=true
description=Perform atmosphere/ocean coupling through master PE
help=Perform atmosphere/ocean coupling through master PE: These switches allow you
    =to define whether coupling data is explicitly gathered or scattered to/from
    =a single master processor at the point of exchanging coupling data.
    =In principle,
    =there should be a slight performance benefit when not
    =using a master processor. The master processor facility is employed partly
    =as a means of validating the behaviour of OASIS. These switches are
    =only available when using OASIS3.
type=logical

[namelist:nlstcatm=l_endgame]
compulsory=true
description=use ENDGAME dynamical core
help=false use New Dynamics
    = true use ENDGame
ns=namelist/um/section10/configuration
sort-key=a1
trigger=namelist:run_dyn=l_fix_mass: .true.;
       =namelist:run_dyn=alpha_relax_type: .true.;
       =namelist:run_dyn=eg_vert_damp_profile: .true.;
       =namelist:run_dyn=eta_s: .true.;
       =namelist:run_dyn=alpha_1: .false.;
       =namelist:run_dyn=alpha_2: .false.;
       =namelist:run_dyn=alpha_3: .false.;
       =namelist:run_dyn=alpha_4: .false.;
       =namelist:run_dyn=alpha_1_2: .false.;
       =namelist:run_dyn=alpha_2_2: .false.;
       =namelist:run_dyn=alpha_3_2: .false.;
       =namelist:run_dyn=alpha_4_2: .false.;
       =namelist:run_dyn=numcycles: .false.;
       =namelist:run_dyn=l_new_tdisc: .false.;
       =namelist:run_dyn=l_thmono_fixed: .false.;
       =namelist:run_dyn=i_nd_solver_vn: .false.;
       =namelist:run_stochastic=l_skeb2_biharm: .true.;
       =namelist:recon=polar_check: .false. ;
type=logical

[namelist:nlstcatm=l_hydrology]
compulsory=true
description=Run with hydrology scheme
type=logical

[namelist:nlstcatm=l_int_uvw_lbc]
compulsory=true
description=Use interpolated wind trajectories in LBCs
type=logical

[namelist:nlstcatm=l_lateral_boundary]
compulsory=true
description=Is this limited area model using lateral boundary tendencies?
help=For limited-area runs,
    =the use of lateral boundary conditions is recommended.
    =However,
    =if you are doing a short test integration you can run without them.
    =In this case,
    =you will be running with fixed boundary conditions.
trigger=namelist:run_precip=l_mcr_qgraup_lbc: .true.;
       =namelist:run_precip=l_mcr_qrain_lbc: .true.;
       =namelist:run_murk=l_murk_lbc: .true.;
       =namelist:run_cloud=l_pc2_lbc: .true.;
       =namelist:nlstcatm=l_int_uvw_lbc: .true.
type=logical

[namelist:nlstcatm=l_mr_physics1]
compulsory=true
description=Use mixing ratios in atmos_physics1
help=Use mixing ratios in atmos_physics1
    =The use of mixing ratios in the physics is controlled by two switches.
    =The first (l_mr_physics1) covers atmos_physics1 - radiation,
    =micro-physics and GWD.
    =The second (l_mr_physics2) covers atmos_physics2 - boundary layer,
    =hydrology and convection.
type=logical

[namelist:nlstcatm=l_mr_physics2]
compulsory=true
description=Use mixing ratios in atmos_physics2
help=Use mixing ratios in atmos_physics2
    =The use of mixing ratios in the physics is controlled by two switches.
    =The first (l_mr_physics1) covers atmos_physics1 - radiation,
    =micro-physics and GWD.
    =The second (l_mr_physics2) covers atmos_physics2 - boundary layer,
    =hydrology and convection.
type=logical

[namelist:nlstcatm=l_oasis]
compulsory=true
description=Use OASIS coupling
help=Turn on the OASIS coupler to interface between different models.
trigger=namelist:nlstcatm=oasis_couple_freq: .true.;
       =namelist:nlstcatm=l_couple_master: .true.;
       =namelist:nlstcatm=l_oasis_icecalve: .true.;
       =namelist:nlstcatm=l_oasis_timers: .true.;
type=logical

[namelist:nlstcatm=l_oasis_icecalve]
compulsory=true
description=Include iceberg calving ancillary
help=This switches on the use of an ancillary data file which represents the freshwater flux from iceberg calving.
type=logical

[namelist:nlstcatm=l_oasis_timers]
compulsory=true
description=Timing of OASIS operations
help=Use inclusive UM timers to profile OASIS operations (init/put/get)
type=logical

[namelist:nlstcatm=l_pmsl_sor]
compulsory=true
description=Select PMSL smoothing algorithm
help=True  => Use SOR algorithm (default prior to UM7.8).
    =False => Use Jacobi algorithm (more scalable at high node counts)
    =
    =The relaxation to geostrophic wind algorithm was originally coded
    =using an SOR algorithm after gathering to a single processor. To
    =improve the scalability we have coded up an procedure which uses a
    =Jacobi algorithm and swaps data between processors.
type=logical

[namelist:nlstcatm=l_regular]
compulsory=true
description=Is this model using a regular grid?
help=false use Variable Resolution
    = true use Regular Grid
ns=namelist/um/section10/configuration
sort-key=a3
type=logical

[namelist:nlstcatm=l_use_methox]
compulsory=true
description=Use methane oxidation
help=Selecting the 'use methane oxidation' panel allows the calculation of
    =chemical water vapour change due to methane oxidation and photolysis,
    =following  the method used at ECMWF (Untch et al (ECMWF Newsletter No
    =87,
    =winter 1998/99,
    =pp 2-8) and Simmons (pers. comm.)).  The model
    =methane mixing ratio is implicit,
    =and derived from the assumption that
    =2 [CH4] + [H2O] = 3.75  ppmm throughout the stratosphere.
    =
    =The methane oxidation and hydrogen photolysis rate coefficients vary
    =only with pressure,
    =and are calculated within the code assuming a
    =surface pressure of 1000 hPa.
type=logical

[namelist:nlstcatm=lcal360]
compulsory=true
description=Use 360 day calendar
help=Climate users normally use a 360 day calendar to keep months and seasons a
    =standard length. Others will use a normal Gregorian calendar to define the time
    =information in model headers etc.
    =
    =The Gregorian calendar can be used with the coupled atmosphere-ocean
    =climate model. When running the coupled model with the Gregorian calendar
    =ancillaries created for the correct calendar must be used. If the
    ="Use 360 day calendar" option is not selected and the UM atmosphere
    =is not running (i.e. NEMO,
    =CICE,or NEMO-CICE runs),
    =then the model
    =will use a fixed 365-day calendar (no leap days).
type=logical

[namelist:nlstcatm=model_domain]
compulsory=true
description=Select model domain
help=Models are allowed to be global,
    =limited area or single column.
    =
    =1 => Global Model
    =2 => Limited Area Model (Classic style)
    =3 => Limited Area Model (Cyclic boundary conditions - EW only)
    =4 => Limited Area Model (Cyclic boundary conditions - EW and NS)
    =5 => Single Column Model (see help)
    =6 => Site Specific Forecast Model (SSFM) (see help)
    =
    =Global models.
    =The grid for a global atmospheric model can be completely described by the
    =number of rows and columns and covers the whole globe (with full grid-points
    =at each pole). The first gridpoint is at the south pole with the first
    =column at 0 degrees West.
    =
    =Limited area models.
    =Limited area models can be on a rotated grid. Here the "pole" of the grid
    =should be chosen such that the centre of the area at the equator of the
    =rotated grid. See UMDP S1.
    =
    =Single Column Model (SCM)
    =The gui only provides support in creating the executable file for the
    =SCM,
    =ie,one can choose the PHYSICS sections one wants to use,
    =then
    =compile the source direct from the gui. Other information like,
    =say
    =the number of model levels,
    =whether the convective momentum transport,
    =the rapidly-mixing boundary layer,
    =etc are on/off will not automatically
    =be passed to the SCM as they use UM namelists which are not recognised
    =by the SCM. Those items will have to be set up 'by hand' in the
    =namelists dedicated for the SCM.
    =
    =Site Specific Forecast model (SSFM)
    =This is a version of the SCM code but with certain modifications which
    =help read and use other model data. Choosing this will allow the
    =user to compile the relevant code to run such a model.
ns=namelist/Model_Configuration
trigger=namelist:nlstcatm=l_lateral_boundary: 2;
value-titles=Global Model,LAM (Classic style),
            =LAM (Cyclic boundary conditions - EW only),
            =LAM (Cyclic boundary conditions - EW and NS),
            =Single Column Model (see help),
            =Site Specific Forecast Model (SSFM)
values=1,2,3,4,5,6
widget[rose-config-edit]=rose.config_editor.valuewidget.radiobuttons.RadioButtonsValueWidget

[namelist:nlstcatm=npmsl_height]
compulsory=true
description=Height threshold for PMSL geostrophic wind calculation
help=Height threshold above which the PMSL is calculated using relaxation to
    =geostrophic wind,
    =as described in UMDP 80,section 4.5.2.
range=0.0:99999.0
type=real

[namelist:nlstcatm=oasis_couple_freq]
compulsory=true
description=Coupling frequency (hours)
fail-if=24 % this != 0 #Frequency must be a divisor of 24
help=This is the coupling frequency of exchanges between the atmosphere
    =and NEMO-CICE (Internal NEMO-CICE coupling frequency is dealt with
    =internally).
type=integer

[namelist:nlstcatm=problem_number]
compulsory=true
description=0 => Not an idealised run
           =1 => Monsoon
           =2 => Dynamical core
           =3 => Idealised problem
           =4 => Standard run from namelist
help=Choose idealised test problem:
    =1 => Monsoon
    =2 => Dynamical core
    =3 => Idealised problem
    =4 => Standard run from namelist
    =
    =0 => Not an idealised run
values=0,1,2,3,4

[namelist:nlstcgen]
compulsory=true
description=Include absorption by nitrous oxide
help=See l_ch4_lw
ns=namelist/pending/um/nlstcgen
type=logical

[namelist:nlstcgen=archdump_freqim]
compulsory=true
help=Archiving every restart dump occurrences
title=Archiving frequency for atmosphere dumps
type=integer

[namelist:nlstcgen=archdump_offsetim]
compulsory=true
help=Archive after nth restart dump
title=Offset for dump archiving
type=integer

[namelist:nlstcgen=archppselim]
compulsory=true
help=Switches for PP file archive
length=4
title=Switches for PP file archive
values=0,1

[namelist:nlstcgen=dump_packim]
compulsory=true
help=Packing indicator for dumps
range=0:3
title=Dumping packing option
type=integer

[namelist:nlstcgen=dumpfreqim]
compulsory=true
help=Number of steps between atmosphere restart dump
title=Number of steps between atmosphere restart dump
type=integer

[namelist:nlstcgen=dumptimesim]
compulsory=true
fail-if=namelist:nlstcgen=dumpfreqim > 0
help=Archiving every restart dump occurrences
length=40
title=Archiving frequency for atmosphere dumps
type=integer

[namelist:nlstcgen=llboutim]
compulsory=true
type=logical

[namelist:nlstcgen=mean_reftimeim]
compulsory=true
help=Mean reference time for production of means,
    =where
    =1st element is year
    =2nd element is month
    =3rd element is day
    =4th to 6th elements are hours,
    =minutes,seconds and
    =have to be 0
length=6
title=Mean reference time for production of means

[namelist:nlstcgen=meanfreqim]
compulsory=true
fail-if=namelist:nlstcgen=mean_reftimeim(1) == 0
help=Indicators for mean dump frequency
length=4
title=Indicators for mean dump frequency
type=integer

[namelist:nlstcgen=ppselectim]
compulsory=true
help=PP field selectors
length=4
title=PP field selectors
values=0,1

[namelist:nlstcgen=secs_per_periodim]
compulsory=true
fail-if=this % 86400 != 0 #Must be a whole number of days
help=Seconds in one day are 86400.
range=86400:1036800
title=Number of days per period,typically 1 (up to 12) in seconds
type=integer

[namelist:nlstcgen=steps_per_periodim]
compulsory=true
fail-if=this % 24 != 0 #Must be a multiple of 24
help=Number of time steps must divide into one hour
range=1:86400
title=Number of time steps per period,
     =where period is usually one day
type=integer

[namelist:nlstwritedata]
compulsory=true
ns=namelist/pending/um/nlstwritedata

[namelist:nsubmodl]
compulsory=true
ns=namelist/pending/shared/nsubmodl

[namelist:prnt_control]
compulsory=true
ns=namelist/um/prnt_control

[namelist:prnt_control=prnt_force_flush]
compulsory=true
description=True => Output will be immediately flushed
help=Some fortran implementatiosn and operating systems may buffer output
    =for performance reasons. Enabling this requests output is flushed
    =immediately,
    =improving chances of having meaningful output in case
    =of a failure.
type=logical

[namelist:prnt_control=prnt_paper_width]
compulsory=true
description=Specifies the number of columns to use for output
help=This value will be used to break lines to a certain length if selected
    =and to report overly long output lines
type=integer

[namelist:prnt_control=prnt_split_lines]
compulsory=true
description=True => Lines will be split
help=The prnt_paper_width option specifies the maximum line length
type=logical

[namelist:prnt_control=prnt_src_pref]
compulsory=true
description=True => Prefix output
help=Output will be prefixed with the name passed to the message handler
    = as the src argument.
type=logical

[namelist:prnt_control=prnt_writers]
compulsory=true
description=1 => All tasks write output
           =2 => Only the first task (rank 0) writes output
help=
type=integer

[namelist:r2lwclnl]
compulsory=true
ns=namelist/um/section01/r2lwclnl

[namelist:r2lwclnl=i_cnv_ice_lw]
compulsory=true
description=Type number for ice crystals in convective clouds
help=Types of droplets and ice crystals
    = Cloud in the model is divided into convective and layer cloud. The
    = spectral data file may contain data for a number of different
    = populations of droplets or ice crystals,
    =described as types. Appropriate
    = types must be selected for all components within a cloud. Information on
    = which types are available in the standard spectral files may be found in
    = the supporting documentation. For the current HadGEM spectral files
    = (hadgem1_3 to hadgem1_6) we recommend type 5 droplets (Pade fits with
    = thick averaging) and type 8 crystals (ice aggregates with thin averaging).
range=1:99

[namelist:r2lwclnl=i_cnv_ice_lw2]
compulsory=true
description=Type number for ice crystals in convective clouds
help=See i_cnv_ice_lw. For diagnostic time-step when n_swcall=2.
range=1:99

[namelist:r2lwclnl=i_cnv_water_lw]
compulsory=true
description=Type number for water droplet in convective clouds
help=Types of droplets and ice crystals
    = Cloud in the model is divided into convective and layer cloud. The
    = spectral data file may contain data for a number of different
    = populations of droplets or ice crystals,
    =described as types. Appropriate
    = types must be selected for all components within a cloud. Information on
    = which types are available in the standard spectral files may be found in
    = the supporting documentation. For the current HadGEM spectral files
    = (hadgem1_3 to hadgem1_6) we recommend type 5 droplets (Pade fits with
    = thick averaging) and type 8 crystals (ice aggregates with thin averaging).
range=1:99

[namelist:r2lwclnl=i_cnv_water_lw2]
compulsory=true
description=Type number for water droplet in convective clouds
help=See i_st_water_lw. For diagnostic time-step when n_swcall=2.
range=1:99

[namelist:r2lwclnl=i_gas_overlap_lw]
compulsory=true
description=Select treatment of overlapping for gaseous absorption
           = Random Overlap (2)
           = Equivalent Extinction with corrected scaling (4)
           = Equivalent Extinction,
           =original method (5)
           = Equivalent Extinction using modulus of flux (6)
help="Random Overlap" is the most accurate but is very expensive.
    = The approximate method of "Equivalent Extinction" is available.
    = As a modification to the method of Equivalent Extinction for the LW,
    =it is possible to use the modulus of the fluxes to weight the minor
    = gas k-terms. This may reduce the bias associated with this method.
    = A further correction is required where the scaling is different for
    = each k-term in the spectral file. Option 4 is recommended.
values=2,4,5,6

[namelist:r2lwclnl=i_gas_overlap_lw2]
compulsory=true
description=Select treatment of overlapping for gaseous absorption
           = Random Overlap (2)
           = Equivalent Extinction with corrected scaling (4)
           = Equivalent Extinction,
           =original method (5)
           = Equivalent Extinction using modulus of flux (6)
help="Random Overlap" is the most accurate but is very expensive.
    = The approximate method of "Equivalent Extinction" is available.
    = As a modification to the method of Equivalent Extinction for the LW,
    =it is possible to use the modulus of the fluxes to weight the minor
    = gas k-terms. This may reduce the bias associated with this method.
    = A further correction is required where the scaling is different for
    = each k-term in the spectral file. Option 4 is recommended.
    = For diagnostic time-step when n_swcall=2
values=2,4,5,6

[namelist:r2lwclnl=i_scatter_method_lw]
compulsory=true
description=Treatment of scattering for optical properties
           = full (1),
           =approximate (4),hybrid (5)
help=Treatment of scattering for optical properties.
    = Approximate and hybrid methods are faster but less accurate.
    = The hybrid method uses a different treatment of scattering for each
    = k-term and requires the methods to be set in the spectral file.
values=1,4,5

[namelist:r2lwclnl=i_scatter_method_lw2]
compulsory=true
description=Treatment of scattering for optical properties
           = full (1),
           =approximate (4),hybrid (5)
help=Treatment of scattering for optical properties
    = Approximate and hybrid methods are faster but less accurate.
    = The hybrid method uses a different treatment of scattering for each
    = k-term and requires the methods to be set in the spectral file.
    = For diagnostic time-step when n_swcall=2
values=1,4,5

[namelist:r2lwclnl=i_st_ice_lw]
compulsory=true
description=Type number for ice crystals in stratiform clouds
help=Types of droplets and ice crystals
    = Cloud in the model is divided into convective and layer cloud. The
    = spectral data file may contain data for a number of different
    = populations of droplets or ice crystals,
    =described as types. Appropriate
    = types must be selected for all components within a cloud. Information on
    = which types are available in the standard spectral files may be found in
    = the supporting documentation. For the current HadGEM spectral files
    = (hadgem1_3 to hadgem1_6) we recommend type 5 droplets (Pade fits with
    = thick averaging) and type 8 crystals (ice aggregates with thin averaging).
range=1:99

[namelist:r2lwclnl=i_st_ice_lw2]
compulsory=true
description=Type number for ice crystals in stratiform clouds
help=See i_st_ice_lw. For diagnostic time-step when n_swcall=2.
range=1:99

[namelist:r2lwclnl=i_st_water_lw]
compulsory=true
description=Type number for water droplet in stratiform clouds
help=Types of droplets and ice crystals
    = Cloud in the model is divided into convective and layer cloud. The
    = spectral data file may contain data for a number of different
    = populations of droplets or ice crystals,
    =described as types. Appropriate
    = types must be selected for all components within a cloud. Information on
    = which types are available in the standard spectral files may be found in
    = the supporting documentation. For the current HadGEM spectral files
    = (hadgem1_3 to hadgem1_6) we recommend type 5 droplets (Pade fits with
    = thick averaging) and type 8 crystals (ice aggregates with thin averaging).
range=1:99

[namelist:r2lwclnl=i_st_water_lw2]
compulsory=true
description=Type number for water droplet in stratiform clouds
help=See i_st_water_lw. For diagnostic time-step when n_swcall=2.
range=1:99

[namelist:r2lwclnl=l_cfc113_lw]
compulsory=true
description=Include absorption by CFC113
help=See l_ch4_lw
type=logical

[namelist:r2lwclnl=l_cfc113_lw2]
compulsory=true
description=Include absorption by CFC113
help=See l_ch4_lw. For diagnostic time-step when n_swcall=2.
type=logical

[namelist:r2lwclnl=l_cfc114_lw]
compulsory=true
description=Include absorption by CFC114
help=See l_ch4_lw
type=logical

[namelist:r2lwclnl=l_cfc114_lw2]
compulsory=true
description=Include absorption by CFC114
help=See l_ch4_lw. For diagnostic time-step when n_swcall=2.
type=logical

[namelist:r2lwclnl=l_cfc11_lw]
compulsory=true
description=Include absorption by CFC11
help=See l_ch4_lw
type=logical

[namelist:r2lwclnl=l_cfc11_lw2]
compulsory=true
description=Include absorption by CFC11
help=See l_ch4_lw. For diagnostic time-step when n_swcall=2.
type=logical

[namelist:r2lwclnl=l_cfc12_lw]
compulsory=true
description=Include absorption by CFC12
help=See l_ch4_lw
type=logical

[namelist:r2lwclnl=l_cfc12_lw2]
compulsory=true
description=Include absorption by CFC12
help=See l_ch4_lw. For diagnostic time-step when n_swcall=2.
type=logical

[namelist:r2lwclnl=l_ch4_lw]
compulsory=true
description=Include absorption by CH4
help=Absorption by a number of trace gases may be included in the calculation,
    =provided that appropriate spectral data are contained in the spectral
    = file. Note that spectral files cannot be validated byt the gui and users
    = should consult the supporting documentation to select a spectral file
    = containing the gases they wish to include.
    = Mixing ratios must be provided for gases included in one of two ways.
    = The simple way is to specify a constant value for all time in the
    = integration.
    = The complex method is the one that can be used for CO2 etc and is described
    = by the following example,
    =which also illustrates the method for defining
    = trace gases and sulphate loading:
    = Number of designated years for linear interpolation      [5                ]
    = Comment: You must have at least one year to define a starting value.
    =          Set this to 1 if you just want exponential growth in years
    =          subsequent to the start year.
    = Years and CO2 MMRs for linear Interpolation.
    =	No	Years in 		CO2 MMRs at         Comment
    =		ascending order	        those years
    =	1	1994			4.9E-4 		    The first year must be at
    =	2	1998			5.2E-4		    at or before the run start.
    =	3	2010			5.8E-4		    Linear interpolation will
    =	4	2020			6.3E-4		    be used between defined
    =	5	2030			6.8E-4		    years based on 1st Jan.
    =	Comment: The last value will be used from 2030 onwards unless you have
    =	         also defined rates for the following period in the table below.
    =	         The interpolation is done in all years on a timestep-by-timestep
    =	         basis assuming the values to be point values at 00:00 on the
    =	         1st January of the defined year.
    =
    =	Number of designated year for exponential increase      [3                ]
    =	Comment: Set this to zero if you just want linear interpolation
    =	         between years optionally followed by a constant value.
    =	         This exponential growth regime must come after a linear growth
    =	         period.
    =
    =	Years and % compound growth PA (per annum) in subsequent years.
    =	No	Years in 		CO2 % Compound      Comment
    =		ascending order		growth PA from
    =				year
    =	1	2031			5      		    The first year must be the year
    =	2	2040			8     		    after the last linear year.
    =	3	2050			-2      	    The growth is compounded each
    =                   				    year using the rate defined
    =  						    until a new rate is defined.
    =	Comment: In 2031,
    =a growth of 5% of CO2 MMR will apply to the value of 6.8
    =	         defined in 2030,
    =to 7.14.
    =	         In 2032 this will increase,
    =in a compound way,
    =by another 5% to 7.497.
    =	         This will continue until 2040,
    =when 8% will be used.
    =	         In 2050,
    =and in subsequent years,
    =a compounded decrease of 2%
    =	         will be applied.
    =	         Values are held constant within each year.
type=logical

[namelist:r2lwclnl=l_ch4_lw2]
compulsory=true
description=Include absorption by CH4
help=See l_ch4_lw
type=logical

[namelist:r2lwclnl=l_hcfc22_lw]
compulsory=true
description=Include absorption by HCFC22
help=See l_ch4_lw
type=logical

[namelist:r2lwclnl=l_hcfc22_lw2]
compulsory=true
description=Include absorption by HCFC22
help=See l_ch4_lw. For diagnostic time-step when n_swcall=2.
type=logical

[namelist:r2lwclnl=l_hfc125_lw]
compulsory=true
description=Include absorption by HFC125
help=See l_ch4_lw
type=logical

[namelist:r2lwclnl=l_hfc125_lw2]
compulsory=true
description=Include absorption by HFC125
help=See l_ch4_lw. For diagnostic time-step when n_swcall=2.
type=logical

[namelist:r2lwclnl=l_hfc134a_lw]
compulsory=true
description=Include absorption by HFC134a
help=See l_ch4_lw
type=logical

[namelist:r2lwclnl=l_hfc134a_lw2]
compulsory=true
description=Include absorption by HFC134a
help=See l_ch4_lw. For diagnostic time-step when n_swcall=2.
type=logical

[namelist:r2lwclnl=l_microphysics_lw]
compulsory=true
description=Use microphysics in long wave radiation
help=The microphysical parameterization is of more importance in the
    = shortwave,
    =but it has been made available in the longwave to enable
    = consistency in the  treatment of clouds in both spectral regions to be
    = maintained.
type=logical

[namelist:r2lwclnl=l_microphysics_lw2]
compulsory=true
description=Use microphysics in long wave radiation
help=See l_microphysics_lw. For diagnostic time-step when n_swcall=2.
type=logical

[namelist:r2lwclnl=l_n2o_lw]
compulsory=true
description=Include absorption by N2O
help=See l_ch4_lw
type=logical

[namelist:r2lwclnl=l_n2o_lw2]
compulsory=true
description=Include absorption by N2O.
help=See l_ch4_lw. For diagnostic time-step when n_swcall=2.
type=logical

[namelist:r2lwclnl=l_solar_tail_flux]
compulsory=true
description=Include tail of solar flux in LW
help=The infra-red tail of the solar flux extends into the LW region
    = of the spectrum and may be treated as incoming diffuse LW radiation.
    = This is only possible with certain spectral files (the SES2 spectral
    = files with names beginning "ses"). For other spectral files this
    = flux is generally included with the SW direct flux.
type=logical

[namelist:r2lwclnl=spectral_file_lw]
compulsory=true
description=Long wave spectral file
help=Long wave spectral file
    = The spectral file directory must be specified in the environment
    = variable SPECTRAL_FILE_DIR.
type=character

[namelist:r2lwclnl=spectral_file_lw2]
compulsory=true
description=Long wave spectral file for diagnostic time-step when n_swcall=2
help=Long wave spectral file for diagnostic time-step when multiple radiative
    = time steps selected
    = The spectral file directory must be specified in the environment
    = variable SPECTRAL_FILE_DIR.
type=character

[namelist:r2lwncal]
compulsory=true
ns=namelist/um/section01/r2lwncal

[namelist:r2lwncal=n_lwcall]
compulsory=true
description=Number of calls to LW radiation
help=Number of calls to LW radiation on a given radiation timestep:
    = 1 Single call
    = 2 For the timestepping scheme or to diagnose radiative forcings
# triggers namelist:radfcdia variables, but is OR relationship!
values=1,2

[namelist:r2swclnl]
compulsory=true
ns=namelist/um/section01/r2swclnl

[namelist:r2swclnl=i_cnv_ice_sw]
compulsory=true
description=Type number for ice crystals in convective clouds
help=See i_st_water_sw.
range=1:99

[namelist:r2swclnl=i_cnv_ice_sw2]
compulsory=true
description=Type number for ice crystals in convective clouds
help=See i_st_water_sw. For diagnostic time-step when n_swcall=2
range=1:99

[namelist:r2swclnl=i_cnv_water_sw]
compulsory=true
description=Type number for water droplet in convective clouds
help=See i_st_water_sw.
range=1:99

[namelist:r2swclnl=i_gas_overlap_sw]
compulsory=true
description=Select treatment of overlapping for gaseous absorption
           = Random Overlap (2)
           = Equivalent Extinction with corrected scaling (4)
           = Equivalent Extinction,
           =original method (5)
help="Random Overlap" is the most accurate but is very expensive.
    = The approximate method of "Equivalent Extinction" is available.
    = A correction to this method is required where the scaling is
    = different for each k-term in the spectral file. Option 4 is
    = recommended.
values=2,4,5

[namelist:r2swclnl=i_gas_overlap_sw2]
compulsory=true
description=Select treatment of overlapping for gaseous absorption
           = Random Overlap (2)
           = Equivalent Extinction with corrected scaling (4)
           = Equivalent Extinction,
           =original method (5)
help="Random Overlap" is the most accurate but is very expensive.
    = The approximate method of "Equivalent Extinction" is available.
    = A correction to this method is required where the scaling is
    = different for each k-term in the spectral file. Option 4 is
    = recommended.
    = For diagnostic time-step when n_swcall=2
values=2,4,5

[namelist:r2swclnl=i_st_ice_sw]
compulsory=true
description=Type number for ice crystals in stratiform clouds
help=See i_st_water_sw.
range=1:99

[namelist:r2swclnl=i_st_ice_sw2]
compulsory=true
description=Type number for ice crystals in stratiform clouds
help=See i_st_water_sw. For diagnostic time-step when n_swcall=2
range=1:99

[namelist:r2swclnl=i_st_water_sw]
compulsory=true
description=Type number for water droplet in stratiform clouds
help=Cloud in the model is divided into convective and layer cloud. The spectral
    = data file may contain data for a number of different populations of droplets
    = or ice crystals,
    =described as types. Appropriate types must be selected for
    = all components within a cloud. Information on which types are available in the
    = standard files may be found in the supporting documentation. For the current
    = HadGEM spectral files (hadgem1_3 to hadgem1_6) we recommend type 5 droplets
    = (Pade fits with thick averaging) and type 8 crystals (ice aggregates with
    = thin averaging).
range=1:99

[namelist:r2swclnl=i_st_water_sw2]
compulsory=true
description=Type number for water droplet in stratiform clouds
help=See i_st_water_sw. For diagnostic time-step when n_swcall=2
range=1:99

[namelist:r2swclnl=l_ch4_sw]
compulsory=true
description=Include absorption by methane
help=See l_ch4_lw
type=logical

[namelist:r2swclnl=l_ch4_sw2]
compulsory=true
description=Include absorption by methane
help=See l_ch4_lw. For diagnostic time-step when n_swcall=2
type=logical

[namelist:r2swclnl=l_n2o_sw]

[namelist:r2swclnl=l_n2o_sw2]
compulsory=true
description=Include absorption by nitrous oxide
help=See l_ch4_lw. For diagnostic time-step when n_swcall=2
type=logical

[namelist:r2swclnl=l_o2_sw]
compulsory=true
description=Include absorption by oxygen
help=See l_ch4_lw
type=logical

[namelist:r2swclnl=l_o2_sw2]
compulsory=true
description=Include absorption by oxygen
help=See l_ch4_lw. For diagnostic time-step when n_swcall=2
type=logical

[namelist:r2swclnl=spectral_file_sw]
compulsory=true
description=Short wave spectral file
help=Short wave spectral file
    = The spectral file directory must be specified in the environment
    = variable SPECTRAL_FILE_DIR.
type=character

[namelist:r2swclnl=spectral_file_sw2]
compulsory=true
description=Short wave spectral file for diagnostic time-step when n_swcall=2
help=Short wave spectral file for diagnostic time-step when multiple radiative
    = time steps selected
    = The spectral file directory must be specified in the environment
    = variable SPECTRAL_FILE_DIR.
type=character

[namelist:r2swncal]
compulsory=true
ns=namelist/um/section01/r2swncal

[namelist:r2swncal=n_swcall]
description=Number of calls to SW radiation
help=Number of calls to SW radiation on a given radiation timestep:
    = 1 Single call
    = 2 For the timestepping scheme or to diagnose radiative forcings
# triggers namelist:radfcdia variables, but is OR relationship!
values=1,2

[namelist:radfcdia]
compulsory=true
description=Radiative forcing
ns=namelist/um/section01/radfcdia

[namelist:radfcdia=c2c_aerosol]
compulsory=true
description=Use aerosol SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_all]
compulsory=true
description=Use all SW/LW forcings
length=4
type=logical

[namelist:radfcdia=c2c_biog_d]
compulsory=true
description=Use biogenic SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_bmb_d]
compulsory=true
description=Use biomass SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_c113]
compulsory=true
description=Use C113 SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_cfc11]
compulsory=true
description=Use CFC11 SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_cfc12]
compulsory=true
description=Use CFC12 SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_ch4]
compulsory=true
description=Use CH4 SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_co2]
compulsory=true
description=Use CO2 SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_dust_d]
compulsory=true
description=Use dust SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_hcfc22]
compulsory=true
description=Use HCFC22 SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_hfc125]
compulsory=true
description=Use HFC125 SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_hfc134]
compulsory=true
description=Use HFC134 SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_land_s]
compulsory=true
description=Use land use SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_n2o]
compulsory=true
description=Use N2O SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_nitr_d]
compulsory=true
description=Use nitrate SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_o3]
compulsory=true
description=Use O3 SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_ocff_d]
compulsory=true
description=Use OCFF SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_seas_d]
compulsory=true
description=Use sea salt SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_soot_d]
compulsory=true
description=Use soot SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_sulpc_d]
compulsory=true
description=Use sulphur SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_ukca_d]
compulsory=true
description=Use UKCA SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_wmg]
compulsory=true
description=Use GHG SW/LW forcing
length=4
type=logical

[namelist:recon]
compulsory=true
ns=namelist/reconfiguration/recon

[namelist:recon=dump_pack]
compulsory=true
description=Select dump packing option
help=A note on dump packing
    =
    =The packing option allows you to specify if primary (prognostic and
    =ancillary) fields get packed to 32-bits or not.
    =
    =Dumps are comprised of two parts. The prognostic fields and  diagnostic
    =storage areas. The latter being used for holding partial result fields
    =(often partial-sums) for STASH time processed data.
    =
    =Using packed dumps can significantly improve the performance of a model.
    =IO time implies wasted CPU resources. Hence packing often improves the
    =both speed of a run and the total throughput of the machine.
    =
    =Separately,
    =for both prognostics and diagnostics,
    =the user can choose to
    =have the data unpacked,
    =or packed if so indicated by the STASHmaster
    =file. Most fields are marked as packable.
    =
    =It is possible to override the packing settings in the STASHmaster file
    =by use of a user-STASHmaster file. Typically,
    =this would be to change a
    =setting to force a field to remain unpacked to gain extra precision or
    =number range.
    =
    =The down side of using packed fields:
    =
    =Packed prognostics can cause problems with restarting in
    =a bit comparable way when you are force to restart with an NRUN.
    =This is because ancillary fields do not get packed until the
    =first dump is written and the sequence is different in NRUNS
    =and CRUNS.
    =
    =Packed data is less accurate and has a smaller range of values.
    =Prognostic fields should be marked through the STASHmaster file
    =if they are unsuitable for packing. However,
    =diagnostic fields
    =will depend on the time processing in use and so the standard
    =marking may be inappropriate.
    =
    =Given that most people will be viewing data on workstations with
    =32-bit IEEE numbers,
    =this should not be a big problem,
    =but
    =remember that if you do means over long periods  (particularly
    =STASH means rather than climate means where intermediate means
    =are used),
    =the partial-sums will require more accuracy and
    =range than the final result. However,
    =long period STASH meaning
    =should be avoided as it is ill-conditioned.
    =
    =However,
    =the savings to be gained may be considerable.
value-titles=STASHmaster controlled packing for diagnostic and primary fields,
            =Unpacked primary fields - STASHmaster-packed diagnostics,
            =Unpacked primary and diagnostic fields
values=1,2,3

[namelist:recon=grib]
compulsory=true
description=The input dump is in ECMWF GRIB format
type=logical

[namelist:recon=grib2ff]
compulsory=true
description=The input dump is output from the grib2ff program
type=logical

[namelist:recon=l_canopy_snow_throughfall]
compulsory=true
description=Perform canopy snow throughfall
type=logical

[namelist:recon=l_interp_input_only]
compulsory=true
description=Just perform interpolation of prognostic fields found in dump
type=logical

[namelist:recon=l_trans]
compulsory=true
description=Define transplanting of data
help=The transplant facility allows users to copy data out of one dump and put
    =it into the dump at reconfiguration. The fields must be prognostic and the
    =dumps must be on the same domain. This facility is used for certain types
    =of problem investigation. Most users will never use this.
type=logical

[namelist:recon=lspiral_s]
compulsory=true
description=Use the spiral coastal adjustment algorithm
help=Spiral coastal adjustment: attempts to set a value at points which are
    =unresolved when interpolating between one grid and another. A value is
    =set by finding the mean of surrounding points which do have data set
    =within a search radius determined by NSEARCH.
type=logical

[namelist:recon=polar_check]
compulsory=true
description=Check output dump for non-uniform polar rows
help=Checking for non-uniform polar data will cause the reconfiguration
    =to scan the polar rows of every ancillary file using the P grid. If
    =any polar row contains non-uniform data the job will be aborted and an
    =error message will identify the field responsible.
type=logical

[namelist:recon=q_min]
compulsory=true
description=Reset the specific humidity to a minimum value.
help=Raises all sub minima values to the specified minimum.
range=0.0:1.0
type=real

[namelist:recon=reset_data_time]
compulsory=true
description=Reset data time to validity time
help=If you choose to reset the data time this will affect the
    =values of the records in the dump header. This is useful when you want
    =the start date of all dumps to relative to a starting dump produced from
    =an integration rather than an analysis.
type=logical

[namelist:recon=use_smc_stress]
compulsory=true
description=Use soil moisture stress for interpolating soil moisture
type=logical

[namelist:recon=var_recon]
compulsory=true
description=Run the reconfiguration in the VAR suite
help=Running the reconfiguration in the VAR suite allows the reconfiguration
    =to pick up prognostics used by VAR.
type=logical

[namelist:recon=w_zero_end]
compulsory=true
description=Reset w-components of wind to zero - end level
help=Resetting w-components of wind to zero resets w-component of wind
    =(Stash Code 150) and advected w-component of wind (Stash Code 258) to
    =zero. Start and end level enables a range or all the levels of w-components
    =to be set to zero. Level 0 (surface) and top model level are always set
    =to zero. Set both w_zero_start and w_zero_end to -1 to disable resetting
    =of wind to zero.
range=-1:999
sort-key=a2
type=integer

[namelist:recon=w_zero_start]
compulsory=true
description=Reset w-components of wind to zero - start level
help=Resetting w-components of wind to zero resets w-component of wind
    =(Stash Code 150) and advected w-component of wind (Stash Code 258) to
    =zero. Start and end level enables a range or all the levels of w-components
    =to be set to zero. Level 0 (surface) and top model level are always set
    =to zero. Set both w_zero_start and w_zero_end to -1 to disable resetting
    =of wind to zero.
range=-1:999
sort-key=a1
type=integer

[namelist:run_aerosol]
compulsory=true
description=run_aerosol
ns=namelist/um/section17
title=Section 17 - Aerosol (Classic,dust and murk)

[namelist:run_aerosol=bmass_high_level_1]
description=Lowest level to emit biomass burning emissions into
fail-if=this < 1 or this > namelist:nlsizes=model_levels
help=This must be between 1 and the number of model levels and less than
    = or equal to the highest level for biomass emissions. It will be ignored
    = if the CLASSIC aerosol scheme is off,
    =or the biomass burning scheme
    = is off,
    =or there are no biomass burning emissions.
sort-key=c1
type=integer

[namelist:run_aerosol=bmass_high_level_2]
description=Highest level to emit biomass burning emissions into
fail-if=this < 1 or this > namelist:nlsizes=model_levels
help=This must be between 1 and the number of model levels and greater than
    = or equal to the lowest level for biomass emissions. It will be ignored
    = if the CLASSIC aerosol scheme is off,
    =or the biomass burning scheme is
    = off,
    =or there are no biomass burning emissions.
sort-key=c2
type=integer

[namelist:run_aerosol=i_dms_flux]
compulsory=true
description=Sulphur Cycle: scheme for Interactive DMS sea-air exchange
help=Use to select an Interactive DMS sea-air exchange scheme.
    =1 for Liss & _Merlivat scheme,
    =2 for Wanninkhof scheme,3 for Nightingale scheme.
values=1,2,3

[namelist:run_aerosol=l_biomass]
compulsory=true
description=Sulphur Cycle: Biomass scheme included
help=Set .true. to select Sulphur Cycle with Biomass active.
trigger=namelist:run_aerosol=l_bmass_surem: .true.;
       =namelist:run_aerosol=l_bmass_hilem: .true.
type=logical

[namelist:run_aerosol=l_bmass_hilem]
compulsory=true
description=Sulphur Cycle: Biomass High Level Emissions
help=Set .true. to select Sulphur Cycle Biomass High Level Emissions.
type=logical

[namelist:run_aerosol=l_bmass_surem]
compulsory=true
description=Sulphur Cycle: Biomass Surface Emissions
help=Set .true. to select Sulphur Cycle Biomass Surface Emissions.
type=logical

[namelist:run_aerosol=l_dms_em]
compulsory=true
description=Sulphur Cycle: DMS Emissions
help=Set .true. to select Sulphur Cycle Di-Methyl Sulphide Emissions.
type=logical

[namelist:run_aerosol=l_dms_em_inter]
compulsory=true
description=Sulphur Cycle: Interactive DMS Emissions
help=Set .true. to select Sulphur Cycle Interactive DMS Emissions.
trigger=namelist:run_aerosol=i_dms_flux: .true.;
type=logical

[namelist:run_aerosol=l_nh3_em]
compulsory=true
description=Sulphur Cycle: Ammonia emissions included
help=Set .true. to include Ammonia emissions
type=logical

[namelist:run_aerosol=l_nitrate]
compulsory=true
description=Sulphur Cycle: Ammonium nitrate aerosol
help=Set .true. to include ammonium nitrate aerosol.
    =Require both l_nh3 and valid ukca_chem scheme selected.
type=logical

[namelist:run_aerosol=l_ocff]
compulsory=true
description=Sulphur Cycle: Organic Carbon from Fossil Fuels scheme included
help=Set .true. to select Sulphur Cycle with OrganicCarbonFossilFuels active.
trigger=namelist:run_aerosol=l_ocff_surem: .true.;
       =namelist:run_aerosol=l_ocff_hilem: .true.
type=logical

[namelist:run_aerosol=l_ocff_hilem]
compulsory=true
description=Sulphur Cycle: Organic Carbon from Fossil Fuels High Level Emissions
help=Set .true. to select Sulphur Cycle OCFF High Level Emissions.
type=logical

[namelist:run_aerosol=l_ocff_surem]
compulsory=true
description=Sulphur Cycle: Organic Carbon from Fossil Fuels Surface Emissions
help=Set .true. to select Sulphur Cycle OCFF Surface Emissions.
type=logical

[namelist:run_aerosol=l_so2_hilem]
compulsory=true
description=Sulphur Cycle: SO2 High Level Emissions
help=Set .true. to select Sulphur Cycle Sulphur Dioxide High Level Emissions.
type=logical

[namelist:run_aerosol=l_so2_natem]
compulsory=true
description=Sulphur Cycle: SO2 Natural Emissions
help=Set .true. to select Sulphur Cycle Sulphur Dioxide Natural Emissions.
type=logical

[namelist:run_aerosol=l_so2_surfem]
compulsory=true
description=Sulphur Cycle: SO2 Surface Emissions
help=Set .true. to select Sulphur Cycle Sulphur Dioxide Surface Emissions.
type=logical

[namelist:run_aerosol=l_soot]
compulsory=true
description=Sulphur Cycle: Soot scheme included
help=Set .true. to select Sulphur Cycle with Soot active.
trigger=namelist:run_aerosol=l_soot_surem: .true.;
       =namelist:run_aerosol=l_soot_hilem: .true.
type=logical

[namelist:run_aerosol=l_soot_hilem]
compulsory=true
description=Sulphur Cycle: Soot High Level Emissions
help=Set .true. to select Sulphur Cycle Soot High Level Emissions.
type=logical

[namelist:run_aerosol=l_soot_surem]
compulsory=true
description=Sulphur Cycle: Soot Surface Emissions
help=Set .true. to select Sulphur Cycle Soot Surface Emissions.
type=logical

[namelist:run_aerosol=l_sulpc_dms]
compulsory=true
description=Sulphur Cycle: DMS MMR included
help=Set .true. to select Sulphur Cycle with Di-Methyl Sulphide active.
    =Require this switch to be .true. before most other DMS options
    =can be selected.
trigger=namelist:run_aerosol=l_dms_em: .true.;
       =namelist:run_aerosol=l_dms_em_inter: .true.
type=logical

[namelist:run_aerosol=l_sulpc_nh3]
compulsory=true
description=Sulphur Cycle: Ammonia included
help=Set .true. to include Ammonia tracer
trigger=namelist:run_aerosol=l_nh3_em: .true.;
       =namelist:run_aerosol=l_sulpc_so2_o3_nonbuffered: .true.
type=logical

[namelist:run_aerosol=l_sulpc_online_oxidants]
compulsory=true
description=Sulphur Cycle: Online oxidants
help=Set .true. to select depleted oxidants passed back to UKCA.
    =Require both l_sulpc_so2 and valid ukca_chem scheme selected.
type=logical

[namelist:run_aerosol=l_sulpc_ozone]
compulsory=true
description=Sulphur Cycle: Ozone oxidation included
help=Set .true. to include oxidation of DMS and SO2 by ozone
trigger=namelist:run_aerosol=l_sulpc_so2_o3_nonbuffered: .true.
type=logical

[namelist:run_aerosol=l_sulpc_so2]
compulsory=true
description=Sulphur Cycle: SO2 MMR included
help=Set .true. to select Sulphur Cycle with Sulphur Dioxide active.
    =Require this switch to be .true. before most other Sulphur Cycle options
    =can be selected.
trigger=namelist:run_aerosol=l_so2_surfem: .true.;
       =namelist:run_aerosol=l_so2_hilem: .true.;
       =namelist:run_aerosol=l_so2_natem: .true.;
       =namelist:run_aerosol=l_sulpc_dms: .true.;
       =namelist:run_aerosol=l_sulpc_ozone: .true.;
       =namelist:run_aerosol=l_sulpc_online_oxidants: .true.;
       =namelist:run_aerosol=l_sulpc_nh3: .true.;
       =namelist:run_aerosol=l_use_sulphate_sulpc: .true.
type=logical

[namelist:run_aerosol=l_sulpc_so2_o3_nonbuffered]
compulsory=true
description=Sulphur Cycle: SO2+O3 reaction NOT buffered by NH3
help=Set .true. for SO2+O3 reaction NOT buffered by Ammonia
type=logical

[namelist:run_aerosol=l_use_bmass_sulpc]
compulsory=true
description=Sulphur Cycle: Use biomass aerosol number
help=Set .true. to include biomass aerosol number in Sulphur Cycle.
type=logical

[namelist:run_aerosol=l_use_nitrate_sulpc]
compulsory=true
description=Sulphur Cycle: Use ammonium nitrate aerosol number
help=Set .true. to include ammonium nitrate aerosol number in Sulphur Cycle.
type=logical

[namelist:run_aerosol=l_use_ocff_sulpc]
compulsory=true
description=Sulphur Cycle: Use organic carbon fossil fuel aerosol number
help=Set .true. to include OCFF aerosol number in Sulphur Cycle.
type=logical

[namelist:run_aerosol=l_use_seasalt_pm]
compulsory=true
description=Sulphur Cycle: Use sea-salt aerosol number in PM diagnostics
help=Set .true. to include sea-salt aerosol number in PM diagnostics.
    =This is an unconditional choice.
type=logical

[namelist:run_aerosol=l_use_seasalt_sulpc]
compulsory=true
description=Sulphur Cycle: Use sea-salt aerosol number
help=Set .true. to include sea-salt aerosol number in Sulphur Cycle.
type=logical

[namelist:run_aerosol=l_use_sulphate_sulpc]
compulsory=true
description=Sulphur Cycle: Use sulphate aerosol number
help=Set .true. to include sulphate aerosol number in Sulphur Cycle.
type=logical

[namelist:run_aerosol=ocff_high_level]
description=Model level to emit OCFF high level emissions into
fail-if=this < 1 or this > namelist:nlsizes=model_levels
help=This must be between 1 and the number of model levels. It will be
    = ignored if the CLASSIC aerosol scheme is off,
    =or the OCFF scheme is
    = off,
    =or there are no high level OCFF emissions.
sort-key=d1
type=integer

[namelist:run_aerosol=so2_high_level]
description=Model level to emit SO2 high level emissions into
fail-if=this < 1 or this > namelist:nlsizes=model_levels
help=This must be between 1 and the number of model levels. It will be
    = ignored if the CLASSIC aerosol scheme is off,
    =or the sulphur scheme is
    = off,
    =or there are no high level SO2 emissions.
sort-key=a1
type=integer

[namelist:run_aerosol=soot_high_level]
description=Model level to emit soot high level emissions into
fail-if=this < 1 or this > namelist:nlsizes=model_levels
help=This must be between 1 and the number of model levels. It will be
    = ignored if the CLASSIC aerosol scheme is off,
    =or the soot scheme is
    = off,
    =or there are no high level soot emissions.
sort-key=b1
type=integer

[namelist:run_bl]
compulsory=true
description=run_bl
ns=namelist/um/section03
title=Section 03 - Boundary Layer

[namelist:run_bl=alpha_cd_batches]
compulsory=true
description=Time weights for Boundary Layer Levels: number of batches
help=BL levels are grouped into batches,
    =each with a particular time weight
length=:
type=integer

[namelist:run_bl=alpha_cd_items]
compulsory=true
description=Time weights for BL Levels: number of items in each batch
help=BL levels are grouped into batches,
    =each with a particular time weight
length=:
type=integer

[namelist:run_bl=alpha_cd_vals]
compulsory=true
description=Time weights for BL Levels: time weight value for each batch
help=BL levels are grouped into batches,
    =each with a particular time weight
length=:
type=real

[namelist:run_bl=bdy_tke]
compulsory=true
description=TKE option
help=The <1A> version consists of the prognostic TKE based turbulent
    = closure models,
    =including the Mellor-Yamada model Level 3 and 2.5
    = improved by Nakanishi and Niino (2004,
    =2006,2009)(called "MYNN"),
    =and the first order eddy diffusive model based on Deardorff(1980).
    = Options on the TKE schemes can be configured through another panel
    = "TKE schemes" you open open with the bottom button.
    = In some cases (e.g. the Smagorinsky scheme is employed,
    =or levels to predict the turbulent related prognostic variables is
    = less than BL_LEVELS),
    =the local scheme is called and the associated
    = configurations should be done through this panel. Parameters related
    = to the stablity functions used in the local scheme are activated only
    = when
    =  "No polar filter" and "Subgrid turbulence scheme"
    =  for "Horizontal Diffusion" in the section 13 are selected
    = or
    =  The switch for "Use the local scheme above TKE_LEVELS and
    =  below BL_LEVELS" in the panel for the TKE_Closure is turned on.
range=1:3
type=integer

[namelist:run_bl=buddy_sea]
compulsory=true
description=switch to use the wind speed from adjacent sea points
           = for the sea part of coastal grid points
help=Use the wind speed from adjacent sea points
    = for the sea part of coastal grid points
range=0,1
type=integer

[namelist:run_bl=cbl_op]
compulsory=true
description=Options for convective BL stability functions
help=0 (Standard UM),1 (Conventional LEM),
    =2 (Keep neutral stability for Ri<0),
    =3 Standard LEM
    =
    = Four options are available for the stability functions for unstable
    = Richardson numbers: the long-standing UM functions,
    =removing the stability
    = dependence entirely (so that the neutral value is used) and those described as
    = the "standard" and "conventional" subgrid models in the LES of Brown (1999).
    = The conventional model gives significantly less mixing than the standard LEM
    = and the standard LEM give very similar momentum mixing to the original UM but
    = has a significantly larger Prandtl number in the convective limit (0.44 vs 0.14).
    = Selection of any LEM stable or unstable function will also impose a neutral
    = Prandtl number of 0.7 (compared to 1.0 otherwise).
range=0:3
type=integer

[namelist:run_bl=charnock]
compulsory=true
description=mean charnock parameter - STPH_RP scheme
help=mean charnock parameter - STPH_RP scheme
range=0.0:1.0
type=real

[namelist:run_bl=cor_mo_iter]
compulsory=true
description=Options for correcting Monin-Obukhov surface exchange calculation
help=This integer switch controls successive corrections to BL code,
    =as follows:
    =
    = 0: No corrections.
    = 1: Remove over-compensation for convective gustiness in light winds.
    = 2: Correct the value of U* used by the dust scheme and Flake.
    = 3: Correct the value of the Obukhov length in the low-wind limit.
range=0:3
type=integer

[namelist:run_bl=dec_thres_cloud]
compulsory=true
description=Decoupling threshold for cloudy boundary layers
           = (larger makes decoupling less likely)
help=Decoupling threshold for cloudy boundary layers
    = (larger makes decoupling less likely)
range=0.0:1.0
type=real

[namelist:run_bl=entr_enhance_by_cu]
compulsory=true
description=8C scheme ONLY: switch for enhanced entrainment in
           = decoupled stratocu over cu;
help=OFF (=0) => not used;
    = Buoyrev_feedback (=1) => buoyancy reversal,
    =feedback enhanced
    = by Cu for 0<D<0.1
range=0,1
type=integer

[namelist:run_bl=fd_stab_dep]
compulsory=true
description=switch for stability dependence of orographic form drag
help=include stability dependence of orographic form drag
range=0:1
type=integer

[namelist:run_bl=flux_grad]
compulsory=true
description=Switch for revised flux-gradient relationships
help=0 - Surface-driven gradient adjustment for heat only,
    =2 - Generic flux-gradient relationship
range=0,2
type=integer

[namelist:run_bl=formdrag]
compulsory=true
description=Switch for orographic form drag
help=No_drag=0,Effective_z0=1,Explicit_stress=2
range=0:2
type=integer

[namelist:run_bl=fric_heating]
compulsory=true
description=Switch to apply heating source from turbulence dissipation
help=Apply heating source from turbulence dissipation
    = The drag on the resolved scale flow exerted by the boundary layer turbulence
    = parametrization should ultimately be dissipated as heat but unless this option
    = is selected this heating is ignored. It is recommended to be implemented
    = in all model versions.
range=0,1
type=integer

[namelist:run_bl=i_bl_vn]
compulsory=true
description=Boundary layer scheme version
help=0: no boundary layer scheme
    = 1: 1A Prognostic TKE-based turbulent closure
    = 2: 9B Non-local scheme with revised diagnosis of K-profile depths
    = 3: 9C Revised entrainment fluxes plus new scalar flux-gradient option
sort-key=a1
trigger=namelist:run_bl=flux_grad: 3;
       =namelist:run_bl=entr_enhance_by_cu: 3;
       =namelist:run_bl=dec_thres_cloud: 3;
       =namelist:run_bl=relax_sc_over_cu: 3;
       =namelist:run_bl=bdy_tke: 1;
       =namelist:run_bl=tke_dlen: 1;
       =namelist:run_bl=tke_cm_mx: 1;
       =namelist:run_bl=tke_cm_fa: 1;
       =namelist:run_bl=my_prod_adj_fact: 1;
       =namelist:run_bl=tke_levels: 1;
       =namelist:run_bl=my_ini_dbdz_min: 1;
       =namelist:run_bl=my_z_limit_elb: 1;
       =namelist:run_bl=wb_ng_max: 1;
       =namelist:run_bl=shcu_levels: 1;
values=0,1,2,3

[namelist:run_bl=idyndiag]
compulsory=true
description=Switch to use zi/L in the diagnosis of shear-driven
           = boundary layers
help=0,not used; 1,
    =over sea uses zi/L but gives problems when BL_LEVELS
    = is high
    = 2,
    =as 1 but copes with high BL_LEVELS
    = 3,
    =as 2 but only applied to points diagnosed with Cumulus and
    =                           strictly for sea points (fland<0.01,
    =cf 0.5)
    = 4,
    =as 3 but also overrides Cumulus diagnosis if
    = ZH(Ri) > ZLCL+zhloc_depth_fac*(ZHPAR-ZLCL).
    = Note that here Ri accounts for gradient adjustment by the
    = non-local scheme.
    = This option allows further checks on the diagnosis of boundary
    = layers over the sea.  Select 0 to switch these off.  Option 1
    = was found to cause problems when BL_LEVELS was set much greater
    = than 3km and so is no longer recommended.
    = Under option 2,
    =in situations where surface conditions are close to
    = neutral and the land fraction is less than a half,
    =the thermodynamic
    = parcel ascent diagnosis of both cumulus and non-local boundary layers
    = are over-ruled to leave turbulent mixing to be determined by the local
    = Richardson number scheme only.
    = Option 3 is the same as 2 but only overrules a diagnosis of a cumulus
    = layer and is also only applied to points with no land fraction.
    = Option 4 builds on option 3 by further restricting a Cumulus diagnosis
    = to allow for disruption of cumulus formation through vertical wind
    = shear (diagnosed through a sub-critical Richardson number profile
    = extending well into the cloud layer).  Under these circumstances the
    = non-local boundary layer scheme is allowed to mix up to the original
    = parcel ascent top.
    = Additionally,
    =for all options (other than 0) the consistency of the
    = provisional diagnosis of an unstable boundary layer in CONV_DIAG is
    = checked against the surface flux diagnosed by the surface exchange
    = routines.
range=0:4
trigger=namelist:run_bl=zhloc_depth_fac: 4;
type=integer

[namelist:run_bl=iseaz0t]
compulsory=true
description=option for thermal roughness length at sea points
help=
range=0,1
type=integer

[namelist:run_bl=isrfexcnvgust]
compulsory=true
description=Switch to include the effect of convective downdraughts
           = on surface exchange
help=OFF (=0) => not used: only boundary-layer gustiness is considered
    = (original version);
    = IP_SrfExWithCnv (=1) the impact of gustiness due to
    = boundary layer eddies is reduced relative to the above,
    =but eddies driven by convective downdraughts are included
    =
    = Surface exchange is affected by the mean wind,
    =eddies spanning the depth of
    = the boundary layer and eddies driven by convective downdraughts. Originally
    = in the UM only boundary layer eddies were considered. If convective
    = downdraughts are included,
    =the impact of boundary-layer eddies on surface
    = exchange is reduced and convective eddies are explicitly included using
    = a parametrization due to Redelsperger et al. (2000),
    =J. Climate,13,p. 402.
range=0,1
type=integer

[namelist:run_bl=l_adv_turb_field]
compulsory=false
description=switch for advection of prognostic variables in TKE scheme
           =(E_TRB,
           =TSQ,QSQ,COV)
help=advection of prognostic variables in TKE scheme (E_TRB,TSQ,
    =QSQ,COV)
type=logical

[namelist:run_bl=l_full_lambdas]
compulsory=true
description=Switch for Lambdas NOT reduced above NTML_LOCAL+1
help=Lambdas NOT reduced above NTML_LOCAL+1
    = Also the pre-vn6.2 code in EXCOEF6A and BDY_EXPLB8A has mixing
    = length reduced above the top of the local mixing layer.
    = Some operational configurations have used a modset to skip this.
type=logical

[namelist:run_bl=l_lambdam2]
compulsory=true
description=Switch to set LambdaM=2*LambdaH
help=Set LambdaM=2*LambdaH
    = For  operational  purposes  it  has  been  found  best  to  enhance  the
    = asymptotic  momentum mixing  length (LAMBDAM)  in the  Richardson number
    = scheme. This is done by changing LAMBDAM = MAX (LAMBDA_MIN,
    =0.15*ZH) to
    = LAMBDAM =  MAX (LAMBDA_MIN,0.30*ZH),
    =where  ZH is the  boundary layer
    = depth and LAMBDA_MIN is 40m.
type=logical

[namelist:run_bl=l_local_above_tkelvs]
compulsory=true
description=diffusion coefficients evaluation option
help=If TRUE and the parameter "tke_levels" is less than bl_levels,
    =diffusion coefficients between tke_levels + 1 and bl_levels are
    = evaluated with the stability function (i.e. local scheme)
type=logical

[namelist:run_bl=l_my_condense]
compulsory=true
description=buoyancy parameters option
help=If TRUE,
    =buoyancy parameters appearing in TKE production
    = by buoyancy are evaluated with predicted variants assuming
    = that fluctuation of heat and moisture can be described by
    = the bi-normal probability distribution function.
    = If false,
    =buoyancy parameters calculated in the large scale
    = clouds scheme (e.g. Smith,
    =PC2...),are employed to evaluate
    = the buoyancy flux.
type=logical

[namelist:run_bl=l_my_ini_zero]
compulsory=true
description=initialise prognostics to zero option
help=If T or missing,
    =prognostic values are set via reconfiguration,
    =initialized to zero
type=logical

[namelist:run_bl=l_my_initialize]
compulsory=true
description=TKE scheme prognostics initialisation option
help=If TRUE,
    =TKE scheme prognostics are initialized assuming balance
    = between production and dissipation.
    = If missing,
    =values are set to the prognostic variables via
    = reconfiguration,
    =the initialization will be automatically conducted.
type=logical

[namelist:run_bl=l_my_prod_adj]
compulsory=true
description=Switch for production terms of covariance brought by the
           = counter gradient terms adjusted to ensure stability in
           = integration
help=production terms of covariance brought by the
    = counter gradient terms adjusted to ensure stability in integration
type=logical

[namelist:run_bl=l_print_max_tke]
compulsory=true
description=switch to print max values of TKE prognostics
help=print max values of TKE prognostics
type=logical

[namelist:run_bl=l_shcu_buoy]
compulsory=true
description=If TRUE,
           =non-gradient buoyancy flux based on
           = Lock and Mailhot(2006) is added
help=If TRUE,
    =non-gradient buoyancy flux based on
    = Lock and Mailhot(2006) is added
type=logical

[namelist:run_bl=local_fa]
compulsory=true
description=Free atmospheric turbulent mixing option
help=0 - code as standard prior to UM7 (no additional changes to
    =  turbulent mixing above the boundary layer).
    = 1 - the stable stability function requested relaxes towards
    =  the "SHARPEST" function with height above the surface,
    =with a fixed height scale of 1km.  If "Mixing lengths in RiSc
    =  not reduced above boundary layer" is selected this option
    =  will also smoothly merge to the asymptotic mixing length
    =  by 3km above the surface.
    = 2 - as (0) but corrects the level (ntml_local) below which
    =  the boundary layer value is used
    = 3 - as (2) but uses interactively diagnosed turbulent layer
    =  depths throughout the atmospheric column
range=0:3
type=integer

[namelist:run_bl=my_ini_dbdz_min]
compulsory=true
description=lower limit for dbdz in the initialization to prevent huge
           = initial values
help=lower limit for dbdz in the initialization to prevent huge
    = initial values
range=1.0e-10:1.0e+10
type=real

[namelist:run_bl=my_lowest_pd_surf]
compulsory=true
description=production terms for covariances option
help=If TRUE,
    =the production terms for covariances are evaluated
    = with surface fluxes. Valid only for MY_lowest_pd_surf > 0
range=0:2
type=integer

[namelist:run_bl=my_prod_adj_fact]
compulsory=true
description=Factor in production term adjustment related to diffusion
help=Factor in production term adjustment related to diffusion
length=:
range=0.0:1.0
type=real

[namelist:run_bl=my_z_limit_elb]
compulsory=true
description=IF Z_TQ > MY_z_limit_elb,
           =elb is limited less than vertical
           = grid spacing
help=IF Z_TQ > MY_z_limit_elb,
    =elb is limited less than vertical
    = grid spacing
range=0.0:1.0e+10
type=real

[namelist:run_bl=nl_bl_levels]
compulsory=true
description=number of levels for non_local shceme
help=number of levels for non_local shceme
type=integer

[namelist:run_bl=orog_drag_param]
compulsory=true
description=Drag coefficient for orographic form drag
help=Drag coefficient for orographic form drag,default 0.3
range=0.01:10.0
type=real

[namelist:run_bl=prandtl]
compulsory=true
description=Prandtl number option in local Ri scheme
help=0 - Constant_SBL,1 - LockMailhot2004
range=0,1
type=integer

[namelist:run_bl=pstb]
compulsory=true
description=parameter for uncond stable numerical solver in
           = unstable BL column
help=parameter for uncond stable numerical solver in
    = unstable BL column
range=0.0:100.0
type=real

[namelist:run_bl=puns]
compulsory=true
description=parameter for uncond stable numerical solver in
           = unstable BL column
help=parameter for uncond stable numerical solver in
    = unstable BL column
range=0.0:100.0
type=real

[namelist:run_bl=relax_sc_over_cu]
compulsory=true
description=Switch to relax the requirements for diagnosis of Sc over Cu
           = to be for all cumulus,
           =not just shallow
help=relax the requirements for diagnosis of Sc over Cu
    = to be for all cumulus,
    =not just shallow
range=0,1
type=integer

[namelist:run_bl=sbl_op]
compulsory=true
description=Stable boundary layer option
help=Stable boundary layer option
    = Long_tails=0,Sharpest=1,
    =Sharp_sea_long_land=2,Mes_tails=3,Louis_tails=4,
    =Depth_based=5,Sharp_sea_mes_land=6,LEM_stability=7,
    =Sharp_sea_Louis_land=8,Equilibrium_SBL=9
    =
    = From version 6.2,
    =the number of stable boundary layer options has been
    = increased. The first nine options are variations on the Richardson
    = number scheme (RiSc) and reflect the range of tunings used in
    = operational models. The functions listed in increasing order of mixing
    = strength are: SHARPEST,
    =Louis,
    =Long tails. The first long tails option
    = is the default. The option to use SHARPEST over the sea and Louis/Long
    = tails over land allows a weighting between Louis and Long tails. If the
    = weighting is set to 0,
    =Louis tails are assumed over land,while if it
    = is set to 1,
    =the scheme gives pure long tails. Values between 0 and 1
    = allow intermedite combinations. Where the SHARPEST function is used,
    =there is an additional option to use a critical Richardson number of
    = 0.25 instead of the standard value of 1. Also within the Richardson
    = number scheme is the option to make the Prandtl number (the ratio of
    = momentum to heat diffusion coefficients) a function of the Richardson
    = number,
    =rather than take a constant value of unity.  This option also
    = changes the neutral Prandtl number to 0.7.
    =
    = Selecting the LEM stability functions enables the user to use a
    = stability dependence more relevant to Large-eddy simulation and can be
    = used if direct comparison with the Met Office LEM is desired.
    =
    = The Equilibrium stable boundary layer scheme is a
    = complex research formulation based on the second-moment equations with
    = boundary layer depth as a controlling parameter. The Boundary layer
    = depth based formulation option is a simpler scheme than the Equilibrium
    = one based on boundary layer depth derived from the turbulent kinetic
    = energy budget.
range=0:9
trigger=namelist:run_bl=weightlouistolong: 8;
type=integer

[namelist:run_bl=seasalinityfactor]
compulsory=true
description=Scaling of qsat allowing for salinity of sea water
help=Scaling of qsat allowing for salinity of sea water
range=0.0:1.0
type=real

[namelist:run_bl=sg_orog_mixing]
compulsory=true
description=SBL mixing dependent on sg orography
help=Drainage flows often form in hilly areas as the air near the surface cools
    = at night.  Where these flows are on scales too small to be resolved their effects
    = on vertical mixing (through induced wind shear) should be included.
    = Two independent methods to do this have been coded.  Currently these require
    = the orographic stress (LAND_SURF panel) and GWD schemes to be switched on
    = in order to have the necessary ancillary fields loaded.  Options (2) and (3)
    = currently convert these into a mean slope using an empirical relationship
    = derived for the UKV only,
    =and so this is not recommended for any other model.
    = The options are:
    = 1 - extending length of SHARPEST tail following McCabe and Brown (2007)
    = 2 - include subgrid drainage shear in Ri and diffusion coefficients
    = 3 - as 2 + orographically enhanced lambda_m (note lambda_h enhancement
    =     not included in bdy_expl2 in error but now operational in UKV)
    =     and smooth decrease to lambda_min above
range=0:3
type=integer

[namelist:run_bl=shcu_levels]
compulsory=true
description=max level to evaluate the non-gradient buoyancy flux
help=max level to evaluate the non-gradient buoyancy flux
range=-1:
type=integer

[namelist:run_bl=subs_couple_fix]
compulsory=true
description=Switch to suppres subsidence coupling with entrainment
           = unless w well-behaved
help=suppres subsidence coupling with entrainment
    = unless w well-behaved
range=0,1
type=integer

[namelist:run_bl=tke_cm_fa]
compulsory=true
description=A proportional coef CM above the top of mixed layer
           =   K = CM * SQRT(E) * L
help=A proportional coef CM above the top of mixed layer
    =   K = CM * SQRT(E) * L
range=0.0:9999.0
type=real

[namelist:run_bl=tke_cm_mx]
compulsory=true
description=A proportional coef CM below the top of mixed layer
           =   K = CM * SQRT(E) * L
help=A proportional coef CM below the top of mixed layer
    =   K = CM * SQRT(E) * L
range=0.0:9999.0
type=real

[namelist:run_bl=tke_dlen]
compulsory=true
description=Option for choosing mixing length in first order model
help=Option for choosing mixing length in first order model
range=1:3
type=integer

[namelist:run_bl=tke_levels]
compulsory=true
description=maximum level to predict the prognostic variables in the
           = TKE scheme
fail-if=this > namelist:nlsizes=bl_levels
help=maximum level to predict the prognostic variables in the TKE scheme
range=1:
type=integer

[namelist:run_bl=trweights1]
compulsory=true
description=Switch to use implicit weights of 1 for tracers
help=Use implicit weights of 1 for tracers
range=0,1
type=integer

[namelist:run_bl=variable_ric]
compulsory=true
description=Switch to allow different critical Richardson numbers in the
           = diagnosis of BL depth
help=0 - RiC=1 everywhere,1 - RiC=0.25 for SHARPEST,1 otherwise
range=0.0:1.0
type=integer

[namelist:run_bl=wb_ng_max]
compulsory=true
description=max limit for the non-gradient buoyancy flux
help=max limit for the non-gradient buoyancy flux
range=0.0:9999.0
type=real

[namelist:run_bl=weightlouistolong]
compulsory=true
description=Weighting of the Louis tail towards long tails:
help=0.0 - Louis tails,1.0 - Long tails
range=0.0:1.0
type=real

[namelist:run_bl=zhloc_depth_fac]
compulsory=true
description=For idyndiag options DynDiag_Ri based and DynDiag_RiGA based:
           = the fractional height into the cloud layer reached by the
           = local Ri-based BL depth calculation
help=For idyndiag options DynDiag_Ri based and DynDiag_RiGA based:
    = the fractional height into the cloud layer reached by the
    = local Ri-based BL depth calculation
range=0.0:1.0
type=real

[namelist:run_blveg]
compulsory=true
ns=namelist/pending/um/run_blveg

[namelist:run_blveg=i_veg_vn]
compulsory=true
description=Vegetation scheme version
help=Vegetation distribution
ns=namelist/pending/um/run_blveg
value-titles=Fixed,Interactive
values=1,2

[namelist:run_cloud]
compulsory=true
description=run_cloud
ns=namelist/um/section09
title=Section 09 - Large Scale Cloud

[namelist:run_cloud=allicetdegc]
# dependent on namelist:run_cloud=l_pc2 being ON
compulsory=true
description=All condensate is detrained as ice by (deg C)
help=When the method for coupling PC2 to convection scheme is 3 or later,
    =this sets
    = the temperature at which all condensate has detrained to ice.
range=-99.0:0.0
type=real

[namelist:run_cloud=cff_spread_rate]
compulsory=true
description=Ice cloud fraction spreading rate
help=When the method for creating liquid cloud fraction when supersaturated in pc2_checks
    = is 0 or 2,
    =this controls the rate at which ice cloud fraction spreads.
range=1.0e-9:1.0e-1
type=real

[namelist:run_cloud=cloud_fraction_method]
# dependent on namelist:run_cloud=l_pc2 being OFF
compulsory=true
description=Explicitly set overlap between liquid and ice phases
help=Explicitly set overlap between liquid and ice phases
    =
    = Without this option set we assume a minimum overlap between liquid
    = and ice phases (within the standard Smith scheme,
    =PC2 will use
    = a prognosticly varying overlap). With this option you can specify
    = a specific degree of overlap. For minimum overlap,
    =specify -1.0;
    = for random overlap,
    =specify 0.0; for maximum overlap,
    =specify 1.0.
    = For intermediate degrees of overlap,
    =specify a number between the
    = range of -1.0 and 1.0. This option has no impact when using PC2.
values=1,2

[namelist:run_cloud=dbsdtbs_turb_0]
# dependent on namelist:run_cloud=l_pc2 being ON
compulsory=true
description=Value of cloud erosion / s-1
help=Method for doing PC2 cloud erosion
    =
    = 1) Default method as described in Wilson et al (2008). A relative rate of
    = narrowing of the moisture PDF is calculated from the relative humidity.
    = Self consistent changes in qcl and CFL are then inferred from the change
    = in the PDF width.
    =
    = The "value of cloud erosion" represents the
    = relative rate of change of width of the moisture PDF by cloud erosion
    = processes when RH=1. It should be a NEGATIVE value to represent mixing
    = within the gridbox. In HadGEM2,
    =the standard value was -2.25E-5 for
    = 38-level simulations and -9.0E-5 for 70 level simulations.
    = Changing the erosion and is a way of tuning shallow cumulus cloud in PC2.
    = A value of -4.5e-5 was used in GA3.0.
    =
    = 2) Surface area-Tiedtke-PC2 hybrid method: cloud erosion reduces qcl is a
    = manner similar to the Tiedtke formulation,
    =but with an additional dependence
    = of the exposed surface area,
    =inferred from the cloud fraction and the vertical
    = overlap. The relative rate of narrowing which would have led to the same
    = reduction of qcl is then used to infer the change in CFL in a manner consistent
    = with the PC2 moisture PDF assumptions. This method is still experimental.
    =
    = 3) As 2) but the exposed surface area depends on the lateral sides only and
    = not on the top and bottom faces.
    =
    = The "value of cloud erosion" should be POSITIVE if using Options 2 or 3.
    = Values of 5.0e-5,
    =1.0e-4 and 2.0e-4 were tried when developing GA4.0.
range=-1.0e-2:1.0e-2
type=real

[namelist:run_cloud=i_fixbug_pc2_checks]
# dependent on namelist:run_cloud=l_pc2 being ON
compulsory=true
description=Method for creating liquid cloud fraction when supersaturated in pc2_checks (0,
           =1,2)
help=Method for creating liquid cloud fraction when supersaturated in pc2_checks
    =
    = The routines PC2_checks creates some QCL if the grid-box has a negative
    = saturation deficit.
    =
    = Option 0 increases QCL while leaving liquid cloud fraction unchanged.
    = Option 1 increases QCL and sets liquid cloud fraction to 1.0.
    = Option 2 increases QCL and increases liquid cloud fraction to maintain
    = same in-cloud liquid water content. If there is no liquid cloud
    = fraction,
    =liquid cloud fraction is created with a specified
    = in-cloud liquid water content.
trigger=namelist:run_cloud=cff_spread_rate: this != 1
values=0,1,2

[namelist:run_cloud=i_pc2_conv_coupling]
# dependent on namelist:run_cloud=l_pc2 being ON
compulsory=true
description=Method for coupling PC2 to convection scheme
help=Method for coupling PC2 to convection scheme
    =
    = 1) Original code as described in Wilson et al (2008a,
    =b),
    =with no consistency checks.
    =
    = 2) As 1) but with checks to ensure convection does not create unrealistically
    = high in-cloud condensate amounts.
    =
    = 3) As 2) but the condensate detrained by convection is allowed to change phase
    = smoothly from liquid to ice depending on temperature of environment (rather
    = than being detrained with the same phase as in the convective plume,
    =which
    = changes abruptly). The range of temperatures over which the condensate changes
    = phase can be entered via the gui/namelist.
    =
    = 4) As 3) but with effects of detrainment and subsidence on cloud fraction
    = being considered seperately,
    =and with cloud fraction increments calculated
    = by assuming new cloud has a specified in-cloud condensate amount. This option
    = is still experimental!
    =
    = 5) As 4) but with effects of detrainment and subsidence on mixed-phase
    = cloud fraction considered explicitly. This option is still experimental!
    =
    = When using Options 3 onwards,
    =the range of temperatures over which the
    = condensate changes phase can be entered via the GUI.
range=1:5
trigger=namelist:run_cloud=allicetdegc: this > 2;
       =namelist:run_cloud=starticetkelvin: this > 2;
type=integer

[namelist:run_cloud=i_pc2_erosion_method]
# dependent on namelist:run_cloud=l_pc2 being ON
compulsory=true
description=Method for doing PC2 cloud erosion
help=Method for doing PC2 cloud erosion
    =
    = 1) Default method as described in Wilson et al (2008). A relative rate of
    = narrowing of the moisture PDF is calculated from the relative humidity.
    = Self consistent changes in qcl and CFL are then inferred from the change
    = in the PDF width.
    =
    = The "value of cloud erosion" represents the
    = relative rate of change of width of the moisture PDF by cloud erosion
    = processes when RH=1. It should be a NEGATIVE value to represent mixing
    = within the gridbox. In HadGEM2,
    =the standard value was -2.25E-5 for
    = 38-level simulations and -9.0E-5 for 70 level simulations.
    = Changing the erosion and is a way of tuning shallow cumulus cloud in PC2.
    = A value of -4.5e-5 was used in GA3.0.
    =
    = 2) Surface area-Tiedtke-PC2 hybrid method: cloud erosion reduces qcl is a
    = manner similar to the Tiedtke formulation,
    =but with an additional dependence
    = of the exposed surface area,
    =inferred from the cloud fraction and the vertical
    = overlap. The relative rate of narrowing which would have led to the same
    = reduction of qcl is then used to infer the change in CFL in a manner consistent
    = with the PC2 moisture PDF assumptions. This method is still experimental.
    = 3) As 2) but the exposed surface area depends on the lateral sides only and
    = not on the top and bottom faces.
    = The "value of cloud erosion" should be POSITIVE if using Options 2 or 3.
    = Values of 5.0e-5,
    =1.0e-4 and 2.0e-4 were tried when developing GA4.0.
range=1:3
type=integer

[namelist:run_cloud=ice_width]
# dependent on namelist:run_cloud=l_pc2 being ON
compulsory=true
description=Ice width
help=Ice_Width (only applicable when PC2 is switched on)
    =
    = Ice_width specifies the ice content (in terms of a fraction of qsat_liq) that
    = corresponds to a factor of two reduction in the width of the vapour distribution
    = in the liquid-free part of the gridbox.
range=0.0:1.0
type=real

[namelist:run_cloud=l_acf_cusack]
compulsory=true
description=Use the Cusack method of cloud parameterization based on temperature
           =and moisture profiles.
help=This method of cloud area parametrization assumes
    =subgrid vertical gradients in T and q,
    =following the method of Cusack
    =(this method also slightly alters the volume cloud fraction). This is used for
    =HadGAM1a. A similar method using interpolation and extrapolation of T and q
    =profiles has also been developed for use with PC2 (Boutle and Morcrette,
    =2010)
type=logical

[namelist:run_cloud=l_add_cca_to_mcica]
# dependent on McICA being active (i.e. in radiation, i_cloud=10)
compulsory=false
description=Include convective cloud in cloud generator
help=Allows radiation to "see" convective cloud when McICA
    = scheme is in use by adding the convective cloud directly
    = to the cloud generator.
type=logical

[namelist:run_cloud=l_cld_area]
compulsory=true
description=Include cloud area parametrization (Gen2 Rad only)
help=Including cloud area parametrization
    =
    =The cloud area parametrization (L_CLD_AREA=.true.) produces an estimate of
    =the area cloud fraction (looking down on a gridbox from above). This area
    =estimate (rather than the volume estimate) is used by the Edwards-Slingo
    =radiation scheme in order to calculate the radiative impact of the cloud. There
    =are two ways of calculating the area cloud fraction. The first is to assume
    =subgrid vertical gradients in T and q,
    =following the method of Cusack
    =(this method also slightly alters the volume cloud fraction). This is used for
    =HadGAM1a. A similar method using interpolation and extrapolation of T and q
    =profiles has also been developed for use with PC2 (Boutle and Morcrette,
    =2010).
    =The second method is to diagnostically relate the volume cloud fraction
    =to the area cloud fraction,
    =following the method of Brooks (although
    =this is not applied when convection is active).
trigger=namelist:run_cloud=l_acf_cusack: .true.
type=logical

[namelist:run_cloud=l_eacf]
# dependent on namelist:run_cloud=l_pc2 being OFF
compulsory=true
description=Use empirically adjusted cloud fraction parametrization
help=Including empirically adjusted cloud fraction (EACF)
    =
    = This option will provide an artificial boost to the cloud fractions
    = (although not the condensate contents) to better agree with observations
    = of cloud fraction and water contents. It is included as a fix to
    = underprediction of cloud in the forecast models and is not physically
    = consistent with the Smith PDF. EACF is not consistent with,
    =or available
    = to use with PC2.
type=logical

[namelist:run_cloud=l_ensure_min_in_cloud_qcf]
# dependent on namelist:run_cloud=l_pc2 being ON
compulsory=true
description=Ensure a minimum in-cloud ice water content
help=Ensures that the model does not have very high ice cloud fractions with very
    = little ice water content in them by reducing the ice cloud fraction to
    = ensure a minimum in-cloud ice water content of 1.0e-6.
type=logical

[namelist:run_cloud=l_filter_cloud]
compulsory=true
description=Filter optically-thin ice clouds from diagnostics
help=Filter optically-thin ice clouds from diagnostics
    =The model can sometimes have grid-boxes where the cloud fraction is high,
    =but where the ice water content is so small that the cloud is unlikely
    =to have a significant radiative impact and counting that layer as cloudy
    =would be misleading when it comes to verifying the model against
    =observations when the sky appears relatively clear. Selecting this option
    =leads to a simple optical depth calculating being done and setting cloud
    =fraction to zero if the optical depth is below a user-specified threshold.
    =This is done using a simple approach,
    =neglecting the fact that multiple
    =thin layers could add up to an optically thick layer. Additionally,
    =this
    =option does not make use of sub-grid heterogeneity information,
    =such as
    =is used for McICA. This option only modifies the diagnostics and does
    =not affect the evolution of the model.
type=logical

[namelist:run_cloud=l_fixbug_pc2_mixph]
# dependent on namelist:run_cloud=l_pc2 being ON
compulsory=true
description=Use consistent formulation of mixed phase cloud fraction
help=Use consistent formulation of mixed-phase cloud fraction
    =
    = Selecting this option removes a number of inconsistencies with the treatment of
    = mixed phase cloud fraction that were present in the code pre vn8.2. These are:
    = 1) Advect the mixed phase cloud fraction instead of the bulk cloud fraction,
    =which gives better behaved numerics of the advection scheme.
    = 2) Use minimum overlap for ice and liquid cloud fraction everywhere,
    =rather than a mixture of minimum and random.
    = 3) Use two different equations for the boundary layer ice cloud fraction change,
    =depending on whether the ice water content has increased or decreased,
    =rather than one equation that assumes an increase only.
    = 4) Treat points where cloud fraction > 1 as if cloud fraction = 1,
    =rather than treating them as if cloud fraction = 0.
type=logical

[namelist:run_cloud=l_fixbug_pc2_qcl_incr]
# dependent on namelist:run_cloud=l_pc2 being ON
compulsory=true
description=Ensure consistent sinks of qcl and CFL
help=Ensure consistent sinks of qcl and CFL
    =
    = Without this option,
    =individual routines calculate QCL increments and these
    = are added together later when checks are done to ensure that the increments
    = cannot lead to negative QCL values. Using this options ensures,
    =at the level
    = of the individual subroutines,
    =that the QCL increment cannot remove more QCL
    = than there was to start with.
    = Additionally,
    =using this option ensures that qcl is set to zero if CFL
    = reaches zero.
type=logical

[namelist:run_cloud=l_micro_eros]
compulsory=true
description=Include Erosion prior to Microphysics
help=Include Erosion Prior to Microphysics
    =
    = Standard PC2 settings implement the erosion parametrization as part of the homogeneous
    = response to convection. However,
    =if PC2 is being used in a convection-permitting
    = configuration of the UM,
    =where the convection parametrization is not active,
    =then
    = this means that the erosion process would be missed out. This option calculates
    = the erosion process prior to the microphysics instead.
type=logical

[namelist:run_cloud=l_pc2]
compulsory=true
description=Use prognostic cloud scheme PC2?
help=Use prognostic cloud scheme PC2
    =
    =Choosing the PC2 scheme creates Prognostic Cloud and Prognostic
    =Condensate variables,
    =which are incremented as a result of each process
    =that occurs in the model.
trigger=namelist:run_cloud=l_eacf: .false.;
       =namelist:run_cloud=l_ensure_min_in_cloud_qcf: .true.;
       =namelist:run_cloud=l_fixbug_pc2_qcl_incr: .true.;
       =namelist:run_cloud=i_fixbug_pc2_checks: .true.;
       =namelist:run_cloud=l_fixbug_pc2_mixph: .true.;
type=logical

[namelist:run_cloud=l_pc2_lbc]
compulsory=true
description=Use PC2 lateral boundary conditions
help=Switch on the use of lateral boundary conditions for PC2 variables
type=logical

[namelist:run_cloud=l_rhcpt]
compulsory=true
description=Using RHCrit parametrization
help=Using RHCrit parametrization
    =
    =Using RHcrit parametrization (L_RHCPT=.true.) causes the
    =cloud scheme to diagnose RHcrit from the variability in moisture and
    =temperature in the grid-boxes around each grid-box. Hence it will not use the
    =level by level values specified in the user interface. The parameters for this
    =option were originally hard-wired to N48 values but now vary according to the
    =mean horizontal size of the gridbox.
type=logical

[namelist:run_cloud=pc2_falliceshear_method]
# dependent on namelist:run_cloud=l_pc2 being ON
compulsory=true
description=Select how shear affects falling ice cloud fraction
           = 0. Ignore the effects of shear
           = 2. Use shear derived from model winds
           = 1. Assume a globally constant shear
help=Select how shear affect falling ice cloud fraction
    =
    = In PC2 falling ice increases the ice cloud fraction in the layer it falls into.
    = There is the option to include the effects of the further increase in the
    = grid-box cloud fraction due to the lateral displacement as the ice falls
    = because of the vertical shear of the horizontal wind.
    = Either a) the effects of shear can be ignored,
    =b) a globally constant shear (not calculated from the actual wind)
    = can be assumed or
    = c) the effects of shear are considered and the shear is calculated
    = from the model wind.
    =
    = When not using the globally constant value an additional ice cloud fraction
    = source term is used to represent the lateral spreading out of ice cloud fraction
    = while maintaining the same grid-box mean ice water content.
values=0,1,2

[namelist:run_cloud=rhcrit]
compulsory=true
description=Critical relative humidity
help=The critical relative humidity is used in the cloud scheme to define the
    = ratio at which cloud starts to form. Different values are used in
    = different configurations and you are advised to look at standard jobs
    = to see the settings.
    = The number of values must match the number of wet levels in the model.
length=:
type=real

[namelist:run_cloud=starticetkelvin]
# dependent on namelist:run_cloud=l_pc2 being ON
compulsory=true
description=Start detraining condensate as ice at (Kelvin)
help=When the method for coupling PC2 to convection scheme is 3 or later,
    =this sets
    = the temperature at which detraining condensate as ice begins.
range=0.01:999.99
type=real

[namelist:run_cloud=tau_thresh]
compulsory=true
description=Optical-depth threshold
help=Threshold of optical depth below which the cloud fraction will be set to
    =zero when l_filter_cloud is true.
range=0.000:1.000
type=real

[namelist:run_convection]
compulsory=true
description=run_convection
ns=namelist/um/section05
title=Section 05 - Convection

[namelist:run_convection=a_convect_seg_size]
compulsory=true
description=Size of convection segments (alternative to No. of convection segments)
ns=namelist/um/section05/main_vars
range=1:999999,-99
type=integer

[namelist:run_convection=a_convect_segments]
compulsory=true
description=No of batches (or "segments") used in convection
ns=namelist/um/section05/main_vars
range=1:99,-99
type=integer

[namelist:run_convection=adapt]
compulsory=true
description=Adaptive detrainment option
help=This makes the proportion cloudy air detrained on a given model level
    = depend on the rate at which the buoyancy of the plume decreases with
    = height,
    =giving smoother mass flux profiles.
    = Operational models and HadGEM1a apply this to both mid and deep convection.
    = 0: 4A Scheme (Default)
    = 1: Adaptive detrainment: mid and deep convection
    = 2: experimental
    = 3: Adaptive detrainment,
    =deep convection
    = 4: Ditto,shallow,
    =mid and deep convection
    = 5: Smoothed adaptive detrainment,
    =mid and deep convection
    = 6: Ditto,shallow,
    =mid and deep convection;
    = 7,8: improved versions of 5,6
ns=namelist/um/section05/main_vars
range=0:8
type=integer

[namelist:run_convection=amdet_fac]
compulsory=true
description=Deep mixing entrainment control parameter.
help=Deep mixing detrainment
    = If some form of adaptive forced detrainment is chosen then
    = deep mixing detrainment is
    = amdet_fac*(1-RH)*E
    = where RH=rel. humidity,
    =E=entrainment rate. Usually =1.5
ns=namelist/um/section05/main_vars
range=0:10
type=real

[namelist:run_convection=anv_opt]
compulsory=true
description=Anvil profile basis
help=The anvil profile basis selects the vertical property with which
    = to apply the anvil profile:
    =
    = 0 - Pressure
    = 1 - Height
    = 2 - Model levels (Pre-UM vn6.6) (default if anvil basis not specified).
    = 3-9 - For future use,
    =will default to Pressure if used.
ns=namelist/um/section05/anvil
values=0,1,2

[namelist:run_convection=anvil_factor]
compulsory=true
description=Defining anvil factor.
help=The radiative representation of anvils modifies the convective
    = cloud amount (CCA) to vary with height during deep convection.
    =
    = This option REQUIRES a 3D Convective Cloud Field.
    = The CCA is multiplied by the namelist:run_convection=tower_factor
    = tower factor from the cloud base to the freezing level,
    =and increased
    = linearly from the freezing level to the cloud top. The cloud top value
    = is equal to the original CCA multiplied by the
    = namelist:run_convection=anvil_factor anvil factor. Usually =1
ns=namelist/um/section05/anvil
range=0:3
type=real

[namelist:run_convection=bl_cnv_mix]
compulsory=true
description=Sub cloud mixing method
help=Sub cloud mixing method (4A and 5A) - alternative methods of
    = mixing the convective increments below cloud base.
    =
    = 0 - original mixing. Mixes the convective temperature and humidity
    = increments from all sources below cloud base such that the total
    = convective increments are constant between the surface and the LCL.
    =
    = 1 - mix the initial perturbation increment only. Only the temperature
    = and humidity increments from the initial parcel perturbation are
    = mixed between the surface and the LCL. The increments from other
    = convective sources (i.e. downdraughts,
    =evaporation of precipitation
    = and updraught compensating subsidence) are not mixed.
ns=namelist/um/section05/main_vars
values=0,1

[namelist:run_convection=cape_bottom]
compulsory=true
description=Lowest model level for rescaling parametrized convection
ns=namelist/um/section05/cape
range=1:
type=integer

[namelist:run_convection=cape_min]
compulsory=true
description=Value of CAPE below which parametrized convection is reduced (J/kg).
help=Suggested values are 0.5 J/kg for the 4 km model and 250.0J/kg
    =for the 12 km model.
ns=namelist/um/section05/cape
range=0:2000
type=real

[namelist:run_convection=cape_opt]
compulsory=true
#trigger = namelist:run_convection=cape_bottom: 0, 1, 2, 4, 5;
#          namelist:run_convection=cape_top: 0, 1, 2, 4, 5;
#          namelist:run_convection=w_cape_limit: 0, 1, 2, 4, 5;
#          namelist:run_convection=cape_min: 4
description=Choice of Cape closure scheme
help=CAPE option
    =
    = The deep and mid-level convective mass flux schemes use a closure base
    = on convective available potential energy (CAPE).
    = CAPE timescale. This determines the e-folding time for the dissipation
    = of CAPE. There is some observational evidence for a timescale
    = of the order of an hour. The 4A scheme seems to work better with a shorter
    = CAPE timescale of around half an hour (1800 secs).
    =
    = The 4A and 5A mass flux deep and mid-level convection schemes use a CAPE
    = closure. The following variants of the CAPE closure are available where the
    = number in brackets is the value of the CAPE_OPT variable;
    = 0 - CAPE timescale reset depending on relative humidity
    =     with minimum timescale of 5 minutes. This reflects the fact that
    =     humid environments are more unstable to convection.
    =     (Not recommended for use as can allow timescale less than model convection
    =     timestep. Use options 1 or 6.)
    = 1 - CAPE timescale reset depending on relative humidity,
    =with minimum
    =     timescale limited to timestep.
    = 2 - Fixed CAPE timescale as set in namelist. Note that short timescales
    =     may result in intermittent convection,
    =while very long timescales
    =     may not remove instability fast enough and may leave the model at
    =     risk of grid point storms. (Original CAPE closure.)
    = 3 - Vertical velocity dependent CAPE timescale. Currently used by global,
    =NAE
    =     and HadGEM3. The vertical velocity dependent CAPE timescale works
    =     by reducing the CAPE timescale as the maximum vertical velocity w_max
    =     increases,
    =hence stabilising the model profiles at locations where the
    =     explicit convection is too strong. In this option the user needs to set
    =     the CAPE timescale (value may depend on resolution),
    =the threshold
    =     vertical velocity w_cape_limit (value depends on resolution) above which
    =     the CAPE timescale will be reduced and the levels from CAPE_bottom to
    =     CAPE_top over which this rescaling is to be carried out (suggested
    =     values 5 and 30 respectively in a 38 level model).
    = 4 - Grid-box area scaled CAPE timescale. May be used for high resolution
    =     models (1km,
    =4km) if convection is still being used. Convection is modified
    =     so that it is less active as the area of the grid box is decreased.
    =     The CAPE timescale is increased reducing the activity of the
    =     parametrized convection. The user needs to set the minimum value of
    =     CAPE namelist:run_convection=cape_min ; above this value,
    =the CAPE timescale is approximately unchanged,
    =while below the
    =     CAPE timescale will be lengthened in proportion to the value of
    =     CAPE (suggested values for namelist:run_convection=cape_min are 0.5
    =     J/kg for the 4 km model and 250.0J/kg for the 12 km model).
    = 5 - Option not available
    = 6 - CAPE timescale depending on relative humidity but reduced if the vertical
    =     velocity exceeds w_max (see option 3). Minimum CAPE timescale is the
    =     model convection timestep. Recommended reference CAPE timescale for use
    =     with this option is 7200s ( namelist:run_convection=cape_timescale )
    = 7 - CAPE timescale dependent on the large-scale vertical velocity. If
    =     the vertical velocity averaged over the depth of the convection
    =     is zero or negative a maximum timescale of 4 hours is used otherwise
    =     the timescale depends on the mean vertical velocity. High resolution
    =     models tend to have stronger vertical velocities so are more likely
    =     to have shorter CAPE timescales.
ns=namelist/um/section05/cape
values=0,1,2,3,4,6,7

[namelist:run_convection=cape_timescale]
compulsory=true
description=Timescale in seconds for CAPE closure scheme
help=This determines the e-folding time for the dissipation of CAPE.
    = There is some observational evidence for a timescale of the order of
    = an hour. The 4A scheme seems to work better with a shorter CAPE
    = timescale of around half an hour (1800 secs).
ns=namelist/um/section05/cape
range=1:9999999
type=real

[namelist:run_convection=cape_top]
compulsory=true
description=Highest model level for rescaling parametrized convection
ns=namelist/um/section05/cape
type=integer

[namelist:run_convection=cca2d_dp_opt]
compulsory=true
description=Mid level convective cloud settings: CCA 2D basis
help=CCA 2D is currently based on Total Condensed Water(TCW).
    = Though this assumes that there is only one contiguous cloud in the
    = vertical per gridbox. However,
    =mid-level cloud is allowed on the same
    = timestep and gridbox as shallow or deep convection.
    = By using a 2D field such as TCW,
    =lower cloud (shallow,
    =deep) is able to
    = affect the CCA of higher cloud(mid-level). CCRad decouples mid-level
    = convection from shallow and deep by using TCW from the respective cloud
    = type to determine its particular CCA profile.
    =
    = The 2D field to base CCA 2D can be set for the given convective cloud
    = type:
    =
    = 0 - Use TCW
    = 1 - Use Surface convective rain rate
    = 2-9 - For future use,
    =will default to TCW if used
ns=namelist/um/section05/ccrad
values=0,1

[namelist:run_convection=cca2d_md_opt]
compulsory=true
description=Mid level convective cloud settings: CCA 2D basis
help=CCA 2D is currently based on Total Condensed Water(TCW).
    = This assumes that there is only one contiguous cloud in the
    = vertical per gridbox. However,
    =mid-level cloud is allowed on the same
    = timestep and gridbox as shallow or deep convection.
    =
    = By using a 2D field such as TCW,
    =lower cloud (shallow,
    =deep) is able to
    = affect the CCA of higher cloud(mid-level). CCRad decouples mid-level
    = convection from shallow and deep by using TCW from the respective cloud
    = type to determine its particular CCA profile.
    =
    = The 2D field to base CCA 2D can be set for the given convective cloud
    = type:
    =
    = 0 - Use TCW
    = 1 - Use Surface convective rain rate
    = 2-9 - For future use,
    =will default to TCW if used
ns=namelist/um/section05/ccrad
values=0,1

[namelist:run_convection=cca2d_sh_opt]
compulsory=true
description=Shallow convective cloud settings: CCA 2D basis
help=CCA 2D is currently based on Total Condensed Water(TCW).
    = Though this assumes that there is only one contiguous cloud in the
    = vertical per gridbox. However,
    =mid-level cloud is allowed on the same
    = timestep and gridbox as shallow or deep convection. by using a 2D
    = field such as TCW,
    =lower cloud (shallow,
    =deep) is able to affect the
    = CCA of higher cloud(mid-level). CCRad decouples mid-level convection
    = from shallow and deep by using TCW from the respective cloud type to
    = determines its particular CCA profile. The 2D field to base CCA 2D can
    = be set via "CCA 2D Basis" for the given convective cloud type:
    =
    = 0 - Use TCW
    = 1 - Use cloud base mass flux divided by convective velocity scale and
    =overlap factor proportional to the ratio of the cloud to sub-cloud
    =layer depths.
    = 2 - Use cloud base mass flux divided by convective velocity scale.
    = 3-9 - For future use,
    =will default to TCW if used
ns=namelist/um/section05/ccrad
values=0,1,2

[namelist:run_convection=cca_dp_knob]
compulsory=true
description=Deep convective cloud settings: CCA scaling
ns=namelist/um/section05/ccrad
range=0:10
type=real

[namelist:run_convection=cca_md_knob]
compulsory=true
description=Mid level convective cloud settings: CCA scaling
ns=namelist/um/section05/ccrad
range=0:10
type=real

[namelist:run_convection=cca_min]
compulsory=true
description=Convective Cloud Fraction threshold.
help=Convective Cloud Fraction threshold.
    = If cloud cover at any level falls below this fractional threshold
    = (e.g. 2%),
    =then the cloud in that level is set to zero. Usually =0.02
ns=namelist/um/section05/cloud_opts
range=0.001:0.4
type=real

[namelist:run_convection=cca_sh_knob]
compulsory=true
description=Shallow convective cloud settings: CCA scaling
ns=namelist/um/section05/ccrad
range=0:10
type=real

[namelist:run_convection=ccw_dp_knob]
compulsory=true
description=Deep convective cloud settings: CCW Scaling
ns=namelist/um/section05/ccrad
range=0:10
type=real

[namelist:run_convection=ccw_for_precip_opt]
compulsory=true
description=Critical convective cloud condensate option.
help=Critical convective cloud condensate options:
    = Usually =2
    = 0 - Original code: after a critical depth is reached the critical cloud
    = condensate,
    =which is the maximum cloud condensate that can be retained
    = in a layer,
    =is set to MIN(MPARWTR,
    =fac_qsat*QSatEnv). Condensate above
    = this limit is converted to precipitation. By default the critical depths
    = are 1 km for ice cloud,
    =4 km for liquid cloud over land,
    =and 1.5 km for
    = liquid cloud over the ocean. The differences in critical depths are an
    = attempt to take account of different aerosol concentrations over
    = continental and oceanic regions,
    =and the differences in the microphysics
    = between liquid and ice clouds. If PC2 is switched on then a minimum
    = value (qlmin) is also applied to the critical cloud condensate.
    =
    = 1 - As option 0 but removes the critical depths and doubles the critical
    = cloud condensate for liquid clouds over land.
    =
    = 2 - As option 1 but replaces MPARWTR with
    = MPARWTR*(2.0+tanh((1500-depth)/1000))
    = where depth is the current depth within the convective cloud.
    =
    = 3 - As option 1 but replaces MPARWTR with
    = MPARWTR*(1.5+0.5*tanh((3000-depth)/800))
    = where depth is the current depth within the convective cloud.
    =
    = 4 - Sets the critical cloud condensate to be
    = MIN(MAX(fac_qsat*QSat_Env,
    =qlmin),
    =mparwtr)
    = The same profile is used over both land and sea and no attempt is made
    = to take account differences in aerosol concentrations.
ns=namelist/um/section05/main_vars
values=0,1,2,3,4

[namelist:run_convection=ccw_md_knob]
compulsory=true
description=Mid level convective cloud settings: CCW Scaling
ns=namelist/um/section05/ccrad
range=0:10
type=real

[namelist:run_convection=ccw_sh_knob]
compulsory=true
description=Shallow convective cloud settings: CCW Scaling
ns=namelist/um/section05/ccrad
range=0:10
type=real

[namelist:run_convection=cld_life_opt]
compulsory=true
description=Cloud decay lifetime option
help=The option Cloud Decay lifetime specifies:
    = 0 - Fixed Cloud lifetime
    = 1 - Varies cloud lifetime with height.
    = 2-9 - For future use,
    =will default to fixed cloud lifetime if used
ns=namelist/um/section05/cloud_opts
values=0,1

[namelist:run_convection=cnv_wat_load_opt]
compulsory=true
description=Water Loading Option
help=Water Loading Option.
    = How water loading is included in the convection scheme.
    =
    = 0 - Ignore the effects of water loading (default). When this option is
    = selected,
    =the rate of change of CAPE calculation assumes that all
    = the detrained condensate is immediately evaporated even when PC2 is
    = switched on.
    =
    = 1 - Include the effects of water loading in the calculation of buoyancy,
    =CAPE and the rate of change of CAPE.
ns=namelist/um/section05/main_vars
values=0,1

[namelist:run_convection=convection_option]
ns=namelist/pending/um/run_convection

[namelist:run_convection=cvdiag_inv]
compulsory=true
description=Inversion test for determining shallow convection.
help=Inversion test for determining shallow convection.
    =
    = 0 - no inversion test for determining shallow convection
    = 1 - original inversion test for shallow convection
    = 2 and above - future tests (none at present).
ns=namelist/um/section05/diagnosis
values=0,1

[namelist:run_convection=cvdiag_sh_wtest]
compulsory=true
description=w test value for shallow convection
help=w test value for shallow convection.
    = Original value used 0.0m/s,
    =now recommend a value of 0.02m/s.
ns=namelist/um/section05/diagnosis
range=-1:1
type=real

[namelist:run_convection=dd_opt]
compulsory=true
description=Downdraught scheme options:
help=0 - original code
    = 1 - revised code
ns=namelist/um/section05/main_vars
values=0,1

[namelist:run_convection=deep_cmt_opt]
compulsory=true
description=Deep CMT tunings
help=0: 4A Scheme (turbulence based,
    =default)
    = 1: Operational 70 level (modified 4A scheme)
    = 2: Gregory-Kershaw scheme
    = 3: New turbulence based scheme
ns=namelist/um/section05/main_vars
values=0,1,2,3,4,5

[namelist:run_convection=dil_plume_water_load]
compulsory=true
description=Water loading for dilute plume in diagnosis (5A and 6A)
help=Water loading options for convective diagnosis 5A and 6A schemes.
    = Same set of values available for both undilute and dilute plumes
    =
    = 0 - water loading kept for whole of parcel ascent - default option
    =
    = 1 - if water loading exceeds 1g/kg it is removed from the plume.
    =
    = 2 - if water loading exceeds a profile based on qsat it is removed from the plume.
ns=namelist/um/section05/diagnosis
values=0,1,2

[namelist:run_convection=ent_dp_power]
compulsory=true
description=Power for deep entrainment option 3 in 5A and 6A convection
help=(namelist:run_convection=ent_opt_dp value 3)
ns=namelist/um/section05/main_vars
range=0:10
type=real

[namelist:run_convection=ent_fac]
compulsory=true
description=Controls mid-level and deep entrainment in 4A convection.
help=Usually =0.9.
ns=namelist/um/section05/main_vars
range=0:10
type=real

[namelist:run_convection=ent_fac_dp]
compulsory=true
description=Controls mid-level entrainment in 5A and 6A convection.
ns=namelist/um/section05/main_vars
range=0:2
type=real

[namelist:run_convection=ent_fac_md]
compulsory=true
description=Controls mid-level entrainment in 5A and 6A convection.
ns=namelist/um/section05/main_vars
range=0:2
type=real

[namelist:run_convection=ent_md_power]
compulsory=true
description=Power for mid entrainment option 3 in 5A and 6A convection
help=(namelist:run_convection=ent_opt_md value 3)
ns=namelist/um/section05/main_vars
range=0:10
type=real

[namelist:run_convection=ent_opt_dp]
compulsory=true
# trigger = ent_dp_power: 3
description=Entrainment profile for deep convection,
           =in 5A and 6A convection.
           = 0: original Ap/(p*)^2
           = 1: n/z dependence where n=ent_fac
           = 2: As Ap/(p*)^2 but multiplied by extra factor
           =    f=1.+3.*(1.-(100000.-p(k))/(100000.-50000.))
           = 3: factor * (A/p*)*((p/p*)^ent_dp_power)
           = Options 4 & 5 are experimental options that
           = depend on the diagnosed depth of convection.
           = Available for 6a only.
           = 4: variable n/z style entrainment
           = 5: variable p/(p*)^2  style entrainment
ns=namelist/um/section05/main_vars
range=0:9
type=integer

[namelist:run_convection=ent_opt_md]
compulsory=true
# trigger = ent_md_power: 3
description=Entrainment profile for mid-level convection,
           =in 5A and 6A convection.
           = 0: original Ap/(p*)^2
           = 1: n/z dependence where n=ent_fac
           = 2: As Ap/(p*)^2 but multiplied by extra factor
           =    f=1.+3.*(1.-(100000.-p(k))/(100000.-50000.))
           = 3: factor * (A/p*)*((p/p*)^ent_md_power)
ns=namelist/um/section05/main_vars
range=0:9
type=integer

[namelist:run_convection=entcoef_max]
ns=namelist/pending/um/run_convection

[namelist:run_convection=entcoef_min]
ns=namelist/pending/um/run_convection

[namelist:run_convection=fac_qsat]
compulsory=true
description=QSat factor for critical cloud condensate
help=Qsat Factor
    = This sets fac_qsat which is the critical cloud condensate profile
    = expressed as a proportion of the saturated specific humidity of
    = environment,
    =QSatEnv.
ns=namelist/um/section05/cloud_opts
range=0:5
type=real

[namelist:run_convection=fdet_opt]
compulsory=true
description=Method of calculating forced detrainment rate for 6a scheme
           = 0: forced detrainment rate based on humidity equation
           = 1: forced detrainment rate based on theta equation
ns=namelist/um/section05/main_vars
range=0:1
type=integer

[namelist:run_convection=fixed_cld_life]
compulsory=true
description=Fixed Convective Cloud lifetime
ns=namelist/um/section05/cloud_opts
range=0:99999
type=real

[namelist:run_convection=i_convection_vn]
compulsory=true
description=i_convection_vn = 0: Convection scheme not included,
           =only convective diagnosis.
           =i_convection_vn = 4: Previously known as CMODS. Built on the basic 3C scheme but with major differences
           =i_convection_vn = 5: Turbulence and mass flux convection
           =i_convection_vn = 6: Turbulence and mass flux convection (research only)
ns=namelist/um/section05
sort-key=2a
trigger=namelist:run_convection=l_cmt_heating: 6;
       = namelist:run_convection=mdet_opt_dp: 6;
       = namelist:run_convection=fdet_opt: 6;
       = namelist:run_convection=l_ccrad: this != 0;
       = namelist:run_convection=l_3d_cca: this != 0;
       = namelist:run_convection=l_conv_hist: this != 0;
       = namelist:run_convection=l_param_conv: this != 0;
       = namelist:run_convection=ent_fac_dp: 5,
       =6;
       = namelist:run_convection=ent_fac_md: 5,
       =6;
       = namelist:run_convection=ent_md_power: 5,
       =6;
       = namelist:run_convection=ent_opt_dp: 5,
       =6;
       = namelist:run_convection=ent_opt_md: 5,
       =6;
       = namelist:run_convection=dil_plume_water_load: 5,
       =6;
       = namelist:run_convection=plume_water_load: 5,
       =6;
       = namelist:run_convection=ent_dp_power: 5,
       =6;
       = namelist:run_stochastic=cape_timescale_max: 4;
       = namelist:run_stochastic=cape_timescale_min: 4;
       = namelist:run_stochastic=entcoef_max: 4;
       = namelist:run_stochastic=entcoef_min: 4;
values=0,4,5,6

[namelist:run_convection=iconv_congestus]
compulsory=true
description=Congestus convection option
help=Congestus convection
    =
    = 0 - no congestus   (Only option at present)
    = 1 - future mass flux scheme ?  NOT AVAILABLE
    = 2 - future turbulence based scheme ? NOT AVAILABLE
ns=namelist/um/section05/iconv
values=0

[namelist:run_convection=iconv_deep]
compulsory=true
description=Deep convection option
help=Deep convection
    =
    = 0 - no deep convection (may be of use at high resolution)
    = 1 - Mass flux scheme like 4A scheme
    = 2 - for future turbulence scheme ? NOT AVAILABLE
ns=namelist/um/section05/iconv
values=0,1

[namelist:run_convection=iconv_mid]
compulsory=true
description=Mid level convection option
help=Mid-level convection
    =
    = 0 - no call to mid-level convection
    = 1 - Gregory-Rowntree mass flux scheme
    = 2 - for future use.
ns=namelist/um/section05/iconv
values=0,1

[namelist:run_convection=iconv_shallow]
compulsory=true
description=Shallow convection option
help=Shallow convection options for 5A scheme:
    =
    = 0 - no shallow convection
    = 1 - mass flux scheme
    = 2 - new non-precipitating shallow turbulence scheme
    = 3 - new precipitating shallow turbulence scheme
    = 4 or above - for future use.
ns=namelist/um/section05/iconv
values=0,1,2,3

[namelist:run_convection=icvdiag]
compulsory=true
description=Convective diagnosis method
help=Output from the diagnosis routine is required by both the convection
    = scheme and the boundary layer scheme. The diagnosis determines which grid
    = points have a convective boundary layer. The diagnosis detemines whether
    = convection from the boundary layer is deep or shallow.
    =
    = 0A scheme 0 - corrected undilute parcel diagnosis scheme.
    =
    = For the 4A scheme,
    =the options are:
    =
    = 0 - the original undilute parcel diagnosis scheme.
    = 1 - the new improved (uncorrected) undilute parcel diagnosis scheme.
    = 2 - a new corrected dilute parcel diagnosis scheme using a 0.55/z entrainment rate.
    = 3 - is a new corrected dilute parcel diagnosis scheme using a 1.0/z entrainment rate.
    = 4 - not an allowed option.
    = 5 - the same new improved (uncorrected) undilute parcel diagnosis scheme as
    = in option 1 but it allows convection to be diagnosed when the lifting
    = condensation level is very low. Lifting condensation level set to at least
    = 150m even when very low.
    = 6 - is the corrected improved undilute parcel diagnosis scheme with the
    = additional requirement that the cloud layer be at least 400m.
    = Lifting condensation level set to at least 150m even when very low.
    = Users are recommended to use option 6.
    = 7 - simplified convection diagnosis: as 6 but removes the inversion tests and
    = relaxes the w-test for shallow convection to w < 0.02 m/s.
    =
    = For the 5A & 6A schemes,
    =the options are:
    =
    = 1 - the corrected undilute parcel diagnosis scheme with all changes to
    = improve the diagnosis; cloud layer at least 400m,
    =lifting condensation
    = level at least 150m thick. Users are advised to use this.
    = 2 - a new dilute parcel diagnosis scheme using a 0.55/z entrainment rate
    = 3 - a new dilute parcel diagnosis scheme using a 1.0/z entrainment rate
    = 4 - a new dilute parcel diagnosis scheme using 0.55/z over the sea and
    = a variable rate n/z over land where n is dependent on the boundary layer
    = depth. Option 4 is aimed at improving the diurnal cycle of convection
    = over land. Choosing option 4 also alters the entrainment rates used in
    = the convection scheme over land.
ns=namelist/um/section05/diagnosis
values=0,1,2,3,4,5,6,7

[namelist:run_convection=l4a_kterm]
compulsory=true
description=Use kterm instead of NTPAR for Deep CMT (4A)
help=l4a_kterm is 4A only.
    =
    = The original 4A code uses the estimated convective top NTPAR to
    = determine the deep CMT increments. NTPAR is often very different from
    = the level (KTERM) reached by the mass flux scheme. In future users are
    = advised to switch on the option to use KTERM rather than NTPAR for the
    = deep CMT. The 5A code for deep mass flux scheme will use KTERM and not
    = NTPAR.
ns=namelist/um/section05/main_switches
type=logical

[namelist:run_convection=l_3d_cca]
compulsory=true
description=Use 3D CCA cloud field
help=Use 3D Convective Cloud Field - Convective Cloud Amount to use a 3D field
    =so that vertical structures are retained from timestep to timestep.  If this
    =is UNSET,
    =convective cloud amount is collapsed to a single-level field which
    =is derived from total column condensed cloud water (cclwp) or total convective
    =surface precipitation (see CCRad ref CCA2D).
ns=namelist/um/section05/main_switches
type=logical

[namelist:run_convection=l_anvil]
compulsory=true
description=Apply anvil scheme to 3D convective cloud
ns=namelist/um/section05/main_switches
type=logical

[namelist:run_convection=l_ccrad]
compulsory=true
description=Use CCRad
help=CCRad (4A & 5A):
    =Convective Cloud for Radiation (CCRad) addresses a number
    =of issues connected with diagnosed cloud for radiative impacts:
    =
    =(a) Vertical structure of convective cloud water is
    =maintained. Radiation originally constructed a CCW profile by
    =uniformly distributing the CCLWP from cloud base to cloud
    =top. This resulted in a loss of vertical structure and limited
    =the convection/radiation schemes to one contigious cloud per
    =gridpoint/per timestep. CCRad allows the use of either method
    =(see "Use 3D convective cloud water from convection scheme" in
    =SW & LW Radiation/Cloud)
    =
    =(b) CCA 2D is currently based on Total Condensed Water(TCW). Though
    =this assumes that there is only one contigious cloud in the
    =vertical per gridbox. However,
    =mid-level cloud is allowed on
    =the same timestep and gridbox as shallow or deep convection. by
    =using a 2D field such as TCW,
    =lower cloud (shallow,
    =deep) is able
    =to affect the CCA of higher cloud(mid-level). CCRad decouples
    =mid-level convection from shallow and deep by using TCW from the
    =respective cloud type to determines its particular CCA profile.
    =The 2D field to base CCA 2D can be set via "CCA 2D Basis" for
    =the given convective cloud type:
    =0)   Use TCW
    =1)   Use Surface convective rain rate
    =2-9) For future use,
    =will default to TCW if used
    =
    =(c) Cloud Decay (Only valid if Apply time decay of
    =convective clouds = 2). CCRad decays convective cloud in a
    =similar fashion to decay with non-ccrad settings (see help point
    =3(vii)) except that cloud decay is applied on a convection
    =substep basis.  The option Cloud Decay lifetime specifes:
    =0)   Fixed Cloud lifetime
    =1)   Varies cloud lifetime with height.
    =2-9) For future use,
    =will default to fixed cloud lifetime is
    =used
    =
    =(d) Inconsistencies corrected,
    =mainly connected with Cloud Base
    =and Cloud Top indexing
    =
    =(e) Added Flexibility for convective cloud types. Scalings added
    =for both CCA and CCW for each of Shallow,
    =mid and deep
    =convective clouds.
    =
    =NOTE: With CCRad,
    =Updraught factor will not
    =affect CCW profiles UNLESS "apply updraught factor to whole
    =column" is selected. In which case CCW will be affected by
    =BOTH CCW Scalings and Updraught factor.
ns=namelist/um/section05/main_switches
type=logical

[namelist:run_convection=l_cloud_deep]
compulsory=true
description=Use depth criterion for convective anvils
help=When the depth criterion is applied,
    =clouds have to be more than
    =500mb deep to be modified by the anvil scheme.
ns=namelist/um/section05/main_switches
type=logical

[namelist:run_convection=l_cmt_heating]
compulsory=true
description=Switches on the CMT heating in the 6A scheme.
help=Includes the effects of frictional heating due to
    = convective momentum transport.
ns=namelist/um/section05/main_switches
type=logical

[namelist:run_convection=l_conv_hist]
compulsory=true
description=Include convective history prognostics
help=Include convective history prognostics.
    =Do not switch this on as it adds to the memory used by the model but
    =will not change answers at present. This switch is for development use
    =only at present. It adds 3 extra prognostic variables to the dump to
    =store information about the history of convection on previous time steps.
    =The convection scheme may be developed to make use of this information
    =in the future.
ns=namelist/um/section05/main_switches
type=logical

[namelist:run_convection=l_cv_conserve_check]
description=Switches on energy conservation in convection for 5A & 6A schemes
help=Switching on the energy conservation is not recommended at present.
ns=namelist/um/section05/main_switches
# Not compulsory
type=logical

[namelist:run_convection=l_dcpl_cld4pc2]
description=Decouples section 0/5 cloud properties from each other,
           =for use with PC2 only
ns=namelist/um/section05/main_switches
# Not compulsory
type=logical

[namelist:run_convection=l_eman_dd]
compulsory=true
description=Use Emanuel downdraught scheme
help=Alternative to the original Gregory-Rowntree downdraught code.
    =Available for 4A and 5A. Not used operationally or by HadGEM.
ns=namelist/um/section05/main_switches
type=logical

[namelist:run_convection=l_fix_udfactor]
compulsory=true
description=Fix application of updraught factor
help=The updraught factor is only applied to
    = grid-levels where convective precipitation is formed,
    =unless this
    = switch is selected.
    =
    = NOTE: CCRad removes the original application of the updraught factor
    = and uses Convective Cloud Water (CCW) scalings instead. However,
    =if
    = this switch is used with CCRad,
    =then both updraught factor and CCW
    = scalings are applied to the CCW profile.
ns=namelist/um/section05/main_switches
type=logical

[namelist:run_convection=l_mom]
compulsory=true
description=Convection momentum transport
help=This switch allows convection to transport momentum in the
    =vertical (in addition to heat and moisture). Its use is recommended.
ns=namelist/um/section05/main_switches
type=logical

[namelist:run_convection=l_murk_conv]
compulsory=true
description=Include transport by parametrised convection
help=Enables convective mixing of MURK as a tracer
ns=namelist/um/section05/main_switches
type=logical

[namelist:run_convection=l_param_conv]
compulsory=true
description=Choose convection option (see help for details)
help=FALSE => Convection turned off (only for idealised cases). Some options
    =may still influence Boundary layer.
    =TRUE => Time level n* data,
    =increments not advected. (Recommended)
ns=namelist/um/section05/main_switches
type=logical

[namelist:run_convection=l_rediagnosis]
compulsory=true
description=Cumulus rediagnosis option
help=If more than one convection step per model physics timestep then
    =rediagnose cumulus points by recalling conv_diag before each convective
    =sub-step.
ns=namelist/um/section05/main_switches
type=logical

[namelist:run_convection=l_snow_rain]
compulsory=true
description=Allows a mix of rain and snow in the downdraught and below cloud
help=A mix of rain and snow is allowed between the freezing temperature
    = (273.15K) and t_melt_snow (a value higher than the freezing temperature).
ns=namelist/um/section05/main_switches
trigger=namelist:run_convection=t_melt_snow: .true.
type=logical

[namelist:run_convection=limit_pert_opt]
compulsory=true
description=Limit initial parcel perturbation option.
help=Limit initial parcel perturbations options.
    = This limits the initial parcel perturbations in temperature and humidity
    = to physically sensible values in both the main ascent and the convection
    = diagnosis.
    =
    = 0 - no limits applied.
    =
    = 1 - apply limits to main ascent only.
    =
    = 2 - apply limits to main ascent and to the convection diagnosis.
ns=namelist/um/section05/main_vars
values=0,1,2

[namelist:run_convection=mdet_opt_dp]
compulsory=true
description=Mixing detrainment profile for deep convection in 6A convection.
           = 0 - original detrainment profile.
           = 1 - relative humidity dependent profile usually used with
           = adaptive detrainment
           = 2 - profile dependent on the diagnosed depth of deep convection.
ns=namelist/um/section05/main_vars
range=0:2
type=integer

[namelist:run_convection=mid_cmt_opt]
compulsory=true
description=Mid convection momentum transport option:
help=0: Gregory-Kershaw scheme (default)
    = 1: Diffusive scheme
ns=namelist/um/section05/main_vars
values=0,1

[namelist:run_convection=mid_cnv_pmin]
compulsory=true
description=Minimum pressure for mid level convection (Pa)
help=Minimum pressure for mid level convection.
    =
    = This sets the minimum pressure in Pa (i.e. maximum height) at which to
    = test for the initiation of mid level convection.
    =
    = The basic assumptions used by the convection
    = scheme will be invalid outside of the troposphere and using this option
    = it is possible to prevent convection occurring at too high a level.
    =
    = Setting the minimum pressure to 0.0 allows mid-level convection to
    = initiate from any height and will replicate the behaviour of earlier
    = versions of the convection scheme. A value of 10000.0 is recommended
    = to prevent mid-level convection initiating outside of the troposphere.
ns=namelist/um/section05/main_vars
range=0:25000
type=real

[namelist:run_convection=mparwtr]
compulsory=true
description=Maximum critical cloud condensate
help=Maximum Critical Cloud Condensate
    =
    = This sets the maximum value of the critical cloud condensate profile.
    = This is related to the option settings for
    = namelist:run_convection=ccw_for_precip_opt .
    = This will always be the maximum value for option 4.
    = mparwtr will always be used in options 0-3 but because of the
    = critical cloud depths (option 0) or other scalings (options 1-3)
    = it will not always directly equate to the maximum value of the
    = critical cloud condensate.
ns=namelist/um/section05/cloud_opts
range=1e-5:1e-2
type=real

[namelist:run_convection=plume_water_load]
compulsory=true
description=Water loading for undilute plume in diagnosis (5A and 6A)
help=Water loading options for convective diagnosis 5A and 6A schemes.
    = Same set of values available for both undilute and dilute plumes
    =
    = 0 - water loading kept for whole of parcel ascent - default option
    =
    = 1 - if water loading exceeds 1g/kg it is removed from the plume.
    =
    = 2 - if water loading exceeds a profile based on qsat it is removed from the plume.
ns=namelist/um/section05/diagnosis
values=0,1,2

[namelist:run_convection=qlmin]
compulsory=true
description=Minimum critical cloud condensate
help=Minimum Critical Cloud Condensate
    =
    = This sets the minimum value of the critical cloud condensate profile.
    = This is related to the option settings for
    = namelist:run_convection=ccw_for_precip_opt .
    = This will always be applied for option 4 but will only be applied to
    = options 0-3 if PC2 is switched on.
ns=namelist/um/section05/cloud_opts
range=0:1e-3
type=real

[namelist:run_convection=qstice]
compulsory=true
description=Estimate of saturation specific humidity at this phase change T.
help=Units kg kg-1. Usually 3.5e-3.
ns=namelist/um/section05/main_vars
range=0:1
type=real

[namelist:run_convection=r_det]
compulsory=true
description=Adaptive detrainment control parameter
ns=namelist/um/section05/main_vars
range=0:1
type=real

[namelist:run_convection=rad_cloud_decay_opt]
compulsory=true
description=Time decay of convective clouds
help=Time decay of convective clouds:
    =
    = This option applies a simple quasi exponential time-decay to both
    = convective cloud cover and water content,
    =with a specified fixed
    = timescale (default 7200.0). The cloud seen by radiation is then taken
    = to be the greater of the cloud diagnosed by the convection scheme
    = this model timestep and the decayed cloud from the previous timesteps.
    =
    = If cloud cover at any level falls below a threshold of 2%,
    =then the
    = cloud in that level is set to zero.
    =
    = Settings:
    =
    = 0 - no cloud decay
    = 1 - for cloud decay as described above.
    = 2 - for cloud decay,
    =but decays on the convective substep
    = (only available with CCRad)
ns=namelist/um/section05/cloud_opts
values=0,1,2

[namelist:run_convection=sh_pert_opt]
compulsory=true
description=Initial perturbation method for shallow cumulus
help=0 - original code
    = 1 - revised code
ns=namelist/um/section05/main_vars
values=0,1

[namelist:run_convection=t_melt_snow]
# must be set if l_snow_rain = .true.
compulsory=true
description=Temperature at which to melt all snow in the downdraught or below cloud.
help=Units Kelvin. CRM simulations suggest a value of ~8K above freezing (273.15K).
ns=namelist/um/section05/main_vars
range=273.15:300.0
type=real

[namelist:run_convection=termconv]
compulsory=true
description=Use termination condition for deep and mid-level convection?
ns=namelist/um/section05/main_vars
values=0,1

[namelist:run_convection=tice]
compulsory=true
description=Specify phase change temperature /K
help=Use a phase change other than 0 degrees - choose this if running with PC2.
    = The value commonly used with PC2 is 263.15.
ns=namelist/um/section05/main_vars
range=0:99999
type=real

[namelist:run_convection=tower_factor]
compulsory=true
description=Defining anvil factor.
help=The radiative representation of anvils modifies the convective
    = cloud amount (CCA) to vary with height during deep convection.
    =
    = This option REQUIRES a 3D Convective Cloud Field.
    =
    = The CCA is multiplied by the namelist:run_convection=tower_factor
    = tower factor from the cloud base to the freezing level,
    =and increased
    = linearly from the freezing level to the cloud top. The cloud top value
    = is equal to the original CCA multiplied by the
    = namelist:run_convection=anvil_factor anvil factor. Usually =1
ns=namelist/um/section05/anvil
range=0:3
type=real

[namelist:run_convection=tv1_sd_opt]
compulsory=true
description=Std Dev level 1 virtual temperation option.
help=Std Dev level 1 virtual temperature option.
    = This switch defines the method for calculating the standard deviation of
    = the level 1 virtual temperature in the convection diagnosis which is used to
    = calculate the parcel buoyancy tolerance.
    =
    = 0 - original setting that uses an assumed boundary layer depth of 300m.
    =
    = 1 - improved option that uses the boundary layer depth from the previous timestep.
    =
    = 2 - as (1) but further improved by including parametrized roughness lengths
    = for sea,
    =a realistic stability dependence and area-weighted contributions for
    = the sea,
    =sea-ice and land components calculated separately.
ns=namelist/um/section05/main_vars
values=0,1,2

[namelist:run_convection=ud_factor]
compulsory=true
description=Updraught factor for reducing cloud water
help=Updraught factor for reducing cloud water
    =
    = The cloud water can be modified without changing the precip. efficiency
    = through use of the updraught factor. A value ~0.1 is recommended for
    = use with the anvil scheme (1.0 otherwise). This is intended to represent
    = the fraction of the convective cloud occupied by the strong updraught.
    = This factor is only applied to grid-levels where convective
    = precipitation is formed,
    =unless the switch "Apply updraught factor to
    = whole column is selected."
    =
    = NOTE: CCRad removes the original application of the updraught
    = factor and uses Convective Cloud Water (CCW) scalings
    = instead. However,
    =if the switch "Apply updraught factor to
    = whole column" is used with CCRad,
    =then both updraught factor
    = and CCW scalings are applied to the CCW profile.
ns=namelist/um/section05/cloud_opts
range=0:1
type=real

[namelist:run_convection=w_cape_limit]
compulsory=true
description=CAPE Threshold vertical velocity
ns=namelist/um/section05/cape
range=0:10000
type=real

[namelist:run_cosp]
compulsory=true
ns=namelist/um/section01/run_cosp

[namelist:run_cosp=cosp_cloudsat_sim]
compulsory=true
description=CLOUDSAT simulator
type=logical

[namelist:run_cosp=cosp_isccp_sim]
compulsory=true
description=ISCCP simulator
type=logical

[namelist:run_cosp=cosp_lidar_sim]
compulsory=true
description=CALIPSO/CALIOP simulator
type=logical

[namelist:run_cosp=cosp_misr_sim]
compulsory=true
description=MISR simulator
type=logical

[namelist:run_cosp=cosp_modis_sim]
compulsory=true
description=MODIS simulator
type=logical

[namelist:run_cosp=cosp_ncolumns]
compulsory=true
description=Number of subcolumns
range=1:200
type=integer

[namelist:run_cosp=cosp_npoints_it]
compulsory=true
description=Number of points per iteration
range=1:999999
type=integer

[namelist:run_cosp=cosp_rttov_sim]
compulsory=true
description=RTTOV simulator
type=logical

[namelist:run_cosp=cosp_use_vgrid]
compulsory=true
description=Compute outputs on standard vertical grid
type=logical

[namelist:run_cosp=l_cosp]
description=Run with COSP
trigger=namelist:run_cosp=cosp_cloudsat_sim: .true.;
       =namelist:run_cosp=cosp_lidar_sim: .true.;
       =namelist:run_cosp=cosp_isccp_sim: .true.;
       =namelist:run_cosp=cosp_misr_sim: .true.;
       =namelist:run_cosp=cosp_modis_sim: .true.;
       =namelist:run_cosp=cosp_rttov_sim: .true.;
       =namelist:run_cosp=cosp_use_vgrid: .true.;
       =namelist:run_cosp=cosp_ncolumns: .true.;
       =namelist:run_cosp=cosp_npoints_it: .true.
type=logical

[namelist:run_diffusion]
compulsory=true
ns=namelist/pending/um/run_diffusion

[namelist:run_dust]
compulsory=true
description=Dust Aerosols Namelist
ns=namelist/um/section17/run_dust

[namelist:run_dust=dust_veg_emiss]
# Active if aerosols are on and l_dust or l_dust_diag is true
compulsory=true
description=Emit dust from bare soil components of vegetated grid boxes:
           = 0: Emit only from bare soil tile
           = 1. Emit from seasonally bare soil using LAI
help=The vegetation fractions within the UM are either constant or vary on an
    = annual to decadal timescale. In regions with a strong wet and dry season
    = some vegetation dies away to leave bare soil during the dry season,
    =making these regions a significant dust source (eg the Sahel). The
    = options for representing this process currently are:
    =
    = 0 - Do not represent dust emission from seasonal vegetation
    = 1 - Represent the dieback of vegetation using the Leaf Area Index (LAI),
    =which varies on a weekly to monthly timescale,
    =to calculate a bare soil
    = 'Radiative fraction' as used to calculate the albedo. A scaling factor
    = can be modified to reduce/increase the emission for each vegetation
    = type. DUST_VEG_EM_IO is in the JULES_PFTPARM namelist.
    =
    = Further,
    =more sophisticated options,may be added in future.
sort-key=a8
values=0,1

[namelist:run_dust=horiz_d]
# Active if aerosols are on and l_dust or l_dust_diag is true
compulsory=true
description=Global tuning parameter for horizontal flux
help=horiz_d is a simple tuning knob to enhance/decrease dust emissions
range=0:99.9
sort-key=a7
type=real

[namelist:run_dust=i_dust]
compulsory=true
description=Select dust scheme:
help=The CLASSIC dust scheme emits and transports mineral dust,
    =according to
    = the surface properties and the friction velocity (U*).
    =
    = The diagnostic dust option allows the model to calculate mineral dust
    = emissions (as well as other fields such as U*,
    =U*t) without the cost of
    = the full prognostic dust scheme. This should be used with caution
    = because these emissions also include dust that would fall back to the
    = surface in the same timestep in the full prognostic scheme. Obviously,
    =it also contains no information on the vertical distribution of dust or
    = where it would be advected in the full prognostic scheme.
sort-key=a1
trigger=namelist:run_dust=dust_veg_emiss: this > 0;
       = namelist:run_dust=horiz_d: this > 0;
       = namelist:run_dust=l_fix_size_dist: this > 0;
       = namelist:run_dust=sm_corr: this > 0;
       = namelist:run_dust=us_am: this > 0;
       = namelist:run_dust=l_twobin_dust: this > 0;
value-titles=off,prognostic,diagnostic
values=0,1,2

[namelist:run_dust=l_fix_size_dist]
# Active if aerosols are on and l_dust or l_dust_diag is true
compulsory=true
description=Diagnose vertical flux using fixed size distribution
sort-key=a4
type=logical

[namelist:run_dust=l_twobin_dust]
compulsory=true
description=Use two-bin (true) or six-bin (false) dust scheme
help=The CLASSIC dust scheme emits and transports mineral dust,
    =according
    = to the surface properties and the friction velocity (U*). Dust can be
    = represented with either 6 or 2 size divisions,
    =with the following size
    = ranges:
    = 6 divisions: Radii 0.03-0.1,
    =0.1-0.3,0.3-1,1-3,3-10,
    =10-30 microns
    = 2 divisions: Radii 0.1-2.0,2.0-10.0 microns
sort-key=a2
type=logical

[namelist:run_dust=sm_corr]
# Active if aerosols are on and l_dust or l_dust_diag is true
compulsory=true
description=Soil moisture correction factor
help=sm_corr is used to tune the soil moisture to allow for the fact that
    = it is only the soil moisture at the very top fraction of a cm rather
    = than the top 10cm that will limit dust emissions
range=0:9.99
sort-key=a6
type=real

[namelist:run_dust=us_am]
# Active if aerosols are on and l_dust or l_dust_diag is true
compulsory=true
description=Multiplicative ustar correction
help=us_am is used to enhance U* to compensate for the fact that the
    = thresholds in the code are for point-like U* rather than the grid-box
    = mean
range=0:9.99
sort-key=a5
type=real

[namelist:run_dyn]
compulsory=true
description=Namelists "run_dyn, run_sl and run_dyntest"
ns=namelist/um/section10
title=Section 101112 - Dynamics settings

[namelist:run_dyn=alpha_1]
compulsory=true
description=coeff alpha_1
help=coeff alpha_1
ns=namelist/um/section10/advection/time_weights
range=0:1
sort-key=A1
type=real

[namelist:run_dyn=alpha_1_2]
compulsory=true
description=after cycle 1,coeff alpha_1_2
help=coeff alpha_1_2
ns=namelist/um/section10/advection/time_weights
range=0:1
sort-key=B1
type=real

[namelist:run_dyn=alpha_2]
compulsory=true
description=coeff alpha_2
help=coeff alpha_2
ns=namelist/um/section10/advection/time_weights
range=0:1
sort-key=A2
type=real

[namelist:run_dyn=alpha_2_2]
compulsory=true
description=after cycle 1,coeff alpha_2_2
help=coeff alpha_2_2
ns=namelist/um/section10/advection/time_weights
range=0:1
sort-key=B2
type=real

[namelist:run_dyn=alpha_3]
compulsory=true
description=coeff alpha_3
help=coeff alpha_3
ns=namelist/um/section10/advection/time_weights
range=0:1
sort-key=A3
type=real

[namelist:run_dyn=alpha_3_2]
compulsory=true
description=after cycle 1,coeff alpha_3_2
help=coeff alpha_3_2
ns=namelist/um/section10/advection/time_weights
range=0:1
sort-key=B3
type=real

[namelist:run_dyn=alpha_4]
compulsory=true
description=coeff alpha_4
help=coeff alpha_4
ns=namelist/um/section10/advection/time_weights
range=0:1
sort-key=A4
type=real

[namelist:run_dyn=alpha_4_2]
compulsory=true
description=after cycle 1,coeff alpha_4_2
help=coeff alpha_4_2
ns=namelist/um/section10/advection/time_weights
range=0:1
sort-key=B4
type=real

[namelist:run_dyn=alpha_relax_type]
compulsory=true
description=alpha relaxation method provides ways to alter alpha weights
help=alpha relaxation method provides ways to alter alpha weights
    = 1) constant (no change)
    = 2) alpha_relax_type_sqrt,
    =3) alpha_relax_type_coslaw
    = 4) alpha_relax_type_step
ns=namelist/um/section10/advection/time_weights
range=0:4
sort-key=A1
type=integer

[namelist:run_dyn=eg_vert_damp_profile]
compulsory=true
description=vertical damping flag
help=see UM routine init_vert_damp for options,
    =seek advice from dynamics
ns=namelist/um/section10/advection
type=integer

[namelist:run_dyn=eta_s]
compulsory=true
description=height (eta) above which to apply damping
help=w-damping sponge layer is applied above this eta coordinate.
    = The profile applied depends on the setting of eg_vert_damp_profile.
ns=namelist/um/section10/advection
range=0.0:1.0
type=real

[namelist:run_dyn=gcr_adi_add_full_soln]
compulsory=true
description=add full solution for ADI
help=add full solution for ADI
ns=namelist/um/section10/solver
sort-key=b3
type=logical

[namelist:run_dyn=gcr_adi_pseudo_timestep]
compulsory=true
description=gcr_adi_pseudo_timestep
ns=namelist/um/section10/solver
range=0:
sort-key=b2
type=real

[namelist:run_dyn=gcr_max_iterations]
compulsory=true
description=max number of solver iterations
help=set limit of iterations before solver throws
    = error message about convergence
ns=namelist/um/section10/solver
range=100:500
sort-key=b5
type=integer

[namelist:run_dyn=gcr_precon_option]
compulsory=true
description=Select preconditioner
help=preconditioner
    = ENDGame
    = 0-diag
    = 1-ILU
    = 2-Jacobi
    = 3-ILU-neumann
    = 4-sor+tridiag
    = New Dynamics
    = 0-none
    = 1-vert
    = 2-vert and 3d-ADI
    = 3-3d ADI
    = 4-vert and XZ ADI
    = 5-XZ ADI
    = 6-Dufort Franke
ns=namelist/um/section10/solver
range=0:6
sort-key=b1
trigger=namelist:run_dyn=gcr_adi_add_full_soln: 2,3,4,5
type=integer

[namelist:run_dyn=gcr_tol]
compulsory=true
description=gcr_tol for solver convergence
help=gcr_tol for solver convergence
ns=namelist/um/section10/solver
range=0:
sort-key=b7
type=real

[namelist:run_dyn=gcr_tol2]
compulsory=true
description=gcr_tol2 for solver convergence,value after 1st cycle
help=gcr_tol2 for solver convergence,value after 1st cycle
ns=namelist/um/section10/solver
range=0:
sort-key=b8
type=real

[namelist:run_dyn=gcr_use_residual_tol]
compulsory=true
description=use residual tolerance for solver rather than absolute?
help=false implies use absolute tolerance
    = true implies use residual tolerance
ns=namelist/um/section10/solver
sort-key=b6
type=logical

[namelist:run_dyn=i_nd_solver_vn]
compulsory=true
description=Select New dynamics solver version
help=1 - GCR solver used to solve helmholtz equation
    = 2 - Recommended solver (essential for variable resolution) May not bit reprod with 1.
ns=namelist/um/section10
sort-key=a11
values=1,2

[namelist:run_dyn=l_check_moist_inc]
compulsory=true
description=If True switch on global checking of moisture conservation for various physics schemes.
help=This option is only designed to be used in short ~10 day global runs
    = to check conservation of moisture by micro-physics,
    =convection
    = boundary layer and methane oxidation.
    = The conservation is checked in 3 different ways:
    = a) a method consistent with the dynamics assumptions on the rho grid
    = b) on the theta grid
    = c) on the theta grid but assuming hydrostatic balance and ignoring
    =    grid geometry.
    = Method (c) uses a pressure integral i.e. a wet density so is not really
    = valid for physics routines using mixing ratios.
ns=namelist/um/section10/advection
type=logical

[namelist:run_dyn=l_fix_mass]
compulsory=true
description=enforce global mass conservation
help=enforce global mass conservation by rescaling density
    = at end of timestep (EG only)
    = is overwritten to be set off in the code for LAMs.
ns=namelist/um/section10/advection
type=logical

[namelist:run_dyn=l_gcr_cycle_opt]
compulsory=true
description=use last soln as initial guess after 1st cycle
help=use last soln as initial guess after 1st cycle
ns=namelist/um/section10/solver
sort-key=b4
type=logical

[namelist:run_dyn=l_mix_ratio]
compulsory=true
description=use mixing ratios
help=use mixing ratios for mositure variables within dynamics code
ns=namelist/um/section10
sort-key=a2
type=logical

[namelist:run_dyn=l_new_tdisc]
compulsory=true
description=activate implicit time scheme in cycling
help=Permit use of more implicit predictors,
    =for calculating the
    = nonlinear implicit dynamical terms. The effect of this is to further
    = enhance stability. The current practice is to use explicit predictors
    = for weakening the implicit nonlinear products to linearly implicit ones
    = and thus reducing the cost of solving the associated equations. When
    = cycling,
    =explicit predictors can be replaced by more accurate
    = approximations at t_{n+1} obtained at the end of the last cycle.
    = For example,
    =in the 2-cycle case,
    =at the end of the 1st cycle a
    = solution estimate is available and this is the one normally accepted
    = (where normally implies the standard 1-iteration model).
ns=namelist/um/section10/timestepping
type=logical

[namelist:run_dyn=l_thmono_fixed]
compulsory=true
description=use corrected monotone limiter code
help=use corrected monotone limiter code
ns=namelist/um/section10/advection
sort-key=a5
type=logical

[namelist:run_dyn=l_transparent]
compulsory=true
description=do not apply lbcs to horizontal winds in the solver
help=do not apply lbcs to horizontal winds in the solver
ns=namelist/um/section10/testing
type=logical

[namelist:run_dyn=n_rims_to_do]
compulsory=true
description=frame size
help=the number of pts around the edge where only driving model data
    = is used in model and solver
ns=namelist/Model_Configuration/lbc_related
range=1:
type=integer

[namelist:run_dyn=numcycles]
compulsory=true
description=number of SL iteration cycles
help=Needs help to be added!
ns=namelist/um/section10/timestepping
range=1:
trigger=namelist:run_dyn=l_new_tdisc: this >1 ;
type=integer

[namelist:run_dyntest]
compulsory=true
description=Namelist "run_dyntest"
ns=namelist/um/section10/testing
title=Testing

[namelist:run_dyntest=cw_max]
compulsory=true
description=threshold courant number increment to check for in trapping
help=threshold courant number increment to check for in trapping
ns=namelist/um/section10/trapping
range=0:10000
sort-key=a7
type=real

[namelist:run_dyntest=cw_test_lev]
compulsory=true
description=top model level to test courant limit trapping
help=top model level to test courant limit trapping
ns=namelist/um/section10/trapping
sort-key=a6
type=integer

[namelist:run_dyntest=l_adjust_wet]
compulsory=true
description=perform simple dry and moist adjustment
help=perform simple dry and moist adjustment
ns=namelist/um/section10/testing
sort-key=a7
type=logical

[namelist:run_dyntest=l_backwards]
compulsory=true
description=Integrate backwards without physics
help=Backwards integrations are required mainly for the construction
    = of initialization schemes,
    =which may be used,for example,
    =to
    = determine the degree of balance of analysis increments. Another
    = possible application of backwards integrations is as a means of
    = tracing back the origin of forecast errors. Backwards integrations
    = are achieved by negating the dynamics timestep and switching off
    = the main physics routines,
    =which are irreversible. Thus,
    =backwards
    = integrations may be requested only if the 'Include Physics' option
    = has been switched off. In a backwards integration,
    =simple friction,
    =diffusion and divergence damping may be included,
    =but they will be
    = run with a positive timestep - dissipative processes run backwards
    = generally lead to numerical instability
ns=namelist/um/section10/testing
sort-key=a5
type=logical

[namelist:run_dyntest=l_dry]
compulsory=true
description=Run the UM without moisture
help=Run the UM without moisture
ns=namelist/um/section10/testing
sort-key=a6
type=logical

[namelist:run_dyntest=l_dynamics_only]
compulsory=true
description=Run in dynamics only mode
help=flag to enable testing of dynamics only runs,
    =excluding physics
ns=namelist/um/section10/testing
sort-key=a1
type=logical

[namelist:run_dyntest=l_exclude_physics2]
compulsory=true
description=Exclude atmos_physics2,model physics increments and impacts
help=flag to enable testing model,
    =excluding atmos_physics2 code
    = convection,
    =implicit boundary layer,aerosols,river routing,etc.
ns=namelist/um/section10/testing
sort-key=a2
type=logical

[namelist:run_dyntest=l_free_slip]
compulsory=true
description=running with free slip bc
help=The free slip boundary condition calculates w for sloping surfaces.
    =  This may be needed for idealised problems where the no-slip condition
    =  is inappropriate. It has little effect when the parametrized boundary
    =  layer scheme is active.
ns=namelist/um/section10/testing
sort-key=a8
type=logical

[namelist:run_dyntest=l_perturb_ic_theta]
compulsory=true
description=perturb theta on ts1
help=model testing option to perturb theta
ns=namelist/um/section10/testing
sort-key=a3
type=logical

[namelist:run_dyntest=l_trap_theta]
compulsory=true
description=trap excessive heating/cooling
help=trap excessive heating/cooling
ns=namelist/um/section10/trapping
sort-key=a1
trigger=namelist:run_dyntest=max_thinc: .true.
type=logical

[namelist:run_dyntest=l_trap_uv]
compulsory=true
description=trap excessive u and v winds
help=trap excessive u and v winds
ns=namelist/um/section10/trapping
sort-key=a3
trigger=namelist:run_dyntest=uv_limit: .true.
type=logical

[namelist:run_dyntest=l_trap_w]
compulsory=true
description=trap excessive w winds
help=trap excessive w winds
ns=namelist/um/section10/trapping
sort-key=a5
trigger=namelist:run_dyntest=cw_test_lev: .true.;
       =namelist:run_dyntest=cw_max: .true.
type=logical

[namelist:run_dyntest=max_thinc]
compulsory=true
description=threshold theta increment to check for in trapping
help=threshold theta increment to check for in trapping
ns=namelist/um/section10/trapping
range=0:10000
sort-key=a2
type=real

[namelist:run_dyntest=trap_option]
compulsory=true
description=trap management choice
help=trap management choice
    =  0-reset,
    =no prints
    =  1-reset + print message
    =  2-no reset but print details max/min
ns=namelist/um/section10/trapping
range=0:2
type=integer

[namelist:run_dyntest=uv_limit]
compulsory=true
description=threshold u,v increment to check for in trapping
help=threshold u,v increment to check for in trapping
ns=namelist/um/section10/trapping
range=0:10000
sort-key=a4
type=real

[namelist:run_electric]
compulsory=true
description=run_electric
ns=namelist/um/section21
title=Section 21 - Thunderstorm Electrification

[namelist:run_electric=electric_method]
compulsory=true
description=Select method used to generate lightning
help=The core of the scheme is a 'flash rate module'- a relationship between
    =lightning flashes per unit time and other model parameters. Currently
    =there are the following flash rate schemes available:
    = 1) Graupel water path scheme (loosely based on Deiering et al 2008,
    =JGR)
    = 2) McCaul et al (2009,
    =Weather and Forecasting) scheme.
    =
    = More schemes are likely to be added as the code develops.
range=1:2
trigger=namelist:run_electric=g1: this == 1;
       =namelist:run_electric=g2: this == 1;
       =namelist:run_electric=k1: this == 2;
       =namelist:run_electric=k2: this == 2
type=integer

[namelist:run_electric=g1]
compulsory=true
description=Lightning-graupel water path gradient for graupel water path scheme
help=This only has an impact when the Graupel Water Path method is in use.
    =The flash rate (F) of thunderstorms is determined as a power law
    =relationship:
    =  F = g1 * GWP + g2,
    =where GWP is the graupel water path (column integral of graupel in the
    =thunderstorm). The number input here is factor g1.
range=0:1.0e2
type=real

[namelist:run_electric=g2]
compulsory=true
description=Intercept for graupel water path scheme
help=This only has an impact when the Graupel Water Path method is in use.
    =The flash rate (F) of thunderstorms is determined as a power law
    =relationship:
    =  F = g1 * GWP + g2,
    =where GWP is the graupel water path (column integral of graupel in the
    =thunderstorm). The number input here is factor g2.
range=-1000:1000
type=real

[namelist:run_electric=k1]
compulsory=true
description=Lightning-graupel flux factor for McCaul et al (2009) scheme
help=This only has an impact when the McCaul et al (2009) scheme is in use.
    =Increase this number to produce more lightning from graupel contained
    =in thunderstorm updraughts (convective cores). The flash rate (F) is
    =a linear relationship determined as F = k1 * flux,
    =where k1 is the
    =lightning-graupel flux factor. As a default value,
    =McCaul et al (2009)
    =suggest this factor should be 0.042.
range=0:50
type=real

[namelist:run_electric=k2]
compulsory=true
description=Lightning-storm ice factor for McCaul et al (2009) scheme
help=This only has an impact when the McCaul et al (2009) scheme is in use.
    =Increase this number to produce more lightning from total ice in
    =thunderstorms The flash rate (F) is a linear relationship determined
    =as F = k2 * TI,
    =where k2 is the lightning-storm ice factor and TI is the
    =integral of all the ice in the model grid column. As a default value,
    =McCaul et al (2009) suggest this factor should be 0.20.
range=0:50
type=real

[namelist:run_electric=l_use_electric]
compulsory=true
description=Run with Electric Scheme
help=Selecting this switch turns on the thunderstorm electrification
    =scheme and allows any section 21 lightning diagnostics to be
    =available
trigger=namelist:run_electric=electric_method: .true.
type=logical

[namelist:run_eng_corr]
compulsory=true
description=run_eng_corr
ns=namelist/um/section14
title=Section 14 - Energy Correction

[namelist:run_eng_corr=a_energysteps]
compulsory=true
description=Number of timesteps between successive calls
help=The energy adjustment works by evaluating the total energy of the
    =model at the beginning of a model run and then again at the end of the
    =period specified by the user. Prior to UM 5.1 this period should
    =always have been set to the timestep equivilent of 24 hours to work correctly.
    = Now,
    =the period can take any value which is a multiple of the radiation
    =timestep. During the period the energy fluxes into the atmosphere from
    =the physical parametrization which include radiation are
    =accumulated. At the end of each period the sum of the change in energy
    =due to parametrizations is compared to the total change in energy. The
    =difference is the error and is used to work out the correction
    =required for the next period.
range=1:960
type=integer

[namelist:run_eng_corr=l_emcorr]
compulsory=true
description=Include standard energy adjustment
help=The energy adjustment section can be left out if not required
    =
    =This section of code is designed to ensure conservation of certain
    =basic quantities important in long climate integrations. If the code
    =is not included there is no guarantee energy,
    =dry mass and total water
    =will be conserved.
    =
    =For details of the formulation of the energy,
    =mass and possible total
    =water adjustments see the UM documentation on the energy correction.
    =
    =Energy conservation
    =
    =>From UM 5.0 onwards the basic dynamics of the model no longer
    =conserves dry energy. Prior to UM 5.0 the old Eulerian dynamics of the
    =model could have been coded to conserve energy. (In practice this was
    =not the case.)
    =
    =Even if the dynamics of the model conserves energy the UM lacks a
    =physical parametrization for frictional heating and therefore the
    =model will not conserve energy. The missing energy is corrected for by
    =including an energy correction in the form of a uniform increment to
    =temperature,
    =of the form Cv(dT/dt).
    =
    =The energy adjustment works by evaluating the total energy of the
    =model at the beginning of a model run and then again at the end of the
    =period specified by the user. Prior to UM 5.1 this period should
    =always have been set to 24 hours to work correctly. Now,
    =the period
    =can take any value which is a multiple of the radiation
    =timestep. During the period the energy fluxes into the atmosphere from
    =the physical parametrization which include radiation are
    =accumulated. At the end of each period the sum of the change in energy
    =due to parametrizations is compared to the total change in energy. The
    =difference is the error and is used to work out the correction
    =required for the next period.
sort-key=aa1
trigger=namelist:run_eng_corr=lmass_corr: .true.;
       =namelist:run_eng_corr=lemq_print: .true.;
       =namelist:run_eng_corr=a_energysteps: .true.;
type=logical

[namelist:run_eng_corr=lemq_print]
compulsory=true
description=Include additional diagnostic printout
help=Switch for additional printout
    =
    =Additional information in the job output can be obtained by setting
    =this switch. The total moisture and mass conservation is then checked
    =and results printed even if the corrections are not applied. Also the
    =components making up the total energy will be printed separately.
type=logical

[namelist:run_eng_corr=lmass_corr]
compulsory=true
description=Include dry mass correction
help=Dry Mass conservation.
    =
    =
    =The dynamics of the model should conserved dry mass (see UM
    =documentation on the model dynamics). In very long integrations
    =numerical rounding can result in a drift in the mass of the
    =atmosphere. This can be corrected if the user chooses to set the
    =switch for dry mass correction.
    =
    =At the beginnng of a run the total dry mass of the atmosphere is
    =evaluated and stored. In every energy correction period any drift away
    =from the initial value is evaluated and the dry density of the model
    =is adjusted to correct for this drift.
type=logical

[namelist:run_gwd]
compulsory=true
description=run_gwd
ns=namelist/um/section06
title=Section 06 - Gravity Wave Drag

[namelist:run_gwd=fbcd]
compulsory=true
description=Flow blocking drag coefficient
range=0:20
sort-key=2j
type=real

[namelist:run_gwd=gsharp]
compulsory=true
description=Function of mountain sharpness,
           =used to tune amplitude of
           =orographic gwd
range=0:10
sort-key=2i
type=real

[namelist:run_gwd=gwd_frc]
compulsory=true
description=Critical Froude Number
help=The critical Froude number determines the proportion of that drag
    =attributed to flow blocking and gravity wave drag respectively. The
    =larger the critical Froude number the larger the proportion attributed to
    =flow blocking.
    =
    =This value should be of order 1,
    =but takes the value of 4
    =in most operational configurations since smaller values can lead to
    =excessive drags in the lower stratosphere.
range=0.5:10
sort-key=2c
type=real

[namelist:run_gwd=gwd_fsat]
compulsory=true
description=Critical Froude number for wave breaking used in the amplitude
           =based saturation test
help=The inverse critical Froude number for wave saturation is used by the
    =amplitude based scheme only. It should normally be set to 1.0.
    =
    =Increasing the value will cause an increase in the wave amplitude
    =required before wave breaking occurs.
range=0.1:10
sort-key=2h
type=real

[namelist:run_gwd=i_gwd_vn]
compulsory=true
description=i_gwd_vn = 0: Gravity wave drag not included.
           =i_gwd_vn = 4: New orographic scheme including flow blocking AND/OR spectral gravity wave scheme.
           =i_gwd_vn = 5: New Orographic Scheme AND/OR spectral gravity wave scheme.
sort-key=2a
trigger=namelist:run_gwd=l_gwd: 4,5;
       =namelist:run_gwd=l_use_ussp: 4,
       =5;
       =namelist:run_gwd=gsharp: 5;
       =namelist:run_gwd=fbcd: 5;
       =namelist:run_gwd=gwd_fsat: 5;
       =namelist:run_stochastic=gwd_frc_max: 4;
       =namelist:run_stochastic=gwd_frc_min: 4;
       =namelist:run_stochastic=kay_gwave_min: 4;
       =namelist:run_stochastic=kay_gwave_max: 4;
values=0,4,5

[namelist:run_gwd=kay_gwave]
compulsory=true
description=Surface stress constant for GW drag
help=The surface gravity wave constant defines the magnitude of the
    =parametrized response. At the time of writing (July 2009),
    =this value
    =should be in the range 3e3 to 6e3 for all models.
    =
    =Note that the surface gravity wave constant is VERY SENSITIVE to the
    =choice of filtering applied to the source dataset - so please make sure
    =that it is set consistent with the value of FILT_SRCE_LENGTH used when
    =creating the orography ancillary file. When FILT_SRCE_LENGTH=6000 (m),
    =the surface gravity wave constant should be in the range 3e3 to 6e3,
    =whilst when FILT_SRCE_LENGTH=40000 (m) the surface gravity wave constant
    =should be 1e5. The recommended setting for FILT_SRCE_LENGTH is 6000m.
range=0:1e6
sort-key=2b
type=real

[namelist:run_gwd=l_gw_heating]
compulsory=true
description=Apply heating due to gravity-wave dissipation
help=The 5A scheme includes the option to apply heating due to the frictional
    =dissipation of gravity waves and flow blocking drag. When the 5A scheme
    =is selected the heating can also be applied in the non-orographic gravity wave scheme.
    =
    =The values of the logical array have the following effect:
    =
    =Index  Setting Effect
    = 1      TRUE   Turn on heating due to flow blocking
    = 2      TRUE   Turn on heating due to orographic gravity wave dissipation
    = 3      TRUE   Turn on heating due to non-orographic gravity wave dissipation
length=3
sort-key=2l
type=logical

[namelist:run_gwd=l_gwd]
compulsory=true
description=Include orographic drag scheme?
help=There are two separate drag schemes which fall under the
    ="gravity-wave-drag" umbrella. The first is the orographic flow-blocking
    =and gravity-wave drag scheme and the second is the non-orographic
    =spectral gravity-wave drag scheme.
    =
    =Either or both schemes can be included in a model run because,
    =as their
    =names imply,
    =the schemes are independent of each other.
    =
    =The orographic scheme should be switched on for all global and limited area
    =models with resolutions equal to or coarser than 4 km in the horizontal.
    =The Ultra-Simple Spectral Parametrization (USSP) non-orographic GW
    =scheme is recommended for both (climate and NWP) global model configurations
    =with model lids higher than 40 km.
ns=namelist/um/section06
sort-key=2a
trigger=namelist:run_gwd=kay_gwave: .true.;
       =namelist:run_gwd=gwd_frc: .true.;
       =namelist:run_gwd=l_smooth: .true.;
       =namelist:run_gwd=l_gw_heating: .true.;
type=logical

[namelist:run_gwd=l_smooth]
compulsory=true
description=Turn on smoothing of acceleration over a vertical wavelength
sort-key=2k
type=logical

[namelist:run_gwd=l_use_ussp]
compulsory=true
description=Include spectral gravity wave scheme?
help=There are two separate drag schemes which fall under the
    ="gravity-wave-drag" umbrella. The first is the orographic flow-blocking
    =and gravity-wave drag scheme and the second is the non-orographic
    =spectral gravity-wave drag scheme.
    =
    =Either or both schemes can be included in a model run because,
    =as their
    =names imply,
    =the schemes are independent of each other.
    =
    =The orographic scheme should be switched on for all global and limited area
    =models with resolutions equal to or coarser than 4 km in the horizontal.
    =The Ultra-Simple Spectral Parametrization (USSP) non-orographic GW
    =scheme is recommended for both (climate and NWP) global model configurations
    =with model lids higher than 40 km.
ns=namelist/um/section06
sort-key=3a
trigger=namelist:run_gwd=l_ussp_opaque: .true.;
       =namelist:run_gwd=ussp_launch_factor: .true.
type=logical

[namelist:run_gwd=l_ussp_opaque]
compulsory=true
description=Use Opaque model lid condition
help=Activate "Use Opaque model lid condition" to apply this condition to the
    =parametrised pseudomomentum flux reaching the model top.
    =
    =Although at the launch level there is no net contribution to the mean
    =flow,
    =as wave energy is deposited on ascent through the model,
    =there is
    =potentially a net pseudomomentum entering the top layer.
    =
    =The default "Transparent lid" condition allows all residual
    =pseudomomentum reaching the model lid to pass out of the model,
    =which
    =introduces a net source or sink of horizontal pseudomomentum into the
    =mean flow of the top level that is theoretically undesirable.
    =
    =Selecting "Opaque model lid condition" ensures conservation of
    =pseudomomentum by resetting the flux through the top lid to zero.
    =(Note that this is done after the fluxes are written to STASH so that
    =the flux diagnostics show how much extra pseudomomentum is deposited
    =in the top layer).
    =
    =Although theoretically preferable the Opaque lid choice can lead to
    =large accelerations in the top level horizontal wind components if the
    =residual pseudomomentum is significant. As the lid is raised high
    =enough such that almost all the wave energy is deposited within the
    =model,
    =differences between the two options correspondingly disappear.
sort-key=3b
type=logical

[namelist:run_gwd=ussp_launch_factor]
compulsory=true
description=Factor enhancement for wave launch amplitude
help="Factor enhancement for wave launch amplitude" allows the global source
    =to be adjusted about its default value (selected for a factor = 1.0).
    =
    =The permitted range is from 0.0 (switch off globally invariant source)
    =to 10.0 (spectrum saturated at launch level) to have it as an input
    =unless it changes,
    =but significant impact on the QBO period is usual
    =for deviations about 1.0 of order ten percent.
range=0:10
sort-key=3c
type=real

[namelist:run_murk]
compulsory=true
description=Murk Aerosol
ns=namelist/um/section17/run_murk

[namelist:run_murk=l_murk]
compulsory=true
description=Use total aerosol field
help=Options that affect the prognostic variables that are used in the run for
    =the atmospheric sub-model.
    =
    =The "Total aerosol field" can be used for visibility forecasting,
    =with
    =source/sink terms,
    =advection of the aerosol and supply of boundary aerosol
    =data for the UK mes domain.  Additionally,
    =transport by parametrized convection
    =can be included and the radiative effects of these aerosols can be accounted
    =for in an approximate fashion,
    =in both the short-wave and long-wave.
trigger=namelist:run_murk=l_murk_advect: .true.;
       =namelist:run_murk=l_murk_source: .true.;
type=logical

[namelist:run_murk=l_murk_advect]
compulsory=true
description=Advect the aerosol
help=The "Total aerosol field" can be used for visibility forecasting,
    =with
    =source/sink terms,
    =advection of the aerosol and supply of boundary aerosol
    =data for the UK mes domain.  Additionally,
    =transport by parametrized convection
    =can be included and the radiative effects of these aerosols can be accounted
    =for in an approximate fashion,
    =in both the short-wave and long-wave.
type=logical

[namelist:run_murk=l_murk_lbc]
compulsory=true
description=Input LBCs include murk aerosol
type=logical

[namelist:run_murk=l_murk_source]
compulsory=true
description=Include source/sink terms
help=The "Total aerosol field" can be used for visibility forecasting,
    =with
    =source/sink terms,
    =advection of the aerosol and supply of boundary aerosol
    =data for the UK mes domain.  Additionally,
    =transport by parametrized convection
    =can be included and the radiative effects of these aerosols can be accounted
    =for in an approximate fashion,
    =in both the short-wave and long-wave.
type=logical

[namelist:run_nudging]
compulsory=true
description=run_nudging
ns=namelist/um/section39
title=Section 39 - Nudging

[namelist:run_nudging=l_nudging]
compulsory=true
description=Include nudging
help=Nudging,or Newtonian relaxation,
    =is a simple form of data assimilation that
    =adjusts dynamical variables of free running GCMs using meteorological re-analysis
    =data to give a realistic represention of the atmosphere at a given time.
    =
    =The Nudged model was developed originally at the University of Cambridge under
    =the Met Office - NCAS collaboration. A detailed description can be found in:
    =Telford,
    =P. J.,Braesicke,P.,Morgenstern,O.,and Pyle,
    =J. A.:
    =Technical Note: description and assessment of a nudged version of
    =the new dynamics Unified Model,
    =Atmos. Chem. Phys.,8,1701-1712,
    =2008.
    =
    =The variables in UM that can be currently nudged are horizontal winds (u and v)
    =and potential temperature (Theta) by using the ECMWF ERA-40 or operational data,
    =UM Analyses and the Japanese (JRA-25) Analyses.
    =
    =The analysis files are loaded as NetCDF in a specific format,
    =derived from the
    =original analysis files.
    =
    =Note: Since most operational/ analysis datasets are produced according to the
    =Gregorian (365 day) Calendar,
    =it is advisable to run any UM model configuration
    =that uses Nudging,
    =with a Gregorian calendar (See the User Guide for the changes
    =required in model setup to enable this). The 360 day calendar may be used only
    =for short term runs as the discontinuities in the data,
    =such as the exclusion of
    =the 31st of different months can cause instabilities.
trigger=namelist:run_nudging=ndg_relax_uvalue: .true.;
       =namelist:run_nudging=ndg_relax_vvalue: .true.;
       =namelist:run_nudging=ndg_relax_tvalue: .true.;
       =namelist:run_nudging=ndg_lev_bottom: .true.;
       =namelist:run_nudging=ndg_lev_top: .true.;
       =namelist:run_nudging=ndg_on_lev_bottom: .true.;
       =namelist:run_nudging=ndg_on_lev_top: .true.;
       =namelist:run_nudging=ndg_hours_perdata: .true.;
       =namelist:run_nudging=ndg_analysis_source: .true.;
       =namelist:run_nudging=ndg_datapath: .true.;
type=logical

[namelist:run_nudging=ndg_analysis_source]
compulsory=true
description=Source of Analyses data being used
help=Source of Analyses data; 0 = ECMWF on hybrid levels; 1 = ECMWF on pressure levels; 2 = UM analyses; 3 = JRA Analyses.
range=0:3

[namelist:run_nudging=ndg_datapath]
compulsory=true
description=Pathname to analyses files
help=Directory pathname for location of analysis datafiles on executing node.
length=256
type=character

[namelist:run_nudging=ndg_hours_perdata]
compulsory=true
description=Numbers of hours per analyses data timestep
help=Uniform time interval (hours) between analysis datafiles; each file must contain only a single data record.
range=1:

[namelist:run_nudging=ndg_lev_bottom]
compulsory=true
description=Bottom level for nudging
help=Lowermost level of nudging. It is advisable not to apply nudging in the boundary layer.
range=1:

[namelist:run_nudging=ndg_lev_top]
compulsory=true
description=Top level for nudging
help=Topmost level of nudging. It is advisable not to apply nudging too close tothe model top.
range=1:
type=integer

[namelist:run_nudging=ndg_on_lev_bottom]
compulsory=true
description=Ramp bottom end of nudging
help=Range of lower levels over which nudging is ramped up to full strength.
range=0:
type=integer

[namelist:run_nudging=ndg_on_lev_top]
compulsory=true
description=Ramp top end of nudging
help=Range of upper levels over which nudging is ramped up to full strength.
range=0:
type=integer

[namelist:run_nudging=ndg_relax_tvalue]
compulsory=true
description=Nudging relaxation parameter for T
help=Controls amount by which T is nudged towards analysis data. Recommended value is 1/(time between analyses in sec); too small - ineffective; too large - model instability.
range=0:
type=real

[namelist:run_nudging=ndg_relax_uvalue]
compulsory=true
description=Nudging relaxation parameter for u
help=Controls amount by which u is nudged towards analysis data. Recommended value is 1/(time between analyses in sec); too small - ineffective; too large - model instability.
range=0:
type=real

[namelist:run_nudging=ndg_relax_vvalue]
compulsory=true
description=Nudging relaxation parameter for v
help=Controls amount by which v is nudged towards analysis data. Recommended value is 1/(time between analyses in sec); too small - ineffective; too large - model instability.
range=0:
type=real

[namelist:run_precip]
compulsory=true
description=run_precip
ns=namelist/um/section04
title=Section 04 - Large Scale Precipitation

[namelist:run_precip=ai]
compulsory=true
description=Aggregate mass scaling
help=This allows the explicit input of ice particle mass diameter
    =relationships.
range=0:
type=real

[namelist:run_precip=aic]
compulsory=true
description=Crystal mass scaling
help=This allows the explicit input of ice particle mass diameter
    =relationships.
range=0:
type=real

[namelist:run_precip=ar]
compulsory=true
description=Axial ratio for aggregates
help=It is possible to change the assumed axial ratios for both ice crystals
    =and aggregates in the UM. This impacts the shape of the ice crystals,
    =which in turn is fed through to the ice processes of
    =deposition/sublimation (growth from and decay to and water vapour) and
    =melting. No other ice processes are affected. Values can be selected as
    =follows:
    =
    =Above     1.0 : Prolates (Vertical axis longer than the horizonal axis)
    =Equal to  1.0 : Spheres (Default in most UM configurations)
    =Less than 1.0 : Oblate (Horizontal axis longer than vertical axis)
    =
    =The maximum value of the axial ratio that should be selected in the UM is
    =10.0 and the minimum value is 0.01.
range=0.01:10
type=real

[namelist:run_precip=arc]
compulsory=true
description=Axial ratio for crystals
help=It is possible to change the assumed axial ratios for both ice crystals
    =and aggregates in the UM. This impacts the shape of the ice crystals,
    =which in turn is fed through to the ice processes of
    =deposition/sublimation (growth from and decay to and water vapour) and
    =melting. No other ice processes are affected. Values can be selected as
    =follows:
    =
    =Above     1.0 : Prolates (Vertical axis longer than the horizonal axis)
    =Equal to  1.0 : Spheres (Default in most UM configurations)
    =Less than 1.0 : Oblate (Horizontal axis longer than vertical axis)
    =
    =The maximum value of the axial ratio that should be selected in the UM is
    =10.0 and the minimum value is 0.01.
range=0.01:10
type=real

[namelist:run_precip=arcl_inhom_sc]
compulsory=true
description=Scaling factor for drop number derived from climatological aerosols
help=The cloud droplet number derived from the climatological aerosols may
    =be scaled before being used in the precipitation scheme. The value
    =set here is the scaling factor. So,
    =as an example,
    =setting a scaling
    =factor of 1.5 will change a droplet number calculated to be 300 per cm3
    =to 450 per cm3. The scaling factor may range between 0.01 and 10.
range=0.01:10
sort-key=tpr2
type=real

[namelist:run_precip=bi]
compulsory=true
description=Aggregate mass exponent
help=This allows the explicit input of ice particle mass diameter
    =relationships.
range=0:
type=real

[namelist:run_precip=bic]
compulsory=true
description=Crystal mass exponent
help=This allows the explicit input of ice particle mass diameter
    =relationships.
range=0:
type=real

[namelist:run_precip=c_r_correl]
compulsory=true
description=Cloud-rain correlation coefficient
help=Cloud-rain correlation coefficient for use with inhomogeneity
    =parametrization in improved warm rain microphysics scheme
type=real

[namelist:run_precip=ci_input]
compulsory=true
description=Prefactor in fallspeed relation of large ice crystals
help=When two different ice fall speeds are used,
    =this is a parameter
    =used to specify the fallspeed of the large crystals.
range=0:1e7
type=real

[namelist:run_precip=cic_input]
compulsory=true
description=Prefactor in fallspeed relation of small ice crystals
help=When two different ice fall speeds are used,
    =this is a parameter
    =used to specify the fallspeed of the small crystals.
range=0:1e7
type=real

[namelist:run_precip=di_input]
compulsory=true
description=Exponent in fallspeed relation of large ice crystals
help=When two different ice fall speeds are used,
    =this is a parameter
    =used to specify the fallspeed of the large crystals.
range=0:1e7
type=real

[namelist:run_precip=dic_input]
compulsory=true
description=Exponent in fallspeed relation of small ice crystals
help=When two different ice fall speeds,
    =this is a parameter
    =used to specify the fallspeed of the small crystals.
range=0:1e7
type=real

[namelist:run_precip=l_autoc_3b]
compulsory=true
description=Use autoconversion formulation based on Tripoli and Cotton
           =formulation
help=This selects the general parametrization method used in the original
    =Wilson and Ballard scheme.
    =
    =Selecting this switch for 3D allows the earlier,
    =more simple,formulation to override both the later,
    =more complex autoconversion
    =limit calculation based on concentrations of droplets larger than 20 um,
    =and also the more generic rate calculation.
type=logical

[namelist:run_precip=l_autoconv_murk]
compulsory=true
description=Use the murk aerosol to calculate droplet number
trigger=namelist:run_precip=l_clark_aero: .true.
type=logical

[namelist:run_precip=l_clark_aero]
compulsory=true
description=Change to Clark et al murk aerosol scheme
help=When using the murk aerosol scheme,
    =the default formulation
    =is described in Haywood et al (2008),
    =QJRMS 134 1817--1832. However,
    =selecting the checkbox 'Change to Clark et al murk aerosol scheme'
    =will alter the formulation to that described in Clark et al (2008),
    =QJRMS 134 1801--1816. This changes the cloud drop assumptions in the
    =precipitation scheme only and does not affect the calculation of
    =visibility.
type=logical

[namelist:run_precip=l_cry_agg_dep]
compulsory=true
description=Share supersaturation between crystals and aggregates
help=Both depositional growth by the ice crystal category and depositional
    =growth by the aggregate category can deplete the supersaturation.
    =When this switch is active the amount of supersaturation that each ice
    =category can deplete is equal to the overall supersaturation
    =multiplied by the fraction of ice mass that is in each category.
    =Hence the supersaturation cannot be completely depleted twice over.
type=logical

[namelist:run_precip=l_diff_icevt]
compulsory=true
description=Use two different ice fall speeds
help=This change allows for two different ice fall speeds,
    =one for
    =small ice and one for larger ice dependent on the ice mass.
    =It works particularly well with the Generic Ice PSD.
trigger=namelist:run_precip=cic_input: .true.;
       =namelist:run_precip=dic_input: .true.;
       =namelist:run_precip=ci_input: .true.;
       =namelist:run_precip=di_input: .true.
type=logical

[namelist:run_precip=l_droplet_tpr]
compulsory=true
description=Enable tapering of cloud droplets towards surface
help=This scheme allows droplet numbers to be tapered from their maximum
    =value down to a lower value towards the surface,
    =and improves
    =microphysical representation during low cloud and fog events.
    =
    =To activate this scheme,
    =activate namelist:run_precip=l_droplet_tpr and
    =then enter an altitude namelist:run_precip=z_peak_nd below which to
    =taper the droplet numbers (500m is recommended) and a value of the
    =droplet number concentration namelist:run_precip=ndrop_surf in metres -
    =20.0E6 is recommended and is typical of fog measurements made at
    =Cardington MRU.
sort-key=tpr0
trigger=namelist:run_precip=z_peak_nd: .true.;
       =namelist:run_precip=ndrop_surf: .true.
type=logical

[namelist:run_precip=l_fsd_generator]
compulsory=true
description=Use same FSD for warm rain microphysics as used in cloud generator
help=If true,
    =uses same FSD parametrization in improved warm rain microphysics
    =scheme as in cloud generator. If false,
    =the warm rain microphysics uses the
    =parametrization given in Boutle et al. (2012,
    =QJ),irrespective of what is
    =used in the cloud generator.
type=logical

[namelist:run_precip=l_hallett_mossop]
compulsory=true
description=Include Hallett-Mossop Process
help=This switch turns on the process of generating ice particles
    =(sometimes known as 'Rime Splintering') according to the Hallett-Mossop
    =process.
    =
    =Between temperatures of -3 and -8 degrees Celsius,
    =collisions between
    =ice crystals and water (riming) are shown to produce a number of small
    =crystals (i.e. frozen ice splinters) when water droplets freeze on
    =impact.
    =
    =Switching on this option will produce more ice crystals in the UM.
    =
    =Reference: Hallett,
    =J. and Mossop,
    =S. C. 1974. Production of secondary
    =      ice particles during the riming process. Nature,
    =249,26\u201328.
type=logical

[namelist:run_precip=l_it_melting]
compulsory=true
description=Run with iterative melting
help=This allows a numerically more accurate,but slightly slower,
    =solution to
    =be found in the melting layer by iterating the ice sedimentation and
    =melting terms when in the melting layer.
    =
    =This should be selected if the precise position of the rain / snow
    =boundary on the surface is critical to your results.
type=logical

[namelist:run_precip=l_mcr_arcl]
compulsory=true
description=Use climatological aerosols to calculate droplet number
           =(second indirect effect)
trigger=namelist:run_precip=l_autoconv_murk: .false.;
       =namelist:run_precip=arcl_inhom_sc: .true.
type=logical

[namelist:run_precip=l_mcr_iter]
compulsory=true
description=Run with multiple iterations of the precipitation scheme
help=The default number of sub-steps in the microphysics code is 1.
    =
    =However,
    =you may,if you wish,
    =choose to sub-step the microphysics code.
    =To do this,
    =turn on this option.
    =
    =The substepping can take place over the whole model column and/or it can
    =be done on each level in turn ( namelist:run_precip=niter_bs and/or
    =namelist:run_precip=lsiter ).
    =
    =In both cases the number of substeps must be expressed as an integer
    =value.
sort-key=mcr0
trigger=namelist:run_precip=niter_bs: .true.;
       =namelist:run_precip=lsiter: .true.
type=logical

[namelist:run_precip=l_mcr_qgraup]
compulsory=true
description=Include prognostic graupel
help=Prognostic Graupel
    =Including prognostic graupel introduces a rimed ice particle (graupel)
    =variable into the model and allows advection with the 3-dimensional
    =wind field. It is particularly for use with high resolution (~1km)
    =versions of the model.
trigger=namelist:run_precip=l_sr2graup: .true.;
       =namelist:run_electric=l_use_electric: .true.
type=logical

[namelist:run_precip=l_mcr_qgraup_lbc]
compulsory=true
description=Input LBCs include graupel
type=logical

[namelist:run_precip=l_mcr_qrain]
compulsory=true
description=Include prognostic rain
help=Including prognostic rain allows the model to advect rain with the
    =3-dimensional wind field,
    =rather than rely on the assumption of
    =equilibrium within a model grid column (diagnostic representation).
    =It is particularly for use with high resolution (~1km) versions of the
    =model.
type=logical

[namelist:run_precip=l_mcr_qrain_lbc]
compulsory=true
description=Input LBCs include rain
type=logical

[namelist:run_precip=l_psd]
compulsory=true
description=Use generic ice particle size distribution
help=This code uses the idea of a generic ice particle size distribution
    =(PSD) to calculate the microphysical transfer rates between ice and
    =other water species.
    =
    =Only one ice species is assumed (aggregates),
    =and the transfers are
    =calculated via calculation of the moments of the PSD. Two methods are
    =available for calculation of the ice particle size distribution.
    =Upon selection of the generic ice PSD,
    =the choice will default to the
    =mid-latitude version (Field et al,
    =2005).
    =Parametrization of ice-particle size distributions for mid-latitude
    =stratiform cloud. Quart. J. Royal Meterol. Soc.,
    =131,
    =pp 1997-2017).
    =
    =Changing the selection to Global version using
    =namelist:run_precip=l_psd_global will change the calculation to that
    =based on a global data set (Field et al,
    =2007).
    =Snow Size Distribution Parameterization for Midlatitude and Tropical
    =Ice Clouds. J. Atmos. Sci.,
    =64,
    =pp 4346-4365).
    =
    =The first option is more suitable for the mid-latitude and UK-based
    =simulations,
    =while the second option should be more relevant for Hadley
    =centre and global NWP models.
trigger=namelist:run_precip=l_psd_global: .true.;
       = namelist:run_precip=l_diff_icevt: .true.
type=logical

[namelist:run_precip=l_psd_global]
compulsory=true
description=Choose generic ice p.s.d version
help=This code uses the idea of a generic ice particle size distribution
    =(PSD) to calculate the microphysical transfer rates between ice and
    =other water species.
    =
    =Only one ice species is assumed (aggregates),
    =and the transfers are
    =calculated via calculation of the moments of the PSD. Two methods are
    =available for calculation of the ice particle size distribution.
    =Upon selection of the generic ice PSD,
    =the choice will default to the
    =mid-latitude version (Field et al,
    =2005).
    =Parametrization of ice-particle size distributions for mid-latitude
    =stratiform cloud. Quart. J. Royal Meterol. Soc.,
    =131,
    =pp 1997-2017).
    =
    =Changing the selection to Global version using
    =namelist:run_precip=l_psd_global will change the calculation to that
    =based on a global data set (Field et al,
    =2007).
    =Snow Size Distribution Parameterization for Midlatitude and Tropical
    =Ice Clouds. J. Atmos. Sci.,
    =64,
    =pp 4346-4365).
    =
    =The first option is more suitable for the mid-latitude and UK-based
    =simulations,
    =while the second option should be more relevant for Hadley
    =centre and global NWP models.
type=logical

[namelist:run_precip=l_rain]
compulsory=true
description=Run with precipitation scheme
sort-key=aa
type=logical

[namelist:run_precip=l_rainfall_as]
compulsory=true
description=Use Abel and Shipway (2007) rain fall speeds
help=In order to accurately represent light rain and drizzle,
    =a reduced fall
    =speed based on Abel and Shipway (2007,
    =QJRMS) has been inserted into the
    =UM.
    =
    =This allows lighter rain rates to fall slower and evaporate spotty
    =drizzle before it reaches the earth surface.
    =
    =If prognostic rain is switched on,
    =activating this will turn the scheme
    =on. For diagnostic rain (where the 'include prognostic rain' option is
    =turned off),
    =the scheme is slightly different,
    =based on enhancing the
    =evaporation rates of drizzle. In the code,
    =this is defaulted to happen
    =at all rain rates less than 10 mm per hour.
type=logical

[namelist:run_precip=l_sr2graup]
compulsory=true
description=Allow snow-rain collisions to produce graupel
help=This option is only available when prognostic graupel is switched on.
    =
    =When this switch is on,
    =collisions betwee snow and rain are allowed to
    =form graupel,
    =according to the following table:
    =ICE TYPE          RAIN MIXING RATIO     COLLISION RESULTS IN
    =CRYSTALS           > 1.0E-4 KG/KG           CRYSTALS
    =CRYSTALS           < 1.0E-4 KG/KG           CRYSTALS
    =SNOW AGGREGATES    > 1.0E-4 KG/KG           GRAUPEL
    =SNOW AGGREGATES    < 1.0E-4 KG/KG           SNOW AGGREGATES
    =
    =When the generic ide PSD is switched on,
    =the mean diameter of the
    =particles is used to determine whether the collision results in ice
    =aggregates or graupel. If the mean diameter of water is larger,
    =then
    =graupel particles will be formed.  Otherwise the result of the collision
    =will be an increase in the mixing ratio of aggregates.
    =
    =When the option is switched off,
    =then a collision between rain and
    =crystals produces crystals and similarly,
    =a collision between rain and
    =aggregates forms aggregates.
type=logical

[namelist:run_precip=l_taper_new]
compulsory=true
description=Use variable taper curve
help=Selecting the variable taper will allow the droplet concentration to
    =vary with aerosol mass mixing ratio.
    =
    =The values will alter between the maximum value you enter for
    =namelist:run_precip=max_drop_surf (100.0E6 is recommended) and the
    =surface droplet number concentration,
    =depending on the amount of
    =aerosol present.
sort-key=tpr_new0
trigger=namelist:run_precip=max_drop_surf: .true.
type=logical

[namelist:run_precip=l_warm_new]
compulsory=true
description=Use Improved Warm Rain Microphysics Scheme (see help)
help=This switch modifies much of the warm rain microphysics code
    =from its original formulation. The autoconversion and accretion
    =parametrizations are replaced by those of Khairoutdinov and Kogan
    =(2000,
    =MWR),
    =the treatment of rain fraction is now consistent with
    =the prognostic rain formulation,
    =and several bugs have been fixed.
    =Furthermore,
    =the autoconversion and accretion are bias corrected
    =for sub-grid variability in cloud and rain water based on the
    =parametrizations discussed in Boutle et al. (2012,
    =QJ). The user
    =may specify the cloud-rain correlation coefficient for use in the
    =accretion parametrization.
trigger=namelist:run_precip=c_r_correl: .true.;
       =namelist:run_precip=l_fsd_generator: .true.;
type=logical

[namelist:run_precip=lsiter]
compulsory=true
description=Number of substeps over each level
help=The default number of sub-steps in the microphysics code is 1.
    =
    =However,
    =you may,if you wish,
    =choose to sub-step the microphysics code.
    =To do this,
    =turn on namelist:run_precip=l_mcr_iter .
    =
    =The substepping can take place over the whole model column and/or it can
    =be done on each level in turn ( namelist:run_precip=niter_bs and/or
    =this option ).
    =
    =In both cases the number of substeps must be expressed as an integer
    =value.
range=1:1000
sort-key=mcr2
type=integer

[namelist:run_precip=lsp_eic]
compulsory=true
description=Crystal Best scaling
help=This allows the explicit input of ice particle
    =Best number-Reynolds number relationships.
range=0:10
type=real

[namelist:run_precip=lsp_fic]
compulsory=true
description=Crystal Best exponent
help=This allows the explicit input of ice particle
    =Best number-Reynolds number relationships.
range=0:1
type=real

[namelist:run_precip=max_drop_surf]
compulsory=true
description=Max surface droplet number concentration (per cubic metre)
help=Selecting the variable taper will allow the droplet concentration
    =to vary with aerosol mass mixing ratio.
    =
    =The values will alter between the maximum value you enter
    =(100.0E6 is recommended) and the surface droplet number concentration,
    =depending on the amount of aerosol present.
range=1e7:20e7
sort-key=tpr_new1
type=real

[namelist:run_precip=ndrop_surf]
compulsory=true
description=Surface droplet number concentration (per cubic metre)
help=This scheme allows droplet numbers to be tapered from their maximum
    =value down to a lower value towards the surface,
    =and improves
    =microphysical representation during low cloud and fog events.
    =
    =To activate this scheme,
    =activate namelist:run_precip=l_droplet_tpr and
    =then enter an altitude namelist:run_precip=z_peak_nd below which to
    =taper the droplet numbers (500m is recommended) and a value of the
    =droplet number concentration namelist:run_precip=ndrop_surf in metres -
    =20.0E6 is recommended and is typical of fog measurements made at
    =Cardington MRU.
range=1e6:375e6
sort-key=tpr2
type=real

[namelist:run_precip=niter_bs]
compulsory=true
description=Number of substeps over full column
help=The default number of sub-steps in the microphysics code is 1.
    =
    =However,
    =you may,if you wish,
    =choose to sub-step the microphysics code.
    =To do this,
    =turn on namelist:run_precip=l_mcr_iter .
    =
    =The substepping can take place over the whole model column and/or it can
    =be done on each level in turn ( this option and/or
    =namelist:run_precip=lsiter ).
    =
    =In both cases the number of substeps must be expressed as an integer
    =value.
range=1:999
sort-key=mcr1
type=integer

[namelist:run_precip=tnuc]
compulsory=true
description=Maximum ice nucleation temperature (C)
help=This variable is the temperature at which heterogeneous nucleation of
    =ice first starts to form in the model. See UMDP26 for details. Although
    =ice can exist at temperatures warmer than this value,
    =it is not created
    =until the temperature reaches this value. The default value in many UM
    =configurations is -10 C. Changing the maximum ice nucleation temperature
    =to values colder than this figure will reduce the amount of ice present.
    =Changing the maximum ice nucleation temperature to values warmer than this
    =should increase the ice present in the model run.
range=-100:0
type=real

[namelist:run_precip=x1r]
compulsory=true
description=Value of X1 in N(D) = X1R lambda^X2R D^X4R exp(-lambda D)
help=This allows the user to set some parameters relating to the raindrop
    =size distribution.
    =
    =Raindrop size distribution standard parameters are x1r: 26.2
range=0:
type=real

[namelist:run_precip=x2r]
compulsory=true
description=Value of X2 in N(D) = X1R lambda^X2R D^X4R exp(-lambda D)
help=This allows the user to set some parameters relating to the raindrop
    =size distribution.
    =
    =Raindrop size distribution standard parameters are x2r: 1.57
range=-10:10
type=real

[namelist:run_precip=z_peak_nd]
compulsory=true
description=Select Altitude below which to taper in metres
help=This scheme allows droplet numbers to be tapered from their maximum
    =value down to a lower value towards the surface,
    =and improves
    =microphysical representation during low cloud and fog events.
    =
    =To activate this scheme,
    =activate namelist:run_precip=l_droplet_tpr and
    =then enter an altitude namelist:run_precip=z_peak_nd below which to
    =taper the droplet numbers (500m is recommended) and a value of the
    =droplet number concentration namelist:run_precip=ndrop_surf in metres -
    =20.0E6 is recommended and is typical of fog measurements made at
    =Cardington MRU.
range=20:5000
sort-key=tpr1
type=real

[namelist:run_radiation]
compulsory=true
description=run_radiation
ns=namelist/um/section01
title=Section 01 - 02 - Radiation

[namelist:run_radiation=a_lw_seg_size]
compulsory=true
description=Segment size for LW
help=The choice of segmenting depends on the ratio between CPU and
    = memory capacity of the machine that you are running on. This facility
    = allows the routines to split the domain into several segments and work
    = on one at a time. This reduces the memory requirements of the job by
    = allowing smaller work-arrays. 1 segment is most efficient on CPU but
    = uses more memory.
    =
    = This needs to be tuned for each configuration,
    =machine and version of
    = the code.
    =
    = By setting this item to a negative number it is possible to specify the
    = number of segments rather than the segment size for SW radiation
    = (see namelist:run_radiation=a_lw_segments).
    = However,
    =setting the segment size directly allows tuning in a manner
    = that should be invariant to decomposition (unlike when setting the
    = number of segments). On the IBM Power 6 it is recommended that
    = the segment size is specified and set to 80 for LW and SW.
    = This can give a useful improvement in runtimes.
range=:-1,1:999999
trigger=namelist:run_radiation=a_lw_segments: this < 0
type=integer

[namelist:run_radiation=a_lw_segments]
compulsory=true
description=Number of segments for LW
help=The choice of segmenting depends on the ratio between CPU and
    = memory capacity of the machine that you are running on. This facility
    = allows the routines to split the domain into several segments and work
    = on one at a time. This reduces the memory requirements of the job by
    = allowing smaller work-arrays. 1 segment is most efficient on CPU but
    = uses more memory.
    =
    = This needs to be tuned for each configuration,
    =machine and version of
    = the code.
    =
    = By setting namelist:run_radiation=a_lw_seg_size to a negative number
    = it is possible to specify the number of segments rather than the segment
    = size. However,
    =setting the segment size directly allows tuning in a
    = manner that should be invariant to decomposition (unlike when setting
    = the number of segments). On the IBM Power 6 it is recommended that
    = the segment size namelist:run_radiation=a_lw_seg_size is
    = specified and set to 80 for LW and SW. This can give a useful
    = improvement in runtimes.
range=:-1,1:
type=integer

[namelist:run_radiation=a_sw_seg_size]
compulsory=true
description=Segment size for SW
help=The choice of segmenting depends on the ratio between CPU and
    = memory capacity of the machine that you are running on. This facility
    = allows the routines to split the domain into several segments and work
    = on one at a time. This reduces the memory requirements of the job by
    = allowing smaller work-arrays. 1 segment is most efficient on CPU but
    = uses more memory.
    =
    = This needs to be tuned for each configuration,
    =machine and version of
    = the code.
    =
    = By setting this item to a negative number it is possible to specify the
    = number of segments rather than the segment size for SW radiation
    = (see namelist:run_radiation=a_sw_segments).
    = However,
    =setting the segment size directly allows tuning in a manner
    = that should be invariant to decomposition (unlike when setting the
    = number of segments). On the IBM Power 6 it is recommended that
    = the segment size is specified and set to 80 for LW and SW.
    = This can give a useful improvement in runtimes.
range=:-1,1:999999
trigger=namelist:run_radiation=a_sw_segments: this < 0
type=integer

[namelist:run_radiation=a_sw_segments]
compulsory=true
description=Number of segments for SW
help=The choice of segmenting depends on the ratio between CPU and
    = memory capacity of the machine that you are running on. This facility
    = allows the routines to split the domain into several segments and work
    = on one at a time. This reduces the memory requirements of the job by
    = allowing smaller work-arrays. 1 segment is most efficient on CPU but
    = uses more memory.
    =
    = This needs to be tuned for each configuration,
    =machine and version of
    = the code.
    =
    = By setting namelist:run_radiation=a_sw_seg_size to a negative number
    = it is possible to specify the number of segments rather than the segment
    = size. However,
    =setting the segment size directly allows tuning in a
    = manner that should be invariant to decomposition (unlike when setting
    = the number of segments). On the IBM Power 6 it is recommended that
    = the segment size namelist:run_radiation=a_sw_seg_size is
    = specified and set to 80 for LW and SW. This can give a useful
    = improvement in runtimes.
range=:-1,1:
type=integer

[namelist:run_radiation=aero_bl_levels]
# depends on cusack_aero_hgt
compulsory=true
description=Number of boundary layer levels over which the aerosol is distributed
help=Number of boundary layer levels over which the aerosol is distributed
    = (up to total number of BL levels)
type=integer

[namelist:run_radiation=aeroscl_csk_clim]
# depends on cusack_aero
compulsory=true
description=Scalings for aerosols in Cusack's climatology
help=Scalings for the five aerosols in Cusack's climatology
length=5
range=0.0:1.0
type=real

[namelist:run_radiation=alphab]
# This needs triggers for NEMO, CICE, SSICEALBEDO
# [namelist:jules_switches=l_ssice_albedo] trigger=namelist_run_radiation=alphab: .true.
compulsory=true
description=Albedo of snow free ('bare') sea-ice
range=0:1
type=real

[namelist:run_radiation=alphac]
compulsory=true
description=Typical value 0.8
range=0:1
type=real

[namelist:run_radiation=alpham]
compulsory=true
description=usually =0.5 or =0.6
range=0:1
type=real

[namelist:run_radiation=c113mmr]
compulsory=true
description=Specify mass mixing ratio of CFC113
help=Mixing ratios must be provided for gases included in one of two ways.
    = The simple way is to specify a constant value for all time in the
    = integration.
range=0.0:1.0e-6
type=real

[namelist:run_radiation=c114mmr]
compulsory=true
description=Specify mass mixing ratio of CFC114
help=Mixing ratios must be provided for gases included in one of two ways.
    = The simple way is to specify a constant value for all time in the
    = integration.
range=0.0:1.0e-6
type=real

[namelist:run_radiation=c11mmr]
compulsory=true
description=Specify mass mixing ratio of CFC11
help=Mixing ratios must be provided for gases included in one of two ways.
    = The simple way is to specify a constant value for all time in the
    = integration.
    = Usually ~1.1e-9
range=0.0:1.0e-6
type=real

[namelist:run_radiation=c12mmr]
compulsory=true
description=Specify mass mixing ratio of CFC12
help=Mixing ratios must be provided for gases included in one of two ways.
    = The simple way is to specify a constant value for all time in the
    = integration.
    = Usually =2.225e-9,
    =or 1.595e-9 (HadGEM3)
range=0.0:1.0e-6
type=real

[namelist:run_radiation=ch4mmr]
compulsory=true
description=Specify mass mixing ratio of Methane
help=Mixing ratios must be provided for gases included in one of two ways.
    = The simple way is to specify a constant value for all time in the
    = integration.
    = Absorption by methane may be included only if relevant data are
    = present in the spectral file.
    = An appropriate mass mixing ratio must be set here.
type=real

[namelist:run_radiation=clim_rad_volc_eruption_month]
compulsory=true
description=Volcanic eruption month
help=The sulphate aerosol in this scheme can be modified in the stratosphere
    = to take account of large enhancements that occur after volcanic
    = eruptions. This is useful in seasonal and decadal forecasts,
    =for
    = example,
    =where a sudden volcano could be detrimental if not
    = represented. At the same time,
    =it is unlikely that detailed
    = measurements of aerosol concentrations would be available quickly
    = enough to specify 3d fields via the ancillary file method below.
    =
    = As such,
    =the volcano is represented as a 'climatology' that varies
    = month by month for 4 years after the eruption date. This 'climatology'
    = is specified as a composite of the 5 explosive tropical eruptions of
    = the 20th century,
    =as reckoned in the Sato (2002) optical depth dataset
    = ( http://www.giss.nasa.gov/data/strataer).
    =
    = The code converts optical depth to the necessary mass mixing ratios
    = between the tropopause level and 30hPa and has limited latitude
    = resolution by using differing values for the bands 90-30N,
    =30-0N,0-30S,
    =30-90S. If the volcanic eruption option is selected,
    =then the
    = year and month of the eruption need to be specified. In addition,
    =a
    = scaling factor can be applied to increase or decrease the magnitude of
    = the volcanic eruption effect. The default (1.0) corresponds to a
    = moderate-sized eruption with a peak optical depth of 0.1. For
    = comparison,
    =the 1991 Pinatubo eruption had a peak optical depth of
    = about 0.2. Scaling can be set as high as 9.99 (almost optically
    = saturated) but an eruption this large probably has effects beyond the
    = scope of the code.
    =
    = Related variables:
    =     namelist:run_radiation=clim_rad_volc_eruption_weight
    =     namelist:run_radiation=clim_rad_volc_eruption_year
    =     namelist:run_radiation=l_rad_use_clim_volc
range=1:12
type=integer

[namelist:run_radiation=clim_rad_volc_eruption_weight]
compulsory=true
description=Volcanic eruption weight
help=The sulphate aerosol in this scheme can be modified in the stratosphere
    = to take account of large enhancements that occur after volcanic
    = eruptions. This is useful in seasonal and decadal forecasts,
    =for
    = example,
    =where a sudden volcano could be detrimental if not
    = represented. At the same time,
    =it is unlikely that detailed
    = measurements of aerosol concentrations would be available quickly
    = enough to specify 3d fields via the ancillary file method below.
    =
    = As such,
    =the volcano is represented as a 'climatology' that varies
    = month by month for 4 years after the eruption date. This 'climatology'
    = is specified as a composite of the 5 explosive tropical eruptions of
    = the 20th century,
    =as reckoned in the Sato (2002) optical depth dataset
    = ( http://www.giss.nasa.gov/data/strataer).
    =
    = The code converts optical depth to the necessary mass mixing ratios
    = between the tropopause level and 30hPa and has limited latitude
    = resolution by using differing values for the bands 90-30N,
    =30-0N,0-30S,
    =30-90S. If the volcanic eruption option is selected,
    =then the
    = year and month of the eruption need to be specified. In addition,
    =a
    = scaling factor can be applied to increase or decrease the magnitude of
    = the volcanic eruption effect. The default (1.0) corresponds to a
    = moderate-sized eruption with a peak optical depth of 0.1. For
    = comparison,
    =the 1991 Pinatubo eruption had a peak optical depth of
    = about 0.2. Scaling can be set as high as 9.99 (almost optically
    = saturated) but an eruption this large probably has effects beyond the
    = scope of the code.
    =
    = Related variables:
    =     namelist:run_radiation=clim_rad_volc_eruption_month
    =     namelist:run_radiation=clim_rad_volc_eruption_year
    =     namelist:run_radiation=l_rad_use_clim_volc
range=1:12
type=integer

[namelist:run_radiation=clim_rad_volc_eruption_year]
compulsory=true
description=Volcanic eruption year
help=The sulphate aerosol in this scheme can be modified in the stratosphere
    = to take account of large enhancements that occur after volcanic
    = eruptions. This is useful in seasonal and decadal forecasts,
    =for
    = example,
    =where a sudden volcano could be detrimental if not
    = represented. At the same time,
    =it is unlikely that detailed
    = measurements of aerosol concentrations would be available quickly
    = enough to specify 3d fields via the ancillary file method below.
    =
    = As such,
    =the volcano is represented as a 'climatology' that varies
    = month by month for 4 years after the eruption date. This 'climatology'
    = is specified as a composite of the 5 explosive tropical eruptions of
    = the 20th century,
    =as reckoned in the Sato (2002) optical depth dataset
    = ( http://www.giss.nasa.gov/data/strataer).
    =
    = The code converts optical depth to the necessary mass mixing ratios
    = between the tropopause level and 30hPa and has limited latitude
    = resolution by using differing values for the bands 90-30N,
    =30-0N,0-30S,
    =30-90S. If the volcanic eruption option is selected,
    =then the
    = year and month of the eruption need to be specified. In addition,
    =a
    = scaling factor can be applied to increase or decrease the magnitude of
    = the volcanic eruption effect. The default (1.0) corresponds to a
    = moderate-sized eruption with a peak optical depth of 0.1. For
    = comparison,
    =the 1991 Pinatubo eruption had a peak optical depth of
    = about 0.2. Scaling can be set as high as 9.99 (almost optically
    = saturated) but an eruption this large probably has effects beyond the
    = scope of the code.
    =
    = Related variables:
    =     namelist:run_radiation=clim_rad_volc_eruption_month
    =     namelist:run_radiation=clim_rad_volc_eruption_weight
    =     namelist:run_radiation=l_rad_use_clim_volc
range=-9999:9999
type=integer

[namelist:run_radiation=co2_mmr]
compulsory=true
description=Specify CO2 mass mixing ratio for whole run (kg/kg)
help=Usually (NWP) ~5.941e-04
range=0.0:1.0e-2
type=real

[namelist:run_radiation=cusack_aero]
compulsory=true
description=Select the option of climatological aerosols (affects both the LW and SW code)
           = 1 - No Cusack,
           =2 - strato Cusack,3 - all Cusack
help=Select the option of climatological aerosols (affects both the LW and SW code)
    =     1 - Cusack climatological aerosol not included
    =     2 - Only use Stratospheric Cusack climatological aerosol components (as used in HADGEM1)
    =     3 - Use all components of Cusack climatological aerosol included
trigger=namelist:run_radiation=l_rad_use_clim_volc: 2,3
values=1,2,3

[namelist:run_radiation=cusack_aero_hgt]
compulsory=true
description=Used to set former variable l_clim_aero_hgt in UM code
           = Also used for namelist:run_radiation=aero_bl_levels
#trigger = namelist:run_radiation=aero_bl_levels: 2, 3
values=1,2,3

[namelist:run_radiation=dalb_bare_wet]
compulsory=true
description=Increment to albedo for each degree temperature rises above minimum
range=-1.0:0
type=real

[namelist:run_radiation=dp_corr_conv]
# Depends on namelist::r2swclnl=i_cloud_lw, i_cloud_sw
compulsory=true
description=Decorrelation pressure scale for convective cloud (Pascals)
help=The vertical overlap of cloud may be treated as "Partially Correlated"
    = where a certain fraction of the cloud will be maximally overlapped and
    = the remainder randomly overlapped for adjacent layers.
    =
    = The fraction used will depend upon the "decorrelation pressure scale",
    =which is the pressure difference (in Pascals) at which the correlation
    = between clouds falls to 1/e.
type=real

[namelist:run_radiation=dp_corr_strat]
# Depends on namelist::r2swclnl=i_cloud_lw, i_cloud_sw
compulsory=true
description=Decorrelation pressure scale for stratiform cloud (Pascals)
help=The vertical overlap of cloud may be treated as "Partially Correlated"
    = where a certain fraction of the cloud will be maximally overlapped and
    = the remainder randomly overlapped for adjacent layers.
    =
    = The fraction used will depend upon the "decorrelation pressure scale",
    =which is the pressure difference (in Pascals) at which the correlation
    = between clouds falls to 1/e.
    =
    = Usually ~10000.0
type=real

[namelist:run_radiation=dt_bare]
# dependent on namelist:jules_switches=l_ssice_albedo
compulsory=true
description=Temperature below freezing at which melt ponds form (C)
range=0:100

[namelist:run_radiation=dtice]
compulsory=true
description=Recommended range 5-10K
range=0.1:50
type=real

[namelist:run_radiation=h_lwbands]
compulsory=true
description=Number of LW bands
help=The number of bands should be set based on the chosen longwave
    = spectral file.
range=1:9
type=integer

[namelist:run_radiation=h_swbands]
compulsory=true
description=Number of SW bands
help=The number of bands should be set based on the chosen shortwave
    = spectral file.
range=1:24
type=integer

[namelist:run_radiation=hcfc22mmr]
compulsory=true
description=Specify mass mixing ratio of HCFC22
help=Mixing ratios must be provided for gases included in one of two ways.
    = The simple way is to specify a constant value for all time in the
    = integration.
range=0:5.0e-8
type=real

[namelist:run_radiation=hfc134ammr]
compulsory=true
description=Specify mass mixing ratio of HFC134A
help=Mixing ratios must be provided for gases included in one of two ways.
    = The simple way is to specify a constant value for all time in the
    = integration.
range=0:5.0e-8
type=real

[namelist:run_radiation=i_fsd]
compulsory=true
description=Parametrization of subgrid variability of cloud water content
help=Parametrization of subgrid scale horizontal ice and liquid water
    = content variability.
    = 0 - constant global value defined by sigma_qcw
    = 1 - Parametrization described in Hill et al 2012
    = 2 - Use cca from convection scheme for regime dependent param
    = 3 - Use deep and mid-level (not shallow) cca from conv scheme
    =     for regime dependence
    = 4 - Use parametrization described in Boutle et al 2013
    = 5 - Use regime dependent parametrization with smoothed cca field
    = 6 - Use deep and mid-level cca parametrization with smoothed
    =     cca field.
range=0:6
type=integer

[namelist:run_radiation=i_lw_radstep_perday_diag]
compulsory=true
description=Number of times per day to calculate increments (LW Diagnostic)
help=Number of times per day to calculate increments (LW Diagnostic)
    =
    =Where "Diagnose radiative forcings" (i_rad_extra_call=1) has been
    =selected the number of "diagnostic" increments per day must also be
    =given. The diagnostic increments must coincide with full prognostic
    =increments but may be less often.
    =
    =Where "Timestepping scheme" (i_rad_extra_call=2) has been selected
    =the number of approximate radiative increments per day must be given.
    =These must be a multiple of the  number of full radiative increments.
range=1:
type=integer

[namelist:run_radiation=i_lw_radstep_perday_prog]
compulsory=true
description=Number of times per day to calculate increments (LW Prognostic)
help=Number of times per day to calculate increments (LW Prognostic)
    =
    =LW Radiation is expensive and in all standard configurations the
    =increments are only calculated periodically,
    =but added in every
    =timestep. The frequency of calling needs to be a multiple of the timestep
    =and depends on the required temporal resolution of the run.
range=1:
type=integer

[namelist:run_radiation=i_ozone_int]
compulsory=true
description=Select option for the ozone treatment in radiation
help=1 => Impose prescribed 3D field
    =2 => Impose prescribed 2D field
    =5 => Match ozone tropopause in ancillary to terminal tropopause
    =conserving the column mass
trigger=namelist:run_radiation=l_use_cariolle: 1,2
values=1,2,5

[namelist:run_radiation=i_rad_extra_call]
compulsory=true
description=Options for multiple calls to radiation
help=Options for multiple calls to radiation
    =
    =0 => Single call to radiation
    =
    =1 => "Diagnose radiative forcings": calculate radiative forcing diagnostics
    =with respect to variation of certain abundances (see panel Gen2 -> SLW_Forc).
    =
    =2 => "Timestepping scheme": calculate approximate radiative increments on
    =timesteps in-between full radiation timesteps.
    =
    =3 => Diagnostic calculation of radiances
values=0,1,2,3

[namelist:run_radiation=i_rad_topography]
compulsory=true
description=Set radiation topography options
help=0 => Flat surface
    =
    =1 => Surface slopes affect direct SW (smoothed model orography)
    =
    =2 => Surface slopes affect direct SW (ancillary gradient fields)
    =
    =3 => Slopes and shading affect direct SW,
    =skyview factor affects LW
    =(smoothed model orography)
    =
    =4 => Slopes and shading affect direct SW,
    =skyview factor affects LW
    =(ancillary gradient fields)
    =
    =Orographic correction
    =
    =This corrects the direct SW radiation absorbed and reflected at the
    =surface for the angle of the surface slope with respect to the position of
    =the sun.  Options using smoothed orography will calculate a slope from the
    =heights of the surrounding grid-boxes.  Options using ancillary gradient
    =fields requires that X and Y gradient fields are present in the orography
    =ancillary file and that they are set to be configured in the window
    =atmos_InFiles_OtherAncil_Orog.
    =
    =Terrain shading and LW sky-view correction
    =
    =Corrects the direct SW radiation at the surface for shading by surrounding
    =terrain. Also corrects for the insulating effect of surrounding terrain on
    =the LW net surface flux. Horizon angles used for these corrections may be
    =calculated from the standard (generally smoothed) orographic heights or
    =using the "unfiltered orography" if this is present in the dump or in the
    =ancillary orography file and has been configured in the window
    =atmos_InFiles_OtherAncil_Orog.
values=0,1,2,3,4

[namelist:run_radiation=i_sw_radstep_perday_diag]
compulsory=true
description=Number of times per day to calculate increments (SW Diagnostic)
help=Number of times per day to calculate increments (SW Diagnostic)
    =
    =Where "Diagnose radiative forcings" (i_rad_extra_call=1) has been
    =selected the number of "diagnostic" increments per day must also be
    =given. The diagnostic increments must coincide with full prognostic
    =increments but may be less often.
    =
    =Where "Timestepping scheme" (i_rad_extra_call=2) has been selected
    =the number of approximate radiative increments per day must be given.
    =These must be a multiple of the  number of full radiative increments.
range=1:
type=integer

[namelist:run_radiation=i_sw_radstep_perday_prog]
compulsory=true
description=Number of times per day to calculate increments (SW Prognostic)
help=Number of times per day to calculate increments (SW Prognostic)
    =
    =SW Radiation is expensive and in all standard configurations and so full
    =calculations are only done periodically,
    =with the increments re-scaled to
    =allow for the motion of the sun across the sky. The rescaling is done every
    =timestep. Frequency of calling needs to be a multiple of the timestep and
    =depends on the required temporal resolution of the run.
range=1:
type=integer

[namelist:run_radiation=inhom_cloud_lw]
compulsory=true
description=Cloud inhomogeneities (LW)
help=Scaling for cloud inhomogeneities
    =
    = The option to use scaling for cloud inhomogeneities will alter the
    = value of the condensate mixing ratios used within the radiation code.
    = This mimics the effect of increased transmissivity seen in
    = inhomogeneous clouds.
    =
    = Values in the array represent:
    =
    = Index  Condensate              Recommended range
    = -----  ----------              -----------------
    = 1      Stratiform cloud water  0.7 - 1.0
    = 2      Stratiform cloud ice    0.9 - 1.0
    = 3      Convective cloud water  0.3 - 0.6
    = 4      Convective cloud ice    0.5 - 0.8
length=4
range=0:1
type=real

[namelist:run_radiation=inhom_cloud_sw]
compulsory=true
description=Cloud inhomogeneities (SW)
help=Scaling for cloud inhomogeneities
    =
    = The option to use scaling for cloud inhomogeneities will alter the
    = value of the condensate mixing ratios used within the radiation code.
    = This mimics the effect of increased transmissivity seen in
    = inhomogeneous clouds.
    =
    = Values in the array represent:
    =
    = Index  Condensate              Recommended range
    = -----  ----------              -----------------
    = 1      Stratiform cloud water  0.7 - 1.0
    = 2      Stratiform cloud ice    0.9 - 1.0
    = 3      Convective cloud water  0.3 - 0.6
    = 4      Convective cloud ice    0.5 - 0.8
length=4
range=0:1
type=real

[namelist:run_radiation=is_ncol]
compulsory=true
description=Number of columns to be sub-sampled by the ISCCP simulator
range=0:9999
type=integer

[namelist:run_radiation=l_eqt]
compulsory=true
description=usually =.true.
help=The equation of time relates to the difference between apparent and
    = mean solar time and can amount to 16 minutes in November.
    = Including it is recommended.
type=logical

[namelist:run_radiation=l_rad_deg]
compulsory=true
description=Spatial degradation of radiation calculations
help=Spatial Degradation
    =
    =Switching on the spatial degradation of radiation calculations will do
    =full radiation calculations on every other point,
    =in a chequerboard
    =pattern,
    =and those points on which a radiation calculation is not done
    =will use data interpolated from their neighbours which did do a full
    =calculation.
type=logical

[namelist:run_radiation=l_rad_szacor]
compulsory=true
description=Transmission based solar zenith angle correction
help=Transmission based solar zenith angle correction
    =
    =This will take into account the change in optical path length through the
    =atmosphere when correcting the surface (and TOA) fluxes for the change in
    =solar zenith angle between radiation time-steps. See "Manners et al. 2009,
    =Q. J. R. Meteorol. Soc. 135: 457-468, DOI:10.1002/qj.385" for further
    =details.
type=logical

[namelist:run_radiation=l_rad_use_clim_volc]
compulsory=true
description=Specify climatological volcanic eruption?
help=The sulphate aerosol in this scheme can be modified in the stratosphere
    = to take account of large enhancements that occur after volcanic
    = eruptions. This is useful in seasonal and decadal forecasts,
    =for
    = example,
    =where a sudden volcano could be detrimental if not
    = represented. At the same time,
    =it is unlikely that detailed
    = measurements of aerosol concentrations would be available quickly
    = enough to specify 3d fields via the ancillary file method below.
    =
    = As such,
    =the volcano is represented as a 'climatology' that varies
    = month by month for 4 years after the eruption date. This 'climatology'
    = is specified as a composite of the 5 explosive tropical eruptions of
    = the 20th century,
    =as reckoned in the Sato (2002) optical depth dataset
    = ( http://www.giss.nasa.gov/data/strataer).
    =
    = The code converts optical depth to the necessary mass mixing ratios
    = between the tropopause level and 30hPa and has limited latitude
    = resolution by using differing values for the bands 90-30N,
    =30-0N,0-30S,
    =30-90S. If the volcanic eruption option is selected,
    =then the
    = year and month of the eruption need to be specified. In addition,
    =a
    = scaling factor can be applied to increase or decrease the magnitude of
    = the volcanic eruption effect. The default (1.0) corresponds to a
    = moderate-sized eruption with a peak optical depth of 0.1. For
    = comparison,
    =the 1991 Pinatubo eruption had a peak optical depth of
    = about 0.2. Scaling can be set as high as 9.99 (almost optically
    = saturated) but an eruption this large probably has effects beyond the
    = scope of the code.
    =
    = Related variables:
    =     namelist:run_radiation=clim_rad_volc_eruption_month
    =     namelist:run_radiation=clim_rad_volc_eruption_weight
    =     namelist:run_radiation=clim_rad_volc_eruption_year
trigger=namelist:run_radiation=clim_rad_volc_eruption_month: .true.;
       =namelist:run_radiation=clim_rad_volc_eruption_weight: .true.;
       =namelist:run_radiation=clim_rad_volc_eruption_year: .true.
type=logical

[namelist:run_radiation=l_radiation]
compulsory=true
description=Run with radiation
type=logical

[namelist:run_radiation=l_sec_var]
compulsory=true
description=Include secular variable of the orbital parameters
help=Most users should not invoke secular variations of the astronomy,
    =relying instead on the default values - currently for the epoch J2000.
    = Users of secular variations should seek advice.
type=logical

[namelist:run_radiation=l_use_cariolle]
description=Use Cariolle scheme to calculate ozone tracer
help=Activating the Cariolle scheme will allow a 3D Ozone tracer field to be
    =calculated within the UM. The Cariolle scheme provides a simple representation
    =of ozone and how it is modified by loss and production mechanisms. There are
    =several different versions available,
    =the one currently lodged is version 1.
    =
    =More details on the Cariolle scheme are available from  the following
    =reference: Cariolle,
    =D. and M. Deque. Southern hemisphere medium-scale waves
    =and total ozone disturbances in a spectral general circulation model.
    =J. Geophys. Res.,
    =vol. 91,pp 10825-10846,
    =1986.
    =
    =The calculation of the ozone tracer does not affect the ozone field itself,
    =this is Li and Shine Climatology and remains unchanged.
    =
    =When the Cariolle scheme is activated the option is available to use the
    =cariolle ozone tracer field in the radiation in place of the prescribed 2D or
    =3D ozone field. Therefore using the cariolle scheme along side these options
    =will mean that the ozone tracer is used within the radiation instead of ozone
    =climatology.
    =
    =The ozone tracer is calculated on model levels not ozone levels.
    =
    =The Cariolle scheme should only be used when in a global configuration as the
    =parameters used to calculate it are zonal ancillary files which are specified
    =in the input and ancils panels.
#trigger=namelist:run_radiation=l_use_ozoneinrad: .true.
type=logical

[namelist:run_radiation=l_use_ozoneinrad]
description=Use Cariolle ozone tracer in radiation scheme
help=When the Cariolle scheme is activated the option is available to use the
    =cariolle ozone tracer field in the radiation in place of the prescribed 2D or
    =3D ozone field. Therefore using the cariolle scheme along side these options
    =will mean that the ozone tracer is used within the radiation instead of ozone
    =climatology.
    =
    =The ozone tracer is calculated on model levels not ozone levels.
type=logical

[namelist:run_radiation=n2ommr]
compulsory=true
description=Specify mass mixing ratio of Nitrous Oxide
help=Absorption by nitrous oxide may be included only if relevant data are
    = present in the spectral file.
    = An appropriate mass mixing ratio must be set here.
type=real

[namelist:run_radiation=o2mmr]
compulsory=true
description=Typical value 0.2314
help=Absorption by oxygen may be included only if relevant data are
    = present in the spectral file.
    = An appropriate mass mixing ratio must be set here.
range=0.2:0.25
type=real

[namelist:run_radiation=pen_rad_frac]
compulsory=true
description=Fraction of SW radiation that penetrates sea-ice and scatters
range=0:1
type=real

[namelist:run_radiation=rad_mcica_sampling]
# Depends on namelist::r2swclnl=i_cloud_lw, i_cloud_sw
compulsory=true
description=McICA sampling method
range=0:10
type=integer

[namelist:run_radiation=rad_mcica_sigma]
# Depends on namelist::r2swclnl=i_cloud_lw, i_cloud_sw
compulsory=true
description=Normalised cloud condensate standard deviation
help=For a full treatment of cloud inhomogeneity sub-grid cloud may be
    = generated and then sampled using the McICA method.
    =
    = Where this is selected it is necessary to set a value for the standard
    = deviation of the cloud condensate (recommended values 0.5 - 1.0).
range=0:10
type=real

[namelist:run_radiation=sc]
compulsory=true
description=Solar constant (W/m2)
help=Mean total solar radition flux at Earth's mean distance from the Sun.
    = Recent estimates show this to be about 1361W/m2 (Kopp and Lean, 2011).
range=1.0e3:2.0e3
type=real

[namelist:run_radiation=ssalphac]
compulsory=true
description=Albedo of cold deep snow on sea-ice
range=0:1
type=real

[namelist:run_radiation=ssalpham]
compulsory=true
description=Albedo of melting deep snow on sea-ice
range=0:1
type=real

[namelist:run_radiation=ssdtice]
compulsory=true
description=Recommended range 5-10K
range=0.1:50
type=real

[namelist:run_radiation=sw_beta]
compulsory=true
description=Attenuation factor
range=0:1
type=real

[namelist:run_rivers]
compulsory=true
description=run_rivers
ns=namelist/um/section26
title=Section 26 - River Routing

[namelist:run_rivers=i_river_vn]
compulsory=true
description=Select river routing configuration
help=1 - Global Model
    = 2 - Limited Area Model
sort-key=a11
values=1,2

[namelist:run_rivers=l_inland]
compulsory=true
description=Re-routing inland basin water back to soil moisture
help=Selecting 'Re-routing inland basin water back to soil moisture' is only
    =applicable to the global river routing scheme 1A and fixes a bug where
    =water from inland outflow points was previously 'lost' to the system on
    =regridding. The re-routed water is held over until the next timestep
    =and added to the change in top-level soil moisture.
    =NOTE: this method as applied at UMvn6.2 was incorrect since only 1/48 of
    =the flux was applied on a daily basis. Correcting this resulted in model
    =crashes so a new approach was applied at vn6.6.2 but this requires different
    =ancillary files.
sort-key=aa2
type=logical

[namelist:run_rivers=l_rivers]
compulsory=true
description=Use Global River Routing scheme
help=Global Model Routing
    =
    =Scheme 1A should be chosen for any GLOBAL run and 2A only for Limited
    =area model (code under development). The 1A global scheme is described in
    =Hadley Centre Technical Note 72 (HCTN72) - currently up to date for UM versions
    =up to 6.2. Further developments and fixes to the scheme have been applied for
    =later UM versions,
    =including new ancillary files for use with water
    =conservation fixes.
sort-key=aa1
trigger=namelist:run_rivers=l_inland: .true.;
       =namelist:run_rivers=river_step: .true.;
       =namelist:run_rivers=river_vel: .true.;
       =namelist:run_rivers=river_mcoef: .true.;
type=logical

[namelist:run_rivers=river_mcoef]
compulsory=true
description=Meander ratio
help=Although in principle,
    =for timesteps less than 1 day the effective velocity may
    =be altered (see below),
    =recent correspondence with the model developers suggest
    =this is unnecessary,
    =so the following settings are currently applied: effective
    =velocity of 0.4 m/s and a meander ratio of 1.4.
range=1.0:5.0
type=real

[namelist:run_rivers=river_step]
compulsory=true
description=River Routing Timestep (sec)
help=The river routing timestep of 86400 secs (1 day) is commonly used,
    =especially as
    =this is often the Atmosphere/Ocean coupling period too. More recent applications
    =are using shorter timesteps (e.g. 3 hours).
range=1.0:10000000.0
type=real

[namelist:run_rivers=river_vel]
compulsory=true
description=Effective Velocity (m/s)
help=Although in principle,
    =for timesteps less than 1 day the effective velocity may
    =be altered (see below),
    =recent correspondence with the model developers suggest
    =this is unnecessary,
    =so the following settings are currently applied: effective
    =velocity of 0.4 m/s and a meander ratio of 1.4.
    =
    =Alterting effective velocity (see above):
    =Effective velocity should be a multiple of the physics timesteps and,
    =if it is
    =changed,
    =is governed by:
    =u.dt < d where u is the effective velocity(m/s),
    =dt the timestep (s) and
    =d distance across a gridbox east-west (which in polar regions is approx.
    =20,
    =000m). Suggestions for timesteps other than 1 day (from off-line scheme)
    =are:
    =
    =dt > 43200secs           0 < u < 0.5 (dt = 86400secs recommended u=0.4)
    =dt = 43200secs (12hours) 0.5=or< u < 1.0 (recommended 0.5)
    =dt = 21600secs (6hours)  1.0=or< u < 1.5
    =dt = 14400secs (4hours)  1.5=or< u < 2.0
    =dt = 10800secs (3hours)  2.0=or< u < 3.0
range=0.001:0.5
type=real

[namelist:run_sl]
compulsory=true
description=Namelist run_sl
ns=namelist/um/section10/solver
title=Solver

[namelist:run_sl=depart_order]
compulsory=true
description=Iterations inside Ritchie scheme
help=Iterations inside Ritchie scheme
ns=namelist/um/section10/advection
range=0:2
sort-key=a8
type=integer

[namelist:run_sl=high_order_scheme]
compulsory=true
description=high order schemes for (theta,mositure(tracers),
           =winds and density)
help=High order schemes:
    = 0-Linear interpolation - no high order scheme
    = 1-Cubic Lagrange interpolation 2: Quintic Lagrange interpolation
    = 3-ECMWF quasi-cubic interpolation
    = 4-ECMWF monotone quasi-cubic interpolation
    = 5-Bi-cubic Lagrange interpolation in the horizontal,
    =linear interpolation in the vertical
    = 6-ECMWF quasi-cubic interpolation in the horizontal,
    =quintic in the vertical
    = 7-cubic Lagrange interpolation in the horizontal,
    =quintic in the vertical
    = 8-LOCH: bi-cubic Lagrange in the horizontal; C1-Hermite cubic with quadratic
    =derivative estimates in the vertical
    = 9-HOCH: bi-cubic Lagrange in the horizontal; C1-Hermite cubic with quartic
    =derivative estimates in the vertical
length=4
ns=namelist/um/section10/advection
range=0:9
sort-key=a2
type=integer

[namelist:run_sl=instability_diagnostics]
compulsory=true
description=printing of unstable pnts and check for -ve pressure creation
help=printing of unstable pnts and check for -ve pressure creation
ns=namelist/um/section10/trapping
range=0:2
type=integer

[namelist:run_sl=interp_vertical_search_tol]
compulsory=true
description=Vertical interpolation search tolerance
help=Vertical interpolation search tolerance
ns=namelist/um/section10/advection
range=0:
sort-key=a6
type=integer

[namelist:run_sl=l_2d_sl_geometry]
compulsory=true
description=use 2d vector cooridnate geometry
ns=namelist/um/section10/advection
sort-key=a7
type=logical

[namelist:run_sl=l_conserve_tracers]
compulsory=true
description=Advect tracers using a conservative scheme?
help=Advect tracers using a conservative scheme?
ns=namelist/um/section10/advection
sort-key=b2
type=logical

[namelist:run_sl=l_sl_halo_reprod]
compulsory=true
description=Bit reprod for all extended halos?
help=Do you require bit reproducible results whatever size the extended haloes
    = are set to? N.B. This increases the cost of the code.
ns=namelist/um/section10/advection
type=logical

[namelist:run_sl=moisture_conservation]
compulsory=true
description=Moisture conservation type
help=Moisture conservation types
    = 0-none,1-standard,
    =2-more accurate,(Expensive,do not use for forecast runs)
ns=namelist/um/section10/advection
range=0:2
sort-key=a3
type=integer

[namelist:run_sl=monotone_scheme]
compulsory=true
description=monotone scheme for (theta,mositure(tracers),
           =winds and density)
help=monotone schemes:
    = 0-No scheme
    = 1-Tri-linear Lagrange interpolation
    = 2-ECMWF monotone quasi-cubic interpolation
length=4
ns=namelist/um/section10/advection
range=0:2
sort-key=a1
type=integer

[namelist:run_sl=ritchie_high_order_scheme]
compulsory=true
description=Ritchie departure point scheme,high order
help=Ritchie departure point scheme,high order
ns=namelist/um/section10/advection
range=0:7
sort-key=b1
type=integer

[namelist:run_sl=ritchie_monotone_scheme]
compulsory=true
description=Ritchie departure point scheme,monotone
help=Ritchie departure point scheme,monotone
ns=namelist/um/section10/advection
range=0:2
sort-key=a9
type=integer

[namelist:run_sl=thmono_height]
compulsory=true
description=Height (m) up to which a monotone limiter is applied to advection of theta
help=To avoid valley-cooling problems apply a monotone limiter to the
    = non-interpolating advection of theta. To do this set
    = Height (in metres) up to which a monotone limiter is applied to
    = advection of theta to an appropriate REAL value > 0.0. It is recommended
    = that this is set as low as possible to stop the valley cooling since if
    = applied above the tropopause the model tends to be less stable.
ns=namelist/um/section10/advection
range=0:
sort-key=a4
type=real

[namelist:run_stochastic]
compulsory=true
description=run_stochastic
ns=namelist/um/section35
title=Section 35 - Stochastic Schemes

[namelist:run_stochastic=a_ent_1_rp]
compulsory=true
description=Entrainment parameter A1 for RP
help=Parameter controlling entrainment parameter A1 in Microphysics scheme.
    =Default value of a_ent_1_rp is set here - recommended value is 0.23
type=real

[namelist:run_stochastic=a_ent_1_rp_max]
compulsory=true
description=Entrainment parameter A1 for RP max value
fail-if=this < namelist:run_stochastic=a_ent_1_rp or this > 1.0
help=Maximum Random Perturbation value for entrainment parameter A1
    =in microphysics scheme. Suggested/usual value is 0.40
type=real

[namelist:run_stochastic=a_ent_1_rp_min]
compulsory=true
description=Entrainment parameter A1 for RP min value
fail-if=this > namelist:run_stochastic=a_ent_1_rp or this < 0.01
help=Minimum Random Perturbation value for entrainment parameter A1
    =in microphysics scheme. Suggested/usual value is 0.10
type=real

[namelist:run_stochastic=alphac]
compulsory=true
description=Updraught proportion of gridbox
help=Updraught proportion of gridbox (0.2% typical)
    =Name alphac also used in Radiation for a different parameter
range=0.001:0.01
type=real

[namelist:run_stochastic=br]
compulsory=true
description=Energy backscatter ratio
help=Backscatter ratio (as fraction of diss. energy)
range=0.01:1.0
type=real

[namelist:run_stochastic=cape_timescale_max]
compulsory=true
description=CAPE closure timescale (s) max
help=Maximum Random Perturbation value for CAPE closure timescale (sec)
    =in convection scheme. Default cape_timescale=1800.0,
    =set by Rose.
    =Suggested/usual value is 3600.0
range=1800.0:7200.0
type=real

[namelist:run_stochastic=cape_timescale_min]
compulsory=true
description=CAPE closure timescale (s) min
help=Minimum Random Perturbation value for CAPE closure timescale (sec)
    =in convection scheme. Default cape_timescale=1800.0,
    =set by Rose.
    =Suggested/usual value is 1800.0
range=600.0:1800.0
type=real

[namelist:run_stochastic=cdispfac]
compulsory=true
description=Multiplication factor for convection dissipation
help=Multiplication factor for convection dissipation field (empirical value)
range=0.2:5.0
type=real

[namelist:run_stochastic=charnock_max]
compulsory=true
description=Maximum Charnock parameter
help=Maximum Random Perturbation value for Charnock parameter
    =in Boundary Layer scheme. Suggested/usual value is 0.026
range=0.018:0.030
type=real

[namelist:run_stochastic=charnock_min]
compulsory=true
description=Minimum Charnock parameter
help=Minimum Random Perturbation value for Charnock parameter
    =in Boundary Layer scheme. Suggested/usual value is 0.010
range=0.010:0.018
type=real

[namelist:run_stochastic=entcoef_max]
compulsory=true
description=Entrainment rate coefficient max
help=Maximum Random Perturbation value for entrainment rate coefficient
    =in convection scheme. Default entcoef=3.0,
    =set in model,not by Rose.
    =Suggested/usual value is 4.00
range=3.0:6.0
type=real

[namelist:run_stochastic=entcoef_min]
compulsory=true
description=Entrainment rate coefficient min
help=Minimum Random Perturbation value for entrainment rate coefficient
    =in convection scheme. Default entcoef=3.0,
    =set in model,not by Rose.
    =Suggested/usual value is 2.75
range=1.0:3.0
type=real

[namelist:run_stochastic=g0_rp]
compulsory=true
description=Flux profile parameter
help=Flux profile parameter in Boundary Layer schemes.
    =Default value of g0_rp is set here - recommended value is 10.0
type=real

[namelist:run_stochastic=g0_rp_max]
compulsory=true
description=Maximum flux profile parameter
help=Maximum Random Perturbation value for flux profile parameter
    =in Boundary Layer scheme. Suggested/usual value is 20.0
range=10.0:50.0
type=real

[namelist:run_stochastic=g0_rp_min]
compulsory=true
description=Minimum flux profile parameter
help=Minimum Random Perturbation value for flux profile parameter
    =in Boundary Layer scheme. Suggested/usual value is 5.0
range=2.0:10.0
type=real

[namelist:run_stochastic=g1_rp]
compulsory=true
description=Cloud-top diffusion control parameter for RP
help=Cloud-top diffusion control parameter in Boundary Layer schemes.
    =Default value of g1_rp is set here - recommended value is 0.85
type=real

[namelist:run_stochastic=g1_rp_max]
compulsory=true
description=Maximum Cloud-top diffusion control
fail-if=this < namelist:run_stochastic=g1_rp or this > 5.0
help=Maximum Random Perturbation value for Cloud-top diffusion control
    =in Boundary Layer scheme. Suggested/usual value is 1.50
type=real

[namelist:run_stochastic=g1_rp_min]
compulsory=true
description=Minimum Cloud-top diffusion control
fail-if=this > namelist:run_stochastic=g1_rp or this < 0.1
help=Minimum Random Perturbation value for Cloud-top diffusion control
    =in Boundary Layer scheme. Suggested/usual value is 0.50
type=real

[namelist:run_stochastic=gwd_frc_max]
compulsory=true
description=Maximum Critical Froude no.
help=Maximum Random Perturbation value for Critical Froude no.
    =in Gravity Wave Drag scheme. Default value gwd_frc=4.0 set by Rose.
    =Suggested/usual value is 6.0
range=4.0:8.0
type=real

[namelist:run_stochastic=gwd_frc_min]
compulsory=true
description=Minimum Critical Froude no.
help=Minimum Random Perturbation value for Critical Froude no.
    =in Gravity Wave Drag scheme. Default value gwd_frc=4.0 set by Rose.
    =Suggested/usual value is 2.0
range=1.0:4.0
type=real

[namelist:run_stochastic=kay_gwave_max]
compulsory=true
description=Maximum Gravity wave constant
help=Maximum Random Perturbation value for Gravity wave constant
    =in Gravity Wave Drag scheme. Default kay_gwave=3300(R) or 5000(G)
    =Suggested/usual value is 4400.0(R) or 6600.0(G)
    =N.B. gui Help values not used in actual MOGREP-G runs.
range=3000.0:8000.0
type=real

[namelist:run_stochastic=kay_gwave_min]
compulsory=true
description=Minimum Gravity wave constant
help=Minimum Random Perturbation value for Gravity wave constant
    =in Gravity Wave Drag scheme. Default kay_gwave=3300(R) or 5000(G)
    =Suggested/usual value is 2200.0(R) or 3000.0(G)
    =N.B. gui Help values not used in actual MOGREP-G runs.
range=1000.0:5000.0
type=real

[namelist:run_stochastic=kdispfac]
compulsory=true
description=Multiplication factor for SKEB1 (KE) dissipation
help=Multiplication factor for SKEB1 (KE) dissipation field (empirical value)
range=0.2:5.0
type=real

[namelist:run_stochastic=l_rp2]
compulsory=true
description=Switch controls use of RP2 (random parameters) scheme
help=Main switch to control use of RP2 (random parameters) scheme
trigger=namelist:run_stochastic=rhcrit_ref_level: .true. ;
       = namelist:run_stochastic=ran_max: .true. ;
       = namelist:run_stochastic=kay_gwave_max: .true. ;
       = namelist:run_stochastic=kay_gwave_min: .true. ;
       = namelist:run_stochastic=gwd_frc_max: .true. ;
       = namelist:run_stochastic=gwd_frc_min: .true. ;
       = namelist:run_stochastic=g1_rp_max: .true. ;
       = namelist:run_stochastic=g1_rp_min: .true. ;
       = namelist:run_stochastic=g1_rp: .true. ;
       = namelist:run_stochastic=a_ent_1_rp_max: .true. ;
       = namelist:run_stochastic=a_ent_1_rp_min: .true. ;
       = namelist:run_stochastic=a_ent_1_rp: .true. ;
       = namelist:run_stochastic=ricrit_rp_max: .true. ;
       = namelist:run_stochastic=ricrit_rp_min: .true. ;
       = namelist:run_stochastic=ricrit_rp: .true. ;
       = namelist:run_stochastic=lambda_min_rp_max: .true. ;
       = namelist:run_stochastic=lambda_min_rp_min: .true. ;
       = namelist:run_stochastic=lambda_min_rp: .true. ;
       = namelist:run_stochastic=charnock_max: .true. ;
       = namelist:run_stochastic=charnock_min: .true. ;
       = namelist:run_stochastic=g0_rp_max: .true. ;
       = namelist:run_stochastic=g0_rp_min: .true. ;
       = namelist:run_stochastic=g0_rp: .true. ;
       = namelist:run_stochastic=par_mezcla_max: .true. ;
       = namelist:run_stochastic=par_mezcla_min: .true. ;
       = namelist:run_stochastic=par_mezcla: .true. ;
       = namelist:run_stochastic=rhcrit_max: .true. ;
       = namelist:run_stochastic=rhcrit_min: .true. ;
       = namelist:run_stochastic=m_ci_max: .true. ;
       = namelist:run_stochastic=m_ci_min: .true. ;
       = namelist:run_stochastic=m_ci: .true. ;
       = namelist:run_stochastic=cape_timescale_max: .true. ;
       = namelist:run_stochastic=cape_timescale_min: .true. ;
       = namelist:run_stochastic=entcoef_max: .true. ;
       = namelist:run_stochastic=entcoef_min: .true. ;
type=logical

[namelist:run_stochastic=l_skeb2]
compulsory=true
description=Switch controls use of SKEB2 scheme
help=Main switch to control use of SKEB2 scheme
trigger=namelist:run_stochastic=l_skeb2_psicdisp: .true. ;
       = namelist:run_stochastic=l_skeb2_psisdisp:  .true. ;
       = namelist:run_stochastic=l_skeb2_skeb1disp:  .true. ;
       = namelist:run_stochastic=l_skeb2_velpot:  .true. ;
       = namelist:run_stochastic=l_skebsmooth_adv:  .true. ;
       = namelist:run_stochastic=l_skebprint:  .true. ;
       = namelist:run_stochastic=l_skeb2_biharm:  .true. ;
       = namelist:run_stochastic=l_skeb2_conv_disp_mod:  .true. ;
       = namelist:run_stochastic=skeb2_cdisp:  .true. ;
       = namelist:run_stochastic=skeb2_toplev:  .true. ;
       = namelist:run_stochastic=skeb2_botlev:  .true. ;
       = namelist:run_stochastic=nsmooth:  .true. ;
       = namelist:run_stochastic=tau:  .true. ;
       = namelist:run_stochastic=tot_backscat:  .true. ;
       = namelist:run_stochastic=br:  .true. ;
       = namelist:run_stochastic=sdispfac:  .true. ;
       = namelist:run_stochastic=cdispfac:  .true. ;
       = namelist:run_stochastic=kdispfac:  .true. ;
type=logical

[namelist:run_stochastic=l_skeb2_biharm]
compulsory=true
description=Biharmonic numerical dissipation
help=Activate Biharmonic numerical dissipation,
    =this option will switch off Smagorinsky (default one)
type=logical

[namelist:run_stochastic=l_skeb2_conv_disp_mod]
compulsory=true
description=Convective dissipation rate factor for scalability across horizontal resolutions
help=A factor sqrt(216/res) modulates the convective dissipation rate,
    =set to one if false
type=logical

[namelist:run_stochastic=l_skeb2_psicdisp]
compulsory=true
description=Streamfunction modulation by convection
help=If TRUE include streamfunction modulation by convection
type=logical

[namelist:run_stochastic=l_skeb2_psisdisp]
compulsory=true
description=Streamfunction modulation by Smagorinksy
help=If TRUE include streamfunction modulation by Smagorinksy
type=logical

[namelist:run_stochastic=l_skeb2_skeb1disp]
compulsory=true
description=Streamfunction modulation by SKEB1-type scheme
help=If TRUE include streamfunction modulation by SKEB1-type scheme
type=logical

[namelist:run_stochastic=l_skeb2_velpot]
compulsory=true
description=Divergent-wind increment from VelPot forcing
help=Calculate divergent-wind increment from Velocity Potential forcing
type=logical

[namelist:run_stochastic=l_skebprint]
compulsory=true
description=Print global KE backscattered at each timestep
help=If TRUE print global KE backscattered at each timestep
type=logical

[namelist:run_stochastic=l_skebsmooth_adv]
compulsory=true
description=Advanced smoothing of energy dissipation fields
help=Perform advanced smoothing of energy dissipation fields
type=logical

[namelist:run_stochastic=lambda_min_rp]
compulsory=true
description=Minimum mixing length for RP
help=Parameter controlling min mixing length for RP in Microphysics scheme.
    =Default value of lambda_min_rp is set here - recommended value is 40.0
type=real

[namelist:run_stochastic=lambda_min_rp_max]
compulsory=true
description=Maximum  mixing length for RP max value
help=Maximum Random Perturbation value for min mixing length for RP
    =in microphysics scheme. Suggested/usual value is 100.0
range=40.0:200.0
type=real

[namelist:run_stochastic=lambda_min_rp_min]
compulsory=true
description=Minimum mixing length for RP min value
help=Minimum Random Perturbation value for min mixing length for RP
    =in microphysics scheme. Suggested/usual value is 20.0
range=10.0:40.0
type=real

[namelist:run_stochastic=m_ci]
compulsory=true
description=Ice fall speed multiplication factor
help=Parameter controlling ice fall speed in 3C/3D Microphysics schemes.
    =The default value of m_ci is set here - the recommended value is 1.0
type=real

[namelist:run_stochastic=m_ci_max]
compulsory=true
description=Maximum Ice fall speed multiplication factor
help=Maximum Random Perturbation value controlling ice fall speed
    =in microphysics scheme. Suggested/usual value is 1.4
range=1.0:1.6
type=real

[namelist:run_stochastic=m_ci_min]
compulsory=true
description=Minimum Ice fall speed multiplication factor
help=Minimum Random Perturbation value controlling ice fall speed
    =in microphysics scheme. Suggested/usual value is 0.6
range=0.4:1.0
type=real

[namelist:run_stochastic=n1]
compulsory=true
description=Minimum wavenumber for backscatter
help=Minimum wavenumber for backscatter - n1 not a good name
range=1:30
type=integer

[namelist:run_stochastic=n2]
compulsory=true
description=Maximum wavenumber for backscatter
help=Maximum wavenumber for backscatter - n2 not a good name
range=24:240
type=integer

[namelist:run_stochastic=nsmooth]
compulsory=true
description=Iteration count for spatial smoothing
help=Iteration count for spatial smoothing
range=1:10
type=integer

[namelist:run_stochastic=par_mezcla]
compulsory=true
description=Neutral mixing length
help=Parameter for neutral mixing length in Boundary Layer schemes.
    =Default value of par_mezcla is set here - recommended value is 0.15
type=real

[namelist:run_stochastic=par_mezcla_max]
compulsory=true
description=Maximum neutral mixing length
help=Maximum Random Perturbation value for neutral mixing length
    =in Boundary Layer scheme. Suggested/usual value is 0.5
range=0.15:1.0
type=real

[namelist:run_stochastic=par_mezcla_min]
compulsory=true
description=Minimum neutral mixing length
help=Minimum Random Perturbation value for neutral mixing length
    =in Boundary Layer scheme. Suggested/usual value is 0.05
range=0.01:0.15
type=real

[namelist:run_stochastic=ran_max]
compulsory=true
description=Number of independent RP2 variations
help=Number of independent RP2 variations
range=1:20
type=integer

[namelist:run_stochastic=rhcrit_max]
compulsory=true
description=Maximum Critical Relative Humidity at model level 3
help=Maximum Random Perturbation value of level 3 Critical RH
    =in microphysics scheme. Suggested/usual value is 0.906
    =To determine appropriate min/max values for RHCRIT,
    =check default
    =values for levels 2,
    =3 and 4. Typical default is 0.890
    =Max value of RHCRIT at level 3 should be less than default on level 2.
    =Min value of RHCRIT at level 3 should be greater than value on level 4.
    =If level 4 has same value as level 3,
    =then min value of RHCRIT at level 3
    =should be greater than next value of RHCRIT smaller than value on level 3.
range=0.7:1.0
type=real

[namelist:run_stochastic=rhcrit_min]
compulsory=true
description=Minimum Critical Relative Humidity at model level 3
help=Minimum Random Perturbation value of level 3 Critical RH
    =in microphysics scheme. Suggested/usual value is 0.874
    =To determine appropriate min/max values for RHCRIT,
    =check default
    =values for levels 2,
    =3 and 4.Typical default is 0.890
    =Max value of RHCRIT at level 3 should be less than default on level 2.
    =Min value of RHCRIT at level 3 should be greater than value on level 4.
    =If level 4 has same value as level 3,
    =then min value of RHCRIT at level 3
    =should be greater than next value of RHCRIT smaller than value on level 3.
range=0.7:1.0
type=real

[namelist:run_stochastic=rhcrit_ref_level]
compulsory=true
description=RHCrit reference level for RP2 scheme
help=RHCrit reference level for RP2 scheme
range=2:20
type=integer

[namelist:run_stochastic=ricrit_rp]
compulsory=true
description=Critical Richardson no. for RP
help=Parameter controlling critical Richardson no. in Microphysics scheme.
    =Default value of ricrit_rp is set here - recommended value is 1.0
type=real

[namelist:run_stochastic=ricrit_rp_max]
compulsory=true
description=Critical Richardson no. for RP max value
fail-if=this < namelist:run_stochastic=ricrit_rp or this > 1.0
help=Maximum Random Perturbation value for critical Richardson no.
    =in microphysics scheme. Suggested/usual value is 1.0
type=real

[namelist:run_stochastic=ricrit_rp_min]
compulsory=true
description=Critical Richardson no. for RP min value
help=Minimum Random Perturbation value for critical Richardson no.
    =in microphysics scheme. Suggested/usual value is 0.25
range=0.01:1.0
type=real

[namelist:run_stochastic=sdispfac]
compulsory=true
description=Multiplication factor for numerical dissipation
help=Multiplication factor for numerical dissipation field (empirical value)
range=0.2:5.0
type=real

[namelist:run_stochastic=skeb2_botlev]
compulsory=true
description=Bottom level of SKEB2 calculations
help=Bottom level of SKEB2 calculations - model level a little above surface
range=2:60
type=integer

[namelist:run_stochastic=skeb2_cdisp]
compulsory=true
#trigger = namelist:run_stochastic=u_skeb2_psicdisp: .true.
description=Type of streamfunction modulation by convection
help=Choose type of streamfunction modulation by convection
    =4 for Dissipation from convection using CAPE
    =5 for Dissipation from convection using Mass-Flux
range=4:5
trigger=namelist:run_stochastic=l_skeb2_conv_disp_mod: 4;
type=integer

[namelist:run_stochastic=skeb2_toplev]
compulsory=true
description=Top level of SKEB2 calculations
help=Top level of SKEB2 calculations - model level at or just above tropopause
range=30:200
type=integer

[namelist:run_stochastic=stphseed]
compulsory=true
description=UM sets l_stphseed_read and l_stphseed_write depending
           =on the following integer selection:
           =
           =0 => No file.
           =1 => Read seed from file.
           =2 => Write seed from file.
help=Random Seed File
    =
    =UM sets l_stphseed_read and l_stphseed_write depending on the following
    =integer selection.
    =
    =*Option 0: Do not use seed FILE*
    =
    =If neither logical is set to true,
    =a new seed will be calculated by the model
    =and no file will be written (default behaviour). However,
    =the seed will still
    =be printed in the standard output. This seed is based on the current model run
    =date (to the nearest minute) and can use an environment variable ENS_MEMBER to
    =differentiate runs at the same start time (e.g. in MOGREPS). This variable
    =can be inserted in a UM standalone job in the panel "SCRIPT INSERTS AND
    =MODIFICATIONS",
    =or through the ENVIRONMENT in an SCS job.
    =
    =*Option 1: READ seed from FILE*
    =
    =If the user wishes to re-run the model using a previously generated random
    =seed,
    =set L_STPHSEED_READ = .true. and specify the name and location of the
    =random seed file to be read in the entry box. If no file name is supplied
    =then the model will look for the file at $DATAW/$RUNID.seed
    =
    =If the seed file is active,
    =i.e. either L_STPHSEED_WRITE or L_STPHSEED_READ
    =is true,
    =the model will then store the seed and SKEB2 pattern coefficients
    =whenever model dumps are written to a second seed file. This file is
    =unformatted to preserve full bit accuracy and is has a "_coeff" suffix
    =appended to the seedfile name. At each dump step,
    =this file is overwritten.
    =
    =*Option 2: WRITE seed to FILE*
    =
    =The nature of stochastic schemes is that they are initialised using random
    =numbers to ensure that forecasts differ from run to run. This is an attempt
    =to simulate the unknown inherent uncertainty in model forecasts. However,
    =in order to allow a specific forecast case to be reproduced,
    =a facility has
    =been included to write out the random seed to a file at the start of the run.
    =Setting L_STPHSEED_WRITE = .true.  will cause the model to write the random
    =seed to the file specified in the entry box. If no file is specified then
    =the seed will be written to $DATAW/$RUNID.seed. If the write seed option is
    =chosen,
    =a random seed is generated using the actual date on the computer.
    =In this case every new run will produce a different forecast.
    =
    =*Note for CRUNs:
    =In the case of CRUNs the user should start the job (i.e. NRUN part) by
    =providing a seed file and set L_STPHSEED_READ to true. The following CRUNs
    =can then proceed without any further changes to UI settings. This allows the
    =stochastic process to continue uninterrupted when the model restarts.
    =A seed file on the IBM Power6 has an integer up to 19-digits long,
    =e.g.:
    =4822152206489911072
values=0,1,2

[namelist:run_stochastic=tau]
compulsory=true
description=Decorrelation time
help=Tau is a decorrelation time (20000 sec = ~5.5 hrs is typical)
range=1.0e4:8.0e4
type=real

[namelist:run_stochastic=tot_backscat]
compulsory=true
description=Global-mean rate of energy backscatter
help=Global-mean rate of energy backscatter in m**2 s**(-3) (1.e-4 typical)
range=1.0e-5:1.0e-3
type=real

[namelist:run_ukca]
compulsory=true
description=run_ukca
ns=namelist/um/section34
title=Section 34 - UKCA: UK Aerosols and chemistry

[namelist:run_ukca=dir_strat_aer]
description=Directory containing climatological aerosol file
sort-key=b09
type=character

[namelist:run_ukca=dts0]
description=Backward Euler Timestep (s)
range=1:3600
sort-key=a5
type=integer

[namelist:run_ukca=fastjx_mode]
compulsory=true
description=Method above cut-off level
help=Above the cut off level there are 3 options:
    = 1: 'only lookup table'
    = 2: 'combination of Fast-JX and lookup tables'
    = 3: Fast-JX can be applied.
    = The recommended option is  to 'Use Lookup Tables' above a pressure cut-off
    = of 20 hPa.
sort-key=c9
values=1,2,3

[namelist:run_ukca=fastjx_numwl]
compulsory=true
description=Number of wavelengths to be used
help=It is possible to choose 8,
    =12 or 18 wavelength bins for
    = Fast-JX.
    = The 18 wavelength version is the full Fast-JX version.
    = Choosing 12 is only suitable for troposphere only models
    = and drops cross sections for stratospheric species.
    = The 8 bin version is a fast troposphere only version.
    = The choice between the 8 and 12 bin versions is a trade off
    = between accuracy and speed.
sort-key=c7
values=8,12,18

[namelist:run_ukca=fastjx_prescutoff]
compulsory=true
description=Cut-off Pressure for tabulated photolysis
help=The "Cut-off Pressure for tabulated photolysis"
    = can be used to specify the pressure level (in hPa) above which
    = a simplified look-up table approach can be used to compensate
    = for the lower wavelength limit of this scheme. The recommended
    = option is to 'Use Lookup Tables' above a pressure cut-off of 20 hPa.
range=0:9999.999
sort-key=c8
type=real

[namelist:run_ukca=file_strat_aer]
compulsory=true
description=File containing climatological aerosol data
sort-key=b10
type=character

[namelist:run_ukca=i_mode_bln_param_method]
compulsory=true
description=Parameterisation method for BL Nucleation
help=This option specifies the parametrization method for Boundary
    = layer nucleation. Options available are:
    = 1) 'Activation',
    =2) 'Kinetic'
    = 3) 'Organic mediated (as per Metzger et al, PNAS, 2010)'.
range=1:3
sort-key=g14
type=integer

[namelist:run_ukca=i_mode_nzts]
compulsory=true
description=Number of substeps for Nucleation/Sedimentation
help=Allows the user to specify fewer or more sub-steps (within a
    = chemistry time step) within which to allow the 3 processes of
    = 1) chemical production,
    =2) condensation,
    =3) nucleation to
    = compete for sulphuric acid vapour. Note that currently in the UM
    = the chemical production of H2SO4 is applied within the UKCA
    = chemistry,
    =so this sub-stepping resolves only the competition
    = between condensation and new particle formation (2 and 3).
    = Recommended setting to use is 15.
range=1:50
sort-key=g11
type=integer

[namelist:run_ukca=i_mode_setup]
compulsory=true
description=Set Aerosol Species and Modes
help=The MODE aerosol scheme is currently available
    = in the UM in 2 configurations described below:
    = 1) sulphate and sea-salt components in 4 soluble modes.
    = 2) sulphate sea-salt black carbon (BC) & organic carbon (OC)
    = components in 4 soluble modes and 1 insoluble mode.
    = In 2) secondary organic carbon produced from the oxidation of
    = biogenic monoterpenes is stored together with the primary
    = organic carbon in a single OC component (OC). Similarly primary
    = BC/OC aerosol are emitted into an insoluble Aitken mode and age
    = to the soluble modes at a rate determined by the condensation of
    = sulphuric acid vapour and gas phase condensible organic species
    = ("microphysical ageing").
sort-key=g02
# Don't have primary emissions of BC/OC for scheme 1
trigger=namelist:run_ukca=l_ukca_primbcoc: 2 ;
values=1,2

[namelist:run_ukca=i_ukca_chem]
compulsory=true
description=UKCA Chemistry scheme
help=The UKCA chemistry schemes are principally based around two
    = solvers : Backward-Euler and Newton-Raphson. The Backward-Euler
    = solver is explicit iterative and supports two chemistry schemes
    = (see below) while the Newton-Raphson solver is used through the
    = ASAD (Carver Brown and Wild 1997) framework and supports three
    = chemistry schemes. UKCA can also be used in a "No chemistry"
    = configuration which carries out only the emission processing
    = and tracer transport e.g. to determine the age of air. Note that
    = this option has not been extensively tested.
    = Chemistry scheme options:
    = 0  - no chemistry;
    = 1  - only age of air;
    = 11 - Standard Tropospheric(BE);
    = 13 - RAQ(BE);
    = 50 - Tropospheric+Isoprene;
    = 51 - Stratospheric+Tropospheric Chemistry
    = 52 - Standard Stratospheric;
sort-key=a3
# Certain options only available for certain solvers
trigger=namelist:run_ukca=l_ukca_chem_aero: 11,50,51,
       =52 ;
       =namelist:run_ukca=dts0: 11,
       =13 ;
       =namelist:run_ukca=nit: 11,
       =13 ;
       =namelist:run_ukca=l_ukca_het_psc: 51,
       =52 ;
       =namelist:run_ukca=l_ukca_mode: 11,50,51,
       =52 ;
       =namelist:run_ukca=l_ukca_trophet: 50,
       =51 ;
       =namelist:run_ukca=i_ukca_photol: 11,13,50,51,
       =52 ;
       =namelist:run_ukca=l_ukca_qch4inter: 11,13,50,51,
       =52 ;
       =namelist:run_ukca=l_ukca_h2o_feedback: 51,
       =52 ;
       =namelist:run_ukca=l_ukca_use_2dtop: 11,13,
       =50 ;
       =namelist:run_ukca=l_ukca_rado3: 11,13,50,51,
       =52 ;
       =namelist:run_ukca=l_ukca_radch4: 11,13,50,51,
       =52 ;
       =namelist:run_ukca=l_ukca_radn2o: 51,
       =52 ;
       =namelist:run_ukca=l_ukca_radf11: 51,
       =52 ;
       =namelist:run_ukca=l_ukca_radf12: 51,
       =52 ;
       =namelist:run_ukca=l_ukca_radf113: 51,
       =52 ;
       =namelist:run_ukca=l_ukca_radf22: 51,
       =52 ;
       =namelist:run_ukca=l_ukca_intdd: 11,13,50,51,
       =52 ;
       =namelist:run_ukca=l_ukca_prescribech4: 11,13,50,51,
       =52 ;
       =namelist:run_ukca=l_ukca_set_trace_gases: 51,
       =52 ;
       =namelist:run_ukca=i_ukca_scenario: 51,52 ;
values=0,1,11,13,50,51,52

# Photolysis section
[namelist:run_ukca=i_ukca_photol]
compulsory=true
description=Photolysis scheme
help=There are three currently photolysis schemes available for UKCA.
    = 0= No photolysis;
    = 1 = 2-D Photolysis: The 2D photolysis scheme uses tropospheric
    = photolysis rates from a dataset developed using the Cambridge
    = 2-D model (Law and Pyle 1993).  For the stratospheric schemes
    = photolysis rates are calculated from UV fluxes and the
    = appropriate cross sections.
    = 2= Fast-J Photolysis Scheme: The Fast-J scheme (Wild et al 2000)
    = calculates photolysis rates in the presence of an arbitrary mix
    = of cloud and aerosol layers.  The scheme uses aerosols from CLASSIC
    = and hence it will work only when the CLASSIC aerosol scheme is
    = switched ON.
    = 3 = Fast-JX Photolysis Scheme: The Fast-JX scheme (Neu et al
    = 2007) is based on the Fast-J scheme and uses up to 11-bins making
    = it suitable to be used in stratospheric configurations. To
    = consider the impact of aerosols on the photolysis rates FAST-JX
    = currently makes use of SO4 aerosols from CLASSIC to calculate the
    = surface area so it is essential that the CLASSIC sulphate aerosol
    = scheme is switched ON when FAST-JX is used.
sort-key=c1
trigger=namelist:run_ukca=phot2d_dir: 1 ;
       =namelist:run_ukca=jvspec_dir: 2,
       =3 ;
       =namelist:run_ukca=jvspec_file: 2,
       =3 ;
       =namelist:run_ukca=jvscat_file: 3 ;
       =namelist:run_ukca=fastjx_numwl: 3 ;
       =namelist:run_ukca=fastjx_prescutoff: 3 ;
       =namelist:run_ukca=fastjx_mode: 3 ;
values=0,1,2,3

[namelist:run_ukca=i_ukca_scenario]
compulsory=true
description=Choose where to take CO2,N2O,CH4,and CFC concentrations
help=This option is available only for stratospheric configurations.
    = On selecting option 0,
    =the lower boundary mass mixing ratios
    = of CO2,N2O,CH4,
    =CFC-11,CFC-12,CFC113,CFC114,HFCF22,
    =HFC125
    = and HFC134A are set to the values specified for these species
    = in the LW Radiation Gas section. The values for the CFCs
    = (MeBr,
    =MeCl,
    =..) not set in LW radiation but required by UKCA are
    = activated by this switch.
    = On selecting option 1 the values for these gases are taken from
    = the WMO A1(b) scenario. This is only valid for model years
    = 1950-2100.
    = On selection option 2 the values from these gases are read-in
    = from a user-defined file which must be of the RCPDAT format and
    = can be downloaded from the CMIP5 website.
sort-key=d02
trigger=namelist:run_ukca=ukca_mebrmmr: 0 ;
       =namelist:run_ukca=ukca_meclmmr: 0 ;
       =namelist:run_ukca=ukca_ch2br2mmr: 0 ;
       =namelist:run_ukca=ukca_cfc115mmr: 0 ;
       =namelist:run_ukca=ukca_ccl4mmr: 0 ;
       =namelist:run_ukca=ukca_meccl3mmr: 0 ;
       =namelist:run_ukca=ukca_hcfc141bmmr: 0 ;
       =namelist:run_ukca=ukca_hcfc142bmmr: 0 ;
       =namelist:run_ukca=ukca_h1211mmr: 0 ;
       =namelist:run_ukca=ukca_h1202mmr: 0 ;
       =namelist:run_ukca=ukca_h1301mmr: 0 ;
       =namelist:run_ukca=ukca_h2402mmr: 0 ;
       =namelist:run_ukca=ukca_cosmmr: 0 ;
       =namelist:run_ukca=ukca_rcpdir : 2 ;
       =namelist:run_ukca=ukca_rcpfile : 2 ;
value-titles=UM settings,WMO A1(b),RCP file
values=0,1,2

[namelist:run_ukca=jvscat_file]
compulsory=true
description=filename for FAST-JX scatterer file
help=Fast-J scatterer  file (usually jv_spec.dat) containing the
    = required scatterer data
sort-key=c6
type=character

[namelist:run_ukca=jvspec_dir]
description=Directory pathname for FastJ(X) input files
help=location of files containing the cross-section and scatterrer
    = data. A standard copy of the files is maintained in the UM
    = repository and extracted to the folder:
    = '$UMDIR/$VN/ctldata/UKCA/tropdata/fastj' on the computing
    = system.
sort-key=c3
type=character

[namelist:run_ukca=jvspec_file]
compulsory=true
description=filename for Fast-J spectral file
help=Fast-J spectral file (usually jv_spec.dat) containing the
    = required cross-sections.
sort-key=c5
type=character

[namelist:run_ukca=l_bcoc_bf]
compulsory=true
description=Biofuel BC/OC
sort-key=g08
type=logical

[namelist:run_ukca=l_bcoc_bm]
compulsory=true
description=Biomass burning BC/OC
sort-key=g09
type=logical

[namelist:run_ukca=l_bcoc_ff]
compulsory=true
description=Fossil fuel BC/OC
sort-key=g07
type=logical

[namelist:run_ukca=l_mode_bhn_on]
compulsory=true
description=Include binary homogenous sulphate nucleation
help=This allows the user to switch on/off new particle formation by
    = binary H2SO4-H2O nucleation (produces particles in the nucleation
    = mode). Recommended setting to use is ON.
sort-key=g12
type=logical

[namelist:run_ukca=l_mode_bln_on]
description=Include Boundary Layer sulphate nucleation
help=This allows the user to switch on/off new particle formation by
    = boundary layer (BL) nucleation (produces particles in the
    = nucleation mode).
sort-key=g13
trigger=namelist:run_ukca=i_mode_bln_param_method: .true. ;
type=logical

[namelist:run_ukca=l_ukca]
compulsory=true
description=Turn on UKCA
help=Main switch for the UKCA Aerosols and Chemistry Sub-model.
sort-key=a2
# This turns off UKCA items when UKCA is not on
trigger=namelist:run_ukca=i_ukca_chem: .true.;
       =namelist:run_ukca=l_ukca_new_emiss: .true.;
type=logical

[namelist:run_ukca=l_ukca_aie1]
compulsory=true
description=1st Indirect Effect of MODE aerosols (on radiation)
help=Couple the cloud droplet number concentration from MODE to the
    = calculation of cloud radiative properties.
sort-key=e11
type=logical

[namelist:run_ukca=l_ukca_aie2]
compulsory=true
description=2nd Indirect Effect of MODE aerosols (on precip.)
help=Couple the cloud droplet  number concentration from MODE to the
    = calculation of autoconversion rate in large-scale precipitation.
sort-key=e12
type=logical

[namelist:run_ukca=l_ukca_arg_act]
compulsory=true
description=Calculate Cloud Droplet Number
           = using Abdul-Razzak and Ghan Activation Method
help=This is a Mechanistic activation scheme based on the Abdul-Razzak
    = and Ghan method that calculates the cloud droplet number based
    = on the "fraction activated" in each mode. The CDNC is available
    = as a diagnostic (34162/34163) and can be fed back into the UM
    = cloud processing scheme.
sort-key=g15
trigger=namelist:run_ukca=l_ukca_sfix: .true.
type=logical

[namelist:run_ukca=l_ukca_chem_aero]
compulsory=true
description=Include Aerosol Chemistry
help=The aerosol chemistry in UKCA includes reactions for SO2 DMS and
    = monoTerpene in the troposphere and additional H2S COS reactions
    = for the stratospheric configurations. Aerosol Chemistry can be
    = switched ON with all the Newton-Raphson chemistry schemes and
    = also with the Standard Trop BE scheme. SO2 DMS and NH3 emissions
    = are accessed through the CLASSIC aerosol scheme in section 17 which
    = implies that CLASSIC sulphur cycle needs to be switched ON for
    = the scheme to work.
sort-key=a4
trigger=namelist:run_ukca=l_ukca_mode: .true.
type=logical

[namelist:run_ukca=l_ukca_h2o_feedback]
compulsory=true
description=Switch on water feedback from chemistry
help=When this option is set,
    =water produced from the chemistry is fed back
    = into the specific humidity tracer of the UM.
sort-key=b06
type=logical

[namelist:run_ukca=l_ukca_het_psc]
compulsory=true
description=Switch on Heterogeneous/PSC chemistry
help=This option sets the logical l_UKCA_HET_PSC. The chemistry defined
    = in the rath_defs_strat_psc array (UKCA_CHEM_STRAT) for Strat Chem
    = or the rath_defs_strattrop_psc array (UKCA_CHEM_STRATTROP) for
    = Strat+Trop Chem will be used if this logical is set. The scheme
    = can use either reference aerosol data from files or aerosols from
    = the CLASSIC scheme for the surface areas.
sort-key=b07
trigger=namelist:run_ukca=l_ukca_sa_clim: .true.
type=logical

[namelist:run_ukca=l_ukca_intdd]
compulsory=true
description=UKCA interactive dry deposition scheme
help=This scheme uses resistances calculated using variables from the
    = surface exchange scheme.
sort-key=e08
type=logical

# First element in this section now is master switch for aerosols
[namelist:run_ukca=l_ukca_mode]
compulsory=true
description=UKCA-GLOMAP-mode aerosol scheme
help=This is a modal aerosol scheme considering sulphate,seasalt,
    =organic and black carbon species. This requires the UKCA Aerosol
    = chemistry as well as CLASSIC aerosol scheme to be switched ON.
    = The CLASSIC aerosol scheme provides the S-cycle emissions while
    = BC fossil-fuel,
    =BC bio-fuel,
    =OC fossil-fuel and OC bio-fuel are
    = input via the user single-level ancillary file and BC and OC from
    = biomass burning are input through the multi-level ancillary file.
    = In addition to the tracers for aerosol chemistry above this scheme
    = requires aerosol tracers to be switched ON.
    = The GLOMAP-mode aerosol scheme can be coupled to the UM radiation
    = scheme and the UM cloud/precipitation schemes
sort-key=g01
# only show MODE related items when MODE is on
trigger=namelist:run_ukca=l_ukca_trophet: .true. ;
       =namelist:run_ukca=i_mode_setup: .true. ;
       =namelist:run_ukca=l_ukca_primsu: .true. ;
       =namelist:run_ukca=l_ukca_primss: .true. ;
       =namelist:run_ukca=l_mode_bhn_on: .true. ;
       =namelist:run_ukca=l_mode_bln_on: .true. ;
       =namelist:run_ukca=i_mode_nzts: .true. ;
       =namelist:run_ukca=l_ukca_arg_act: .true. ;
       =namelist:run_ukca=l_ukca_radaer: .true. ;
       =namelist:run_ukca=l_ukca_aie1: .true. ;
       =namelist:run_ukca=l_ukca_aie2: .true. ;
       =namelist:run_ukca=mode_aitsol_cvscav: .true.
type=logical

[namelist:run_ukca=l_ukca_new_emiss]
compulsory=true
description=Turn on the new emission system in UKCA (NetCDF)
help=This new system allows the use of NetCDF emission files.
    =
    = It has been tested with RAQ and SratTrop jobs,
    =and it is likely to
    = replace the use of single- and multi-level user ancillaries for UKCA
    = emissions in the future.
    =
    = When this option is active the logical L_UKCA_NEW_EMISS is set to TRUE.
    = Then the user should indicate a unique path for the NetCDF emission files
    = and the name of one or more emission files. This is done by completing
    = the entry box "Directory pathname for NetCDF emission files" and filling
    = in at least one cell in "Names of NetCDF emission files",
    =respectively.
sort-key=h1
trigger=namelist:run_ukca=ukca_em_dir: .true. ;
       = namelist:run_ukca=ukca_em_files: .true. ;
type=logical

[namelist:run_ukca=l_ukca_prescribech4]
compulsory=true
description=Use prescribed surface CH4 concentrations
help=When selected,CH4 emissions are not added to the CH4 tracer,
    =and instead the global surface concentration of CH4 in UKCA
    = is overwritten with a prescribed scalar value. The Methane
    = Absorption option must be on in LW radiation (either with a
    = constant value or with a complex method of specification).
    = The LW section also controls what this surface concentration is.
sort-key=d01
type=logical

[namelist:run_ukca=l_ukca_primbcoc]
compulsory=true
description=Primary BC/OC Emissions
help=Primary BC/OC emissions from anthropogenic and biomass burning
    = sources are included: For anthropogenic emissions,
    =two types are
    = traced with different size settings for emissions from
    = fossil-fuel combustion and from bio-fuel combustion following
    = the emissions types from the SPEW emissions database (Bond et al,
    =2004). Size settings are used to match AEROCOM recommendations
    = (Dentener et al,
    =2006)
sort-key=g06
# only show options for types of BC/OC emissions if the
# BC/OC emissions are on
trigger=namelist:run_ukca=l_bcoc_ff: .true. ;
       =namelist:run_ukca=l_bcoc_bf: .true. ;
       =namelist:run_ukca=l_bcoc_bm: .true. ;
type=logical

[namelist:run_ukca=l_ukca_primss]
compulsory=true
description=Primary Seasalt Emissions
help=Primary sea-salt emissions are driven by the model wind speed
    = at each timestep based on the Gong-Monahan sea-spray source
    = function (Gong,
    =2003)
sort-key=g05
type=logical

[namelist:run_ukca=l_ukca_primsu]
compulsory=true
description=Primary Sulphate Emissions
help=Primary sulphate emissions refers to sub-grid scale conversion of
    = SO2 to sulphate aerosol. All SO2 sources (anthropogenic,
    =volcanic,biomass burning) produce primary sulphate.
sort-key=g03
# only show fraction of SO2 emissions as particulate if emissions on
trigger=namelist:run_ukca=mode_parfrac: .true. ;
type=logical

[namelist:run_ukca=l_ukca_qch4inter]
compulsory=true
description=Interactive wetland CH4 emissions
help=Interactive CH4 emissions from wetlands are provided by the
    = Gedney et al 2004 scheme,
    =with emission diagnostics available
    = in section 8 (item 242).
sort-key=b01
type=logical

[namelist:run_ukca=l_ukca_radaer]
compulsory=true
description=Direct effect of MODE aerosols in radiation scheme
help=Direct effect of UKCA-MODE aerosols in radiation scheme,
    =including
    = aerosol optical depth.
sort-key=e09
trigger=namelist:run_ukca=l_ukca_radaer_sustrat: .true. ;
type=logical

[namelist:run_ukca=l_ukca_radaer_sustrat]
compulsory=true
description=Sulphuric acid aerosol in stratosphere
help=Direct effect of UKCA-MODE aerosols will assume sulphuric acid
    = optical properties for sulphate aerosol in the stratosphere
    = aerosol optical depth.
sort-key=e10
type=logical

[namelist:run_ukca=l_ukca_radch4]
compulsory=true
description=UKCA CH4 in radiation scheme
sort-key=e02
type=logical

[namelist:run_ukca=l_ukca_radf11]
compulsory=true
description=UKCA CFC-11 in radiation scheme
sort-key=e04
type=logical

[namelist:run_ukca=l_ukca_radf113]
compulsory=true
description=UKCA CFC-113 in radiation scheme
sort-key=e06
type=logical

[namelist:run_ukca=l_ukca_radf12]
compulsory=true
description=UKCA CFC-12 in radiation scheme
sort-key=e05
type=logical

[namelist:run_ukca=l_ukca_radf22]
compulsory=true
description=UKCA HCFC-2 in radiation scheme
sort-key=e07
type=logical

[namelist:run_ukca=l_ukca_radn2o]
compulsory=true
description=UKCA N2O in radiation scheme
sort-key=e03
type=logical

[namelist:run_ukca=l_ukca_rado3]
compulsory=true
description=UKCA O3 in radiation scheme
sort-key=e01
type=logical

[namelist:run_ukca=l_ukca_sa_clim]
compulsory=true
description=Use climatological Aerosol for Surface Area
help=This option is only active when Het/PSC chemistry is
    = selected for stratospheric configurations and allows the
    = model to read in reference or climatological aerosol fields
    = to compute the surface area. On selecting this option,
    =the
    = user has to specify the directory and filename for the file
    = containing the climatological data. The model currently expects
    = the aerosol data as used by the SPARC experiments: Latitude
    = (5deg interval) x height (500m interval) x time,
    =ASCII files
    = with values in micrometer^2/cm^3. The standard datafiles are
    = part of the UM repository and extracted to :
    = '$UMDIR/$VN/ctldata/UKCA/strat' on the computing node.
sort-key=b08
trigger=namelist:run_ukca=dir_strat_aer: .true. ;
       =namelist:run_ukca=file_strat_aer: .true. ;
       =namelist:run_ukca=l_ukca_use_background_aerosol: .true.
type=logical

[namelist:run_ukca=l_ukca_set_trace_gases]
compulsory=true
description=Specify Values for Trace Gases
help=This option allows the user to specify the lower boundary mass
    = mixing ratios of H2 and N2,
    =as well as their concentrations to use
    = in the Newton-Raphson solver. On selecting this option,
    =the user
    = can prescribe the MMR values for these species.
sort-key=d16
trigger=namelist:run_ukca=ukca_h2mmr: .true. ;
       =namelist:run_ukca=ukca_n2mmr: .true.
type=logical

[namelist:run_ukca=l_ukca_sfix]
compulsory=true
description=Calculate CCN at fixed super saturation
sort-key=g16
type=logical

[namelist:run_ukca=l_ukca_trophet]
compulsory=true
description=Tropospheric heterogeneous chemistry
help=This option is only available for tropospheric schemes based on
    = the Newton-Raphson solver. Currently two heterogeneous reactions
    = (for N2O5 and HO2) on aerosol surfaces are considered.
    = The scheme uses the MODE aerosols for determining aerosol surface
    = area and wet radius and hence is only available when UKCA-MODE is
    = selected.
sort-key=b04
type=logical

[namelist:run_ukca=l_ukca_use_2dtop]
compulsory=true
description=Use 2D top boundary data
help=To set the concentrations of O3,
    =NOy and CH4 at the top boundary
    = from 2-D input data when running the tropospheric model,
    =select
    = this option and set the path to the 2D files.
sort-key=b02
trigger=namelist:run_ukca=strat2d_dir: .true.
type=logical

[namelist:run_ukca=l_ukca_use_background_aerosol]
compulsory=true
description=Use a cyclic,
           =monthly-varying 'background'
           = aerosol field instead of timeseries
help=This option controls the L_UKCA_USE_BACKGROUND_AEROSOL logical,
    =which instructs the model to read in a cyclic,
    =or fixed
    = monthly-varying aerosol field from the climatological aerosol
    = file,
    =instead of a timeseries covering the simulation period.
    = If the timeseries (1850-2100) file is specified with this option,
    =the UKCA_READ_AEROSOL routine will only read in monthly data for
    = 2100 and use it for the whole simulation.
sort-key=b11
type=logical

[namelist:run_ukca=mode_aitsol_cvscav]
compulsory=true
description=Scavenging fraction of Aitken soluble mode aerosol in convective plume
help=Set the scavenging fraction of Aitken soluble mode aerosol for the
    = convective plume scavenging scheme.
range=0.01:1.00
sort-key=g10
type=real

[namelist:run_ukca=mode_parfrac]
compulsory=true
description=% SO2 emitted as SO4
help=Set the fraction of SO2 emissions that are emitted as primary
    = sulphate. The recommended value is 2.5% as advised for AEROCOM
    = (Dentener et al,
    =2006,ACP).
range=0.01:5.00
sort-key=g04
type=real

[namelist:run_ukca=nit]
description=Number of iterations for BE solver
range=1:250
sort-key=a6
type=integer

[namelist:run_ukca=phot2d_dir]
compulsory=true
description=Directory pathname for 2D photolysis input files
help=The directory containing the data for 2D photolysis.
    = The standard files are maintained in the UM repository and
    = extracted to the folder:
    = '$UMDIR/$VN/ctldata/UKCA/tropdata/photol' on the computing
    = system.
sort-key=c2
type=character

[namelist:run_ukca=strat2d_dir]
compulsory=true
description=Directory pathname for the 2D top boundary data
help=If using 2D top boundary data,
    =this directory is expected to
    = contain: ch4_topbound.dat,
    =o3_topbound.dat and noy_topbound.dat
    = The standard top_boundary fields are in the UM repository and
    = extracted to '$UMDIR/$VN/ctldata/UKCA/tropdata' on the computing
    = node.
sort-key=b03
type=character

[namelist:run_ukca=ukca_ccl4mmr]
compulsory=true
description=CCl4 as MMR
range=0.0:1.e-6
sort-key=d07
type=real

[namelist:run_ukca=ukca_cfc115mmr]
compulsory=true
description=CFC115 as MMR
range=0.0:1.e-6
sort-key=d06
type=real

[namelist:run_ukca=ukca_ch2br2mmr]
compulsory=true
description=CH2Br2 as MMR
range=0.0:1.e-6
sort-key=d05
type=real

[namelist:run_ukca=ukca_cosmmr]
compulsory=true
description=COS as MMR
range=0.0:1.e-6
sort-key=d15
type=real

[namelist:run_ukca=ukca_em_dir]
compulsory=true
description=Directory pathname for NetCDF emission files
help=Unique location of the NetCDF emission files
sort-key=h2
type=character

[namelist:run_ukca=ukca_em_files]
compulsory=true
description=Names of NetCDF emission files
help=Names of the NetCDF emission files.
    =
    = When this functionality is enabled the user should indicate a minimum
    = of one and a maximum of 40 emission files. Note that despite this
    = limitation on the number of files,
    =there is no limit on the number
    = of emission fields contained in each file.
    =
    = The frequency (in hours) at which emissions will be updated should be
    = set separately for each NetCDF emission file with a global attribute
    = called 'update_freq_in_hours'. This means that all emission fields
    = present in the same file will be updated with the same frequency
    = while this frequency can change from file to file.
    =
    = See section "New emission system in UKCA" of UMPDP084 for more
    = information on the metadata attributes needed in the NetCDF files.
length=40
sort-key=h3
type=character

[namelist:run_ukca=ukca_h1202mmr]
compulsory=true
description=H1202 as MMR
range=0.0:1.e-6
sort-key=d12
type=real

[namelist:run_ukca=ukca_h1211mmr]
compulsory=true
description=H1211 as MMR
range=0.0:1.e-6
sort-key=d11
type=real

[namelist:run_ukca=ukca_h1301mmr]
compulsory=true
description=H1301 as MMR
range=0.0:1.e-6
sort-key=d13
type=real

[namelist:run_ukca=ukca_h2402mmr]
compulsory=true
description=H2402 as MMR
range=0.0:1.e-6
sort-key=d14
type=real

[namelist:run_ukca=ukca_h2mmr]
compulsory=true
description=H2 as MMR
range=0.0:1.e-6
sort-key=d17
type=real

[namelist:run_ukca=ukca_hcfc141bmmr]
compulsory=true
description=HCFC141b as MMR
range=0.0:1.e-6
sort-key=d09
type=real

[namelist:run_ukca=ukca_hcfc142bmmr]
compulsory=true
description=HCFC142b as MMR
range=0.0:1.e-6
sort-key=d10
type=real

[namelist:run_ukca=ukca_mebrmmr]
compulsory=true
description=MeBr as MMR
range=0.0:1.e-6
sort-key=d03
type=real

[namelist:run_ukca=ukca_meccl3mmr]
compulsory=true
description=MeCCl3 as MMR
range=0.0:1.e-6
sort-key=d08
type=real

[namelist:run_ukca=ukca_meclmmr]
compulsory=true
description=MeCl as MMR
range=0.0:1.e-6
sort-key=d04
type=real

[namelist:run_ukca=ukca_n2mmr]
compulsory=true
description=N2 as MMR
range=0.0:1.0
sort-key=d18
type=real

[namelist:run_ukca=ukca_rcpdir]
compulsory=true
description=Directory pathname for RCP input file
help=location of RCPDAT formatted file containing the volume mixing ratio
    = data of the trace gases that are required to be specified as lower
    = boundary conditions for all Stratospheric schemes.
    = A standard copy of the files is maintained in the UM
    = repository and extracted to the folder:
    = '$UMDIR/$VN/ctldata/UKCA/scenario' on the computing
    = system.
sort-key=d19
type=character

[namelist:run_ukca=ukca_rcpfile]
compulsory=true
description=filename for RCP lower boundary condition datafile
help=File of format RCPDAT which can be downloaded from the CMIP5 website
    = (although dos2unix may need to be run on these files before first use).
    = This file should specify the volume mixing ratios of the various
    = trace gases,
    =with values defined for the middle of the years considered.
    = Daily time points between the years specified will be linearly
    = interpolated from the data provided,
    =and time-points outside the range
    = given will just use the initial/final concentration.
    = Currently this functionality cannot cope with sub-yearly data.
sort-key=d20
type=character

[namelist:streq]
duplicate=true
ns=namelist/um/STASH/streq
widget[rose-config-edit:sub-ns]=stash.StashSummaryDataPanelv1

[namelist:streq=dom_name]
compulsory=true
description=Domain Profile
type=character

[namelist:streq=isec]
compulsory=true
description=Section Number
range=0:
type=integer

[namelist:streq=item]
compulsory=true
description=Item Number
type=integer

[namelist:streq=package]
compulsory=true
description=Package
type=character

[namelist:streq=tim_name]
compulsory=true
description=Time Profile
type=character

[namelist:streq=use_name]
compulsory=true
description=Usage Profile
type=character

[namelist:stshcomp]
compulsory=true
ns=namelist/pending/shared/stshcomp

[namelist:temp_fixes]
compulsory=true
description=to assist managing science fixes across UM versions
ns=namelist/um/temp_fixes
title=Short term logicals

[namelist:temp_fixes=l_error_ancil_struct]
compulsory=true
description=Ensure reconfiguration reads the correct field in an ancil file
help=Some anciallry fields in the past have had the wrong structure. This enforces a check.
    = It is a short term logical until the code becomes the new default.
type=logical

[namelist:temp_fixes=l_exclude_fix_theta_source]
compulsory=true
description=Revert the fix to the conversion of the slow physics theta source term in EG runs
help=The conversion of the slow physics theta source term in EG was wrong.
    = Terms were missing in the conversion to a source term in virtual dry form.
    = It is a short term logical until the code becomes the new default.
type=logical

[namelist:temp_fixes=l_fix_conserv]
compulsory=true
description=ENDGame mass conservation independent of tracers at level 0
help=If true,
    =changes all routines that affect the mass conservation
    = in ENDGame to be independent of tracers at the surface level (or zero level)
    = whether they are set properly or not before or after the correction.
type=logical

[namelist:temp_fixes=l_mphys_gr_out]
compulsory=true
description=Include graupel in snow rate calculations and diagnostics
help=In model runs which include graupel,
    =the graupel was not being counted
    = in snowfall diagnostics and in total ice amounts passed to other sections
    = (radiation,
    =for example). This change corrects this missing term.
type=logical

[namelist:temp_fixes=l_p2t_weight_fix]
compulsory=true
description=p_to_t to use linear averaging
help=default UM code has p_to_t using volume averaging rather than
    = linear averaging. This logical enables users to select the
    = preferred code.
    = It is a short term logical until the code becomes the new default.
type=logical

[namelist:temp_fixes=l_riverinland_fix]
compulsory=true
description=Apply inland basin flow from TRIP river routing (when used) on all timesteps
help=At inland basin points,
    =TRIP passes water from rivers back into
    = soil moisture. This fix ensures that this happens on all atmospheric timesteps.
    = Without this,
    =this water is lost from the system on non-TRIP timesteps.
type=logical

[namelist:temp_fixes=l_rm_neg_par]
compulsory=true
description=Fix for negative PAR values in radiation
help=Fix for negative PAR values in radiation
    = It is a short term logical until the code becomes the new default.
type=logical

[namelist:temp_fixes=l_use_old_mass_fix]
compulsory=true
description=Use old EG mass fixer
help=Apply the EG mass fixer available at UM8.5
type=logical

[namelist:time]
duplicate=true
ns=namelist/um/STASH/time

[namelist:umsections=section_c98]

[namelist:upanca]
compulsory=false
duplicate=true
ns=namelist/ancillaries/upanca

[namelist:urban2t_param]
compulsory=true
ns=namelist/pending/um/urban2t_param

[namelist:urban_switches]
compulsory=true
ns=namelist/pending/um/urban_switches

[namelist:use]
duplicate=true
ns=namelist/um/STASH/use

[namelist:ustsnum]
compulsory=true
ns=namelist/pending/recon/ustsnum

[namelist:vertical]
compulsory=true
ns=namelist/reconfiguration/vertical

[namelist:vertical=v_int_order]
compulsory=true
description=Type of vert intepolation
help=Linear vertical interpolation (option 1) in the reconfiguration usually
    = extrapolates at the top and bottom of the domain.
    = If you are significantly altering the orography (through ancillary files)
    = or the height at the top of the model,
    =it may be more appropriate to use
    = vertical interpolation without extrapolation (option 2).
    = Options 3 and 5 are cubic and quintic interpolation albeit these are not
    = readily used.
values=1,2,3,5

[ns=namelist/um/STASH/streq]
macro=stash_indices.TidyStashTransformPruneDuplicated, stash_indices.TidyStashValidate, stash_requests.StashProfilesValidate, stash_requests.StashProfilesRemoveUnused
