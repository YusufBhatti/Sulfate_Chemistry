[env:coupled_env_vars]
ns=env/coupled
title=Coupled Settings

[env:drhook]
description=Variables that control the behaviour of Dr Hook.
ns=env/drhook
title=Dr Hook Settings

[env:ibm_power7]
description=Optimisation settings for IBM POWER7
ns=env/ibmpower7
title=IBM POWER7 Optimisation

[env:non_um]
description=Variables which are not used directly by the UM.
           =
           =This section contains several settings which may be used by
           =the app (i.e. referenced in other inputs) and are not read into
           =or used by the UM itself.  If no other inputs refer to these
           =variables they may be omitted.
           =
           =Note: These variables may *not* be referenced in other
           =environment variables, only in namelist items.
ns=env/non_um
title=Non-UM Settings

[env:runtime]
description=Variables that control behaviour at run time.
ns=env/runtime
title=Runtime Controls

[env:runtime_atmosphere]
description=Variables that control atmosphere-only behaviour at run time.
ns=env/runtime/atmosphere
title=Atmosphere only

[env:runtime_reconfiguration]
description=Variables that control reconfiguration-only behaviour at run time.
ns=env/runtime/reconfiguration
title=Reconfiguration only

[env=ATMOS_EXEC]
compulsory=false
description=Name of UM executable
help=This should match the name of the executable built by fcm_make. If not
    =present in either app or suite the um-atmos wrapper script will default
    =to um-atmos.exe.
ns=env/runtime/atmosphere
sort-key=a3

[env=ATMOS_KEEP_MPP_STDOUT]
compulsory=true
description=Keep atmosphere standard output from all processors
help=If unset or false all output apart from pe0 will be deleted
ns=env/runtime/atmosphere
sort-key=a2
values=false,true

[env=ATMOS_LAUNCHER]
compulsory=false
description=Specify a command to run the atmosphere or coupled model with
help=Set this to use a specific command to run the atmosphere or coupled model
    =under instead of using rose mpi-launch.
    =
    =This can be added to the configuration with an empty value to run the
    =model without any launcher.
ns=env/runtime/atmosphere

[env=ATMOS_STDOUT_FILE]
compulsory=false
description=Atmosphere stdout base filename
help=The base part of the filename for stdout and stderr from the atmosphere
    =executable, commonly referred to as PE files.
    =
    =A relative path is taken relative to the task work directory
    =($CYLC_TASK_WORK_DIR).
    =
    =Defaults to 'pe_output/atmos.fort6.pe' in the task work directory.
ns=env/runtime/atmosphere
sort-key=a3

[env=COUPLED_PLATFORM]
compulsory=false
description=Platform the coupled model is run on
help=Within the Met Office the coupled model must be run on the Cray XC40.
ns=env/coupled
values=XC40

[env=COUPLER]
compulsory=true
description=Select coupler
fail-if=this != "" and namelist:nlstcgen=steps_per_periodim % 24 != 0;
       =# Model steps must coincide with whole hours for use with coupler step frequency
ns=env/coupled
trigger=namelist:coupling_control=oasis_couple_freq_ao: OASIS3, OASIS3-MCT;
       =namelist:coupling_control=oasis_couple_freq_oa: OASIS3, OASIS3-MCT;
       =namelist:coupling_control=oasis_couple_freq_ac: OASIS3, OASIS3-MCT;
       =namelist:coupling_control=oasis_couple_freq_ca: OASIS3, OASIS3-MCT;
       =namelist:coupling_control=oasis_couple_freq_aw: OASIS3, OASIS3-MCT;
       =namelist:coupling_control=oasis_couple_freq_wa: OASIS3, OASIS3-MCT;
       = namelist:coupling_control=l_couple_master: OASIS3, OASIS3-MCT;
       = namelist:coupling_control=l_oasis_icecalve: OASIS3, OASIS3-MCT;
       = namelist:coupling_control=l_oasis_timers: OASIS3, OASIS3-MCT;
       = env=COUPLED_PLATFORM: OASIS3, OASIS3-MCT;
       = env=LAUNCH_MPI_ATMOS: OASIS3, OASIS3-MCT;
       = env=LAUNCH_MPI_OCEAN: OASIS3, OASIS3-MCT;
       = env=LAUNCH_MPI_PRISM: OASIS3;
value-titles=No Coupling, OASIS3, OASIS3-MCT
values=, OASIS3, OASIS3-MCT

[env=DATAM]
compulsory=false
description=Path to timestamped output files
help=Note: This variable is not read in by the UM - all output filenames are
    =controlled directly via inputs, though this may still be used as a
    =suite-level variable referenced by those inputs.
    =
    =(This previously held the path to the output directory containing
    = timestamped output files)
ns=env/non_um

[env=DATAW]
compulsory=false
description=Path to non-timestamped output files
help=Note: This variable is not read in by the UM - all output filenames are
    =controlled directly via inputs, though this may still be used as a
    =suite-level variable referenced by those inputs.
    =
    =(This previously held the path to the output directory containing
    = non-timestamped output files)
ns=env/non_um

[env=DR_HOOK]
compulsory=true
description=Run with Dr Hook
help=Turn Dr Hook on or off at run-time. Dr Hook is a library written by ECMWF
    =which can produce run-time profiling information.
    =
    =CAUTION! Before Dr Hook can be used it must be compiled into a UM
    =executable. Please refer to the drhook option in the "Basic compilation"
    =panel of a UM fcm-make app.
    =
    =Met Office users: When running with Dr Hook on the Linux estate please
    =see the special note in the help for env=DR_HOOK_IGNORE_SIGNALS.
ns=env/drhook
sort-key=a1
trigger=env=DR_HOOK_OPT: 1;
       =env=DR_HOOK_CATCH_SIGNALS: 1;
       =env=DR_HOOK_IGNORE_SIGNALS: 1;
       =env=DR_HOOK_PROFILE: 1;
       =env=DR_HOOK_PROFILE_LIMIT: 1;
       =env=DR_HOOK_PROFILE_PROC: 1;
value-titles=off,on
values=0,1

[env=DR_HOOK_CATCH_SIGNALS]
compulsory=true
description=Signals Dr Hook should catch
help=A comma-separated list of signals that Dr Hook should intercept;
    =catching one of these signals will cause the model to abort. There are
    =two special values:
    =
    =  0 - Dr Hook intercepts only a default, in-built list of error signals.
    =      This behaviour may be modified by env=DR_HOOK_IGNORE_SIGNALS.
    =
    = -1 - Dr Hook intercepts all signals.
ns=env/drhook
pattern=^((\d+\,?)+|-1)$
sort-key=a7

[env=DR_HOOK_IGNORE_SIGNALS]
compulsory=true
description=Signals Dr Hook should ignore
help=A comma-separated list of signals that Dr Hook should not intercept;
    =Dr Hook will ignore these signals and not trigger an abort if one occurs
    =(the UM itself may still abort if an error occurs). There are two special
    =values:
    =
    =  0 - Dr Hook ignores all except a default, in-built list of error signals.
    =      This behaviour may be modified by env=DR_HOOK_CATCH_SIGNALS.
    =
    = -1 - Dr Hook ignores all signals.
    =
    =Met Office users: when running with Dr Hook on the Linux estate this
    =should be set to ignore (at least) signal 8. This stops a spurious
    =floating point error preventing the model from running. No special action
    =is required when running on the HPC.
ns=env/drhook
pattern=^((\d+\,?)+|-1)$
sort-key=a6

[env=DR_HOOK_OPT]
compulsory=true
description=Dr Hook output setting
help=Choose what information Dr Hook should provide. Only certain combinations
    =of options are valid. Please consult the following help carefully before
    =selecting any Dr Hook options.
    =
    =Dr Hook has two principal modes: to provide profiling information, and
    =to provide traceback information in the event of a failure. Typically only
    =options from one of these modes should be active, not both.
    =
    =PROFILING MODES
    =Choose ONE of the following three *prof options:
    = - wallprof
    =      Per-routine profiling information based on walltime taken.
    = - cpuprof
    =      Per-routine profiling information based on CPU-time taken.
    = - hpmprof
    =      Per-routine profiling information based on Mflops consumed.
    =
    =Choose AT MOST ONE of the following two *self options:
    = - self
    =      Include Dr Hook itself in the profile output.
    = - noself
    =      Do not include or account for Dr Hook at all.
    =
    =If neither *self option is chosen then resources spent on Dr Hook will be
    =accounted for by the profiling, but Dr Hook will not be included in the
    =profiling output.
    =
    =TRACEBACK MODES
    =The following options are typically either both active or both inactive:
    = - memory
    =      Provide traceback info containing per-routine memory information.
    = - time
    =      Provide traceback info containing per-routine timing information.
    =
    =
    =Further options are available in the Dr Hook documentation.
ns=env/drhook
sort-key=a2
widget[rose-config-edit]=rose.config_editor.valuewidget.choice.ChoicesValueWidget
                        =--choices=wallprof,cpuprof,hpmprof,self,noself,memory,time
                        =--editable

[env=DR_HOOK_PROFILE]
compulsory=true
description=Dr Hook output location
help=The location of the output files from Dr Hook profiling. This should end
    =in ".%d" which instructs Dr Hook to give each processor its own output
    =file, similar to .pe files generated by the UM.
    =
    =Note that Dr Hook counts processors from 1 rather than 0 and so pe0 will
    =produce a .1 Dr Hook output file, pe1 will produce a .2 Dr Hook file, and
    =so on.
    =
    =This option does not influence the memory or time settings of
    =env=DR_HOOK_OPT.
ns=env/drhook
pattern=\.%d$
sort-key=a3

[env=DR_HOOK_PROFILE_LIMIT]
compulsory=true
description=Threshold (%) for profiling info
help=Set a lower threshold for which routines will appear in profiling output
    =from Dr Hook. Only routines which consume at least this percentage of the
    =job's time resources will appear in the profiling.
    =
    =A negative number will cause output from all routines to be printed.
    =
    =This option does not influence the memory or time settings of
    =env=DR_HOOK_OPT.
ns=env/drhook
pattern=^-?\d{1,2}(\.\d*)?$
sort-key=a5

[env=DR_HOOK_PROFILE_PROC]
compulsory=true
description=Processor producing Dr Hook profile
help=The number of the processor which will produce profiling information.
    =A value of -1 will cause all processors to produce profiling info.
    =
    =Note that Dr Hook counts processors from 1 rather than 0, so a value of '1'
    =will produce profiling output from pe0, '2' will produce output from pe1,
    =and so on.
    =
    =This option does not influence the memory or time settings of
    =env=DR_HOOK_OPT.
ns=env/drhook
pattern=^(-1|[1-9]|\d{2,})$
sort-key=a4

[env=ENS_MEMBER]
compulsory=true
description=Specify ensemble member number of UM run
ns=env/runtime/atmosphere
pattern=^\d+$
sort-key=c1

[env=FASTRUN]
compulsory=false
description=Turn off IAU data assimilation if FASTRUN = true
ns=env/runtime/atmosphere
sort-key=c2

[env=FLUME_IOS_NPROC]
compulsory=false
description=Number of IO sever processors
help=Please note if changing the total number of processors used by the
    =model (including IO server processors) that the number of processors
    =requested from the batch system will need to be updated in the suite.rc.
ns=env/runtime/atmosphere
range=0:
sort-key=b3
type=integer

[env=HFI_RDMA_BREAKOUT_COUNT]
compulsory=false
ns=env/ibmpower7

[env=HISTORY]
compulsory=false
description=Path to the history file
help=The path to the file containing the model history for the atmosphere
    =executable.
    =
    =A relative path is taken relative to the task work directory
    =($CYLC_TASK_WORK_DIR)
    =
    =Defaults to "atmos.xhist" in the task work directory.
ns=env/runtime/atmosphere

[env=LAPI_DEBUG_MTU_4K]
compulsory=false
ns=env/ibmpower7

[env=LAPI_DEBUG_RC_DREG_COUNT]
compulsory=false
ns=env/ibmpower7

[env=LAPI_DEBUG_RC_DREG_LAZY]
compulsory=false
ns=env/ibmpower7

[env=LAPI_DEBUG_RC_DREG_THRESHOLD]
compulsory=false
ns=env/ibmpower7

[env=LAPI_DEBUG_RC_INIT_SETUP]
compulsory=false
ns=env/ibmpower7

[env=LAUNCH_MPI_ATMOS]
compulsory=false
description=Job submission command arguments for atmos exec
help=Arguments to the job submission command for the atmosphere executable,
    =not including the submission command itself (e.g. aprun).
ns=env/coupled

[env=LAUNCH_MPI_OCEAN]
compulsory=false
description=Job submission command arguments for ocean exec
help=Arguments to the job submission command for the coupler executable,
    =not including the submission command itself (e.g. aprun).
ns=env/coupled

[env=LAUNCH_MPI_PRISM]
compulsory=false
description=Job submission command arguments for coupler exec
help=Arguments to the job submission command for the ocean executable,
    =not including the submission command itself (e.g. aprun).
ns=env/coupled

[env=LDR_CNTRL]
compulsory=false
ns=env/ibmpower7

[env=MEMORY_AFFINITY]
compulsory=false
ns=env/ibmpower7

[env=MP_BINDPROC]
compulsory=false
ns=env/ibmpower7

[env=MP_BUFFER_MEM]
compulsory=false
ns=env/ibmpower7

[env=MP_BULK_MIN_MSG_SIZE]
compulsory=false
ns=env/ibmpower7

[env=MP_BULK_XFER_CHUNK_SIZE]
compulsory=false
ns=env/ibmpower7

[env=MP_DEVTYPE]
compulsory=false
ns=env/ibmpower7

[env=MP_EAGER_LIMIT]
compulsory=false
ns=env/ibmpower7

[env=MP_EUIDEVELOP]
compulsory=false
ns=env/ibmpower7

[env=MP_EUILIB]
compulsory=false
ns=env/ibmpower7

[env=MP_FIFO_ROUTE_MODE]
compulsory=false
ns=env/ibmpower7

[env=MP_POLLING_INTERVAL]
compulsory=false
ns=env/ibmpower7

[env=MP_PULSE]
compulsory=false
ns=env/ibmpower7

[env=MP_RC_MAX_QP]
compulsory=false
ns=env/ibmpower7

[env=MP_RDMA_MTU]
compulsory=false
ns=env/ibmpower7

[env=MP_RDMA_ROUTE_MODE]
compulsory=false
ns=env/ibmpower7

[env=MP_RETRANSMIT_INTERVAL]
compulsory=false
ns=env/ibmpower7

[env=MP_RFIFO_SIZE]
compulsory=false
ns=env/ibmpower7

[env=MP_SHARED_MEMORY]
compulsory=false
ns=env/ibmpower7

[env=MP_SHM_ATTACH_THRESH]
compulsory=false
ns=env/ibmpower7

[env=MP_SINGLE_THREAD]
compulsory=false
ns=env/ibmpower7

[env=MP_USE_BULK_XFER]
compulsory=false
ns=env/ibmpower7

[env=MP_WAIT_MODE]
compulsory=false
ns=env/ibmpower7

[env=PRINT_STATUS]
compulsory=true
description=Set level of print output from model
help=The level of print output determines how many messages are required
    =from the model executable. Most users will select "Normal". Setting
    ="Minimum" should reduce the length of output for long running stable
    =jobs, but you may need to be prepared to rerun parts of a job with
    ="Normal" should it run into trouble. "Operational" level is for
    =operational forecast use. "Extra Diag messages" can be selected,
    =which will produce STASH diagnostics messages to aid the user in
    =understanding why diagnostics have not appeared where expected.
ns=env/runtime/atmosphere
sort-key=a1
value-titles=Minimum output; only essential messages,
            =Normal informative messages and warnings,
            =Operational status; all information messages,
            =Extra diagnostic messages
values=PrStatus_Min, PrStatus_Normal, PrStatus_Oper, PrStatus_Diag

[env=RCF_NPROCX]
compulsory=false
help=Please note if changing the total number of processors used by the
    =reconfiguration that the number of processors requested from the batch
    =system will need to be updated in the suite.rc.
    =
    =Running the reconfiguration on multiple processors is done to gain the
    =same speed and memory improvements as it would when used for the model.
    =The reconfiguration will need fewer processors than the atmosphere model.
    =In practice 3 by 3 is suitable for a N48 resolution model and 4 by 4 is
    =fine for a N216 resolution model.
ns=env/runtime/reconfiguration
range=1:
type=integer

[env=RCF_NPROCY]
compulsory=false
help=Please note if changing the total number of processors used by the
    =reconfiguration that the number of processors requested from the batch
    =system will need to be updated in the suite.rc.
    =
    =Running the reconfiguration on multiple processors is done to gain the
    =same speed and memory improvements as it would when used for the model.
    =The reconfiguration will need fewer processors than the atmosphere model.
    =In practice 3 by 3 is suitable for a N48 resolution model and 4 by 4 is
    =fine for a N216 resolution model.
ns=env/runtime/reconfiguration
range=1:
type=integer

[env=RCF_PRINTSTATUS]
compulsory=true
description=Set level of print output from reconfiguration
help=The level of print output determines how many messages are output
    =from the reconfiguration executable.
ns=env/runtime/reconfiguration
value-titles=Minimum output; only essential messages,
            =Normal informative messages and warnings,
            =Operational status; all information messages,
            =Extra diagnostic messages
values=PrStatus_Min, PrStatus_Normal, PrStatus_Oper, PrStatus_Diag

[env=RCF_TIMER]
compulsory=true
description=Timer information required from reconfiguration run
help=The version of the timer is defined by the C97 cpp flag.  This will need to
    =be modified separately in the fcm_make app.
    =
    =Version 1A is the standard UM timer, but cannot be used on MPP machines.
    =Version 3A is an upgraded version of the standard timer. It can be used all
    =types of machines, and will give useful timing information on MPP machines.
    =It is computationally more expensive than version 1A. As well as giving timing
    =information for individual routines (as version 1A does), version 3A also
    =gives timing information for larger model components - for example the total
    =time spent in the dynamics or physics.
ns=env/runtime/reconfiguration
values=false,true

[env=RECONA_FNAME]
compulsory=false
description=Specify an RCF namelist file to use
help=Set this to use a specific namelist file for the RCF namelist.
    =
    =You may also need to edit the file list to change outputting from RECONA
    =to the specified location.
ns=env/runtime/reconfiguration

[env=RECON_EXEC]
compulsory=false
description=Name of Reconfiguration executable
help=This should match the name of the executable built by fcm_make. If not
    =present in either app or suite the um-recon wrapper script will default
    =to um-recon.exe.
ns=env/runtime/reconfiguration

[env=RECON_KEEP_MPP_STDOUT]
compulsory=true
description=Keep reconfiguration standard output from all processors
help=If unset or false all output apart from pe0 will be deleted
ns=env/runtime/reconfiguration
values=false,true

[env=RECON_LAUNCHER]
compulsory=false
description=Specify a command to run the recon with
help=Set this to use a specific command to run the recon under instead of using
    =rose mpi-launch.
    =
    =This can be added to the configuration with an empty value to run the
    =recon without any launcher.
ns=env/runtime/reconfiguration

[env=RECON_STDOUT_FILE]
compulsory=false
description=Reconfiguration stdout base filename
help=The base part of the filename for stdout and stderr from the reconfiguration
    =executable, commonly referred to as PE files.
    =
    =A relative path is taken relative to the task work directory
    =($CYLC_TASK_WORK_DIR).
    =
    =Defaults to 'pe_output/atmos.fort6.pe' in the task work directory.
ns=env/runtime/reconfiguration

[env=RUNID]
compulsory=false
description=ID string associated with each run
help=Note: This variable is not read in by the UM - all output filenames are
    =controlled directly via inputs, though this may still be used as a
    =suite-level variable referenced by those inputs.
    =
    =(This previously provided a common element to several filenames handled
    = or created by the UM).
ns=env/non_um
pattern=^[a-zA-Z0-9_]*$

[env=SHARED_FNAME]
compulsory=false
description=Specify a SHARED_NLIST file to use
help=Set this to use a specific namelist file for the SHARED namelist.
    =
    =You may also need to edit the file list to change outputting from SHARED
    =to the specified location.
ns=env/runtime

[env=SIZES_FNAME]
compulsory=false
description=Specify a SIZES_NLIST file to use
help=Set this to use a specific namelist file for the SIZES namelist.
    =
    =You may also need to edit the file list to change outputting from SIZES
    =to the specified location.
ns=env/runtime/reconfiguration

[env=SPECTRAL_FILE_DIR]
compulsory=false
description=Specify path to spectral files
ns=env/runtime/atmosphere
sort-key=c3

[env=STASHMSTR]
compulsory=false
description=Path to STASHmaster directory
help=If this environment variable is not present in the app or suite the UM and
    =reconfiguration scripts will default to the centrally installed STASHmaster.
ns=env/runtime

[env=UM_ATM_NPROCX]
compulsory=false
description=Number of processors west-east for atmosphere model
fail-if=this % 2 == 1 and this != 1 # Needs to be even or 1
help=Value must be 1 or an even number.
    =
    =Please note if changing the total number of processors used by the model
    =that the number of processors requested from the batch system will need
    =to be updated in the suite.rc.
    =
    =The atmosphere model can be decomposed in two dimensions so two
    =values for the number of PEs are requested, one for East/West and
    =one for North/South; the total number of PEs is the product of
    =these two values.
    =
    =For the atmosphere model the number of processors in the E-W direction
    =must be either 1 or a multiple of 2. This is a requirement for
    =efficient cross polar communication.
    =
    =There is a slight bias towards having more processors in the North-South
    =direction than the East-West as there is generally more data communication
    =across East-West boundaries than the North-South ones. Therefore it is
    =advisable to experiment with various domain decompositions to find which
    =are the most efficient for a given platform or particular simulation
ns=env/runtime/atmosphere
range=1:
sort-key=b1
type=integer

[env=UM_ATM_NPROCY]
compulsory=false
description=Number of processors north-south for atmosphere model
help=Please note if changing the total number of processors used by the model
    =that the number of processors requested from the batch system will need
    =to be updated in the suite.rc.
    =
    =The atmosphere model can be decomposed in two dimensions so two
    =values for the number of PEs are requested, one for East/West and
    =one for North/South; the total number of PEs is the product of
    =these two values.
    =
    =There is a slight bias towards having more processors in the North-South
    =direction than the East-West as there is generally more data communication
    =across East-West boundaries than the North-South ones. Therefore it is
    =advisable to experiment with various domain decompositions to find which
    =are the most efficient for a given platform or particular simulation
ns=env/runtime/atmosphere
range=1:
sort-key=b2
type=integer

[env=UM_SIGNALS]
compulsory=false
description=Controls the interception and handling of signals
help=UM_SIGNALS can be used to modify the behaviour of signal handlers in
    =the UM and reconfiguration.
    =
    =<unset>  : SIGTRAP,SIGFPE,SIGILL,SIGBUS,SIGSEGV,
    =                   SIGXCPU are trapped.
    =<blank>  : No signals are trapped.
    =
    =If the variable is set to an actual value, it will be interpreted as a
    =a colon-separated list of the numeric values of signals to
    =intercept, e.g. UM_SIGNALS=8:11 traps FPE and SEGV exceptions only.
ns=env/runtime

[env=VN]
compulsory=false
description=Version number of the UM and/or reconfiguration
help=This number should match the version of the fcm-make apps used
    =to compile the executables.
ns=env/runtime
pattern=^\d+\.\d+

[env=XLFRTEOPTS]
compulsory=false
ns=env/ibmpower7

[env=XLSMPOPTS]
compulsory=false
ns=env/ibmpower7

[namelist:acdiag]
compulsory=true
description=AC diagnostics control
help=AC diagnostics control
ns=namelist/Data Assimilation/Analysis Correction Scheme/Analysis Correction Diagnostics

[namelist:acdiag=ldiagac]
compulsory=true
description=Switch for AC diagnostics
help=Switch for AC diagnostics
trigger=namelist:acdiag=lldac: .true.;
       =namelist:acdiag=lrms: .true.;
       =namelist:acdiag=ltemp: .true.;
       =namelist:acdiag=lverif: .true.;
type=logical

[namelist:acdiag=lldac]
compulsory=true
description=AC diagnostics control
help=AC diagnostics control
length=5
type=logical

[namelist:acdiag=lrms]
compulsory=true
description=Print RMS values
help=Print RMS values
type=logical

[namelist:acdiag=ltemp]
compulsory=true
description=Use temperature increments
help=Use temperature increments
type=logical

[namelist:acdiag=lverif]
compulsory=true
description=Compute verification statistics
help=Compute verification statistics
type=logical

[namelist:acp]
compulsory=true
description=
help=The Analysis Correction (AC) Scheme is the method by which observational
    =information is incrementally applied over a period of time to produce an
    =analysis. The process starts with a model background from a previous run of
    =the model. The information from each observation is applied with a triangular
    =weighting function,
    =typically with a long insertion period before validity
    =time,
    =and a shorter influence after.
    =For most observation types,
    =data assimilation is performed by the IAU in
    =conjuntion with the Variational Assimilation system.
    =The AC scheme is used only for the assimilation of MOPS data in the mesoscale
    =model,
    =and Tropical Convective Rainfall (TCR) in the global model.
    =For further documentation of the AC scheme,
    =refer to UMDP 30 (for scientific
    =aspects),
    =and UMDP P3 (for technical aspects). (Note - these papers can be
    =found under http://www-nwp/umdoc/Old_UMDP).
    =The period of time over which the AC scheme is used is controlled by
    =specifying the number of minutes after basis time (absolute start of
    =run) for the Start and End of AC. This does not affect the time window
    =over which data from an observation is used -  this is specified
    =through use of the ACP namelist.
    =The "Start of AC" would normally be the start of the run (i.e 0).
    =The "End of AC" depends on both the time-window and the definition of
    =the period of influence of the observational data.
    =For a model run which has N cycles of assimilation,
    =each of H hours,
    =the end time (in hours) would be :-
    ="End of AC" = "Start of AC" + N*H + (length of influence tail)
    =The start and end times chosen (in minutes) should be consistent with
    =the timestep.
    =For the mesoscale this value would normally be 5.
    =Observational data is contained in "acobs files".
ns=namelist/Data Assimilation/Analysis Correction Scheme

[namelist:acp=a_assim_end_min]
compulsory=true
description=End of AC
fail-if=this < namelist:acp=a_assim_start_min
help=The period of time over which the AC scheme is used is controlled by
    =specifying the number of minutes after basis time (absolute start of
    =run) for the Start and End of AC. This does not affect the time window
    =over which data from an observation is used -  this is specified
    =through use of the ACP namelist.
    =
    =The "Start of AC" would normally be the start of the run (i.e 0).
    =
    =The "End of AC" depends on both the time-window and the definition of
    =the period of influence of the observational data.
    =For a model run which has N cycles of assimilation,
    =each of H hours,
    =the end time (in hours) would be :-
    =
    ="End of AC" = "Start of AC" + N*H + (length of influence tail)
    =
    =The start and end times chosen (in minutes) should be consistent with
    =the timestep.
    =
    =For the mesoscale this value would normally be 5.
ns=namelist/Data Assimilation/Analysis Correction Scheme
range=0:99999999
sort-key=1c
type=integer

[namelist:acp=a_assim_start_min]
compulsory=true
description=Start of AC
help=The period of time over which the AC scheme is used is controlled by
    =specifying the number of minutes after basis time (absolute start of
    =run) for the Start and End of AC. This does not affect the time window
    =over which data from an observation is used -  this is specified
    =through use of the ACP namelist.
    =
    =The "Start of AC" would normally be the start of the run (i.e 0).
    =
    =The "End of AC" depends on both the time-window and the definition of
    =the period of influence of the observational data.
    =For a model run which has N cycles of assimilation,
    =each of H hours,
    =the end time (in hours) would be :-
    =
    ="End of AC" = "Start of AC" + N*H + (length of influence tail)
    =
    =The start and end times chosen (in minutes) should be consistent with
    =the timestep.
    =
    =For the mesoscale this value would normally be 5.
ns=namelist/Data Assimilation/Analysis Correction Scheme
range=0:99999999
sort-key=1b
type=integer

[namelist:acp=ac_obs_types]
compulsory=true
description=Obs types specifier
help=Obs types specifier
length=4
range=1:9999
type=integer

[namelist:acp=ac_order]
compulsory=true
description=Order of obs types
help=Order of obs types
length=4
range=1:9999
type=integer

[namelist:acp=alpha_lhn]
compulsory=true
description=Minimum factor by which model ppn can be scaled to fit obs ppn
help=Minimum factor by which model ppn can be scaled to fit obs ppn
range=0.0:2.0
type=real

[namelist:acp=diag_rdobs]
compulsory=true
description=Control of diagnostic output from RDOBS/RDOBS2
help=Control of diagnostic output from RDOBS/RDOBS2
    =0 - No listing ; 1 - Standard Listing ; 2 - More detailed listing.
values=0,1,2

[namelist:acp=epsilon_lhn]
compulsory=true
description=Minimum acceptable ratio of model ppn to observed,for LHN
help=Minimum acceptable ratio of model ppn to observed,for LHN
range=0.0:2.0
type=real

[namelist:acp=fi_scale_lhn]
compulsory=true
description=Recursive filter scale in metres
help=Recursive filter scale in metres
range=0.0:100000.0
type=real

[namelist:acp=l_lhn]
compulsory=true
description=Switch for latent heat nudging
help=Switch for latent heat nudging
trigger=namelist:acp=l_lhn_search: .true.;
       =namelist:acp=lhn_diag: .true.;
       =namelist:acp=l_lhn_limit: .true.;
       =namelist:acp=l_lhn_fact: .true.;
       =namelist:acp=l_lhn_filt: .true.;
       =namelist:acp=epsilon_lhn: .true.;
       =namelist:acp=relax_cf_lhn: .true.;
       =namelist:acp=remove_neg_lh: .true.;
type=logical

[namelist:acp=l_lhn_fact]
compulsory=true
description=Use limit in ALPHA_LHN
help=Use limit in ALPHA_LHN
trigger=namelist:acp=alpha_lhn: .true.;
type=logical

[namelist:acp=l_lhn_filt]
compulsory=true
description=Filter LHN theta incrs
help=Filter LHN theta incrs
trigger=namelist:acp=npass_rf_lhn: .true.;
       =namelist:acp=fi_scale_lhn: .true.;
type=logical

[namelist:acp=l_lhn_limit]
compulsory=true
description=Limit size of increments
help=Limit size of increments
trigger=namelist:acp=lhn_limit: .true.;
type=logical

[namelist:acp=l_lhn_scale]
compulsory=true
description=Scale points by 1/EPSILON,in LHN,if no near rain found
help=Scale points by 1/EPSILON,in LHN,if no near rain found
type=logical

[namelist:acp=l_lhn_search]
compulsory=true
description=Use search routine for nearby rain in LHN
help=Use search routine for nearby rain in LHN
trigger=namelist:acp=lhn_range: .true.;
       =namelist:acp=l_lhn_scale: .true.;
type=logical

[namelist:acp=lac_mes]
compulsory=true
description=Switch for mesoscale assimilation
help=Switch for mesoscale assimilation
sort-key=1a
trigger=namelist:acp=ac_obs_types: .true.;
       =namelist:acp=ac_order: .true.;
       =namelist:acp=no_obs_files: .true.;
       =namelist:acp=obs_format: .true.;
       =namelist:acp=timea: .true.;
       =namelist:acp=timeb: .true.;
       =namelist:acp=tgetoba: .true.;
       =namelist:acp=tgetobb: .true.;
       =namelist:acp=l_lhn: .true.;
       =namelist:acp=use_conv_in_mops: .true.;
       =namelist:acp=diag_rdobs: .true.;
       =namelist:acp=macdiag: .true.;
       =namelist:acp=nudge_lam: .true.;
       =namelist:acdiag=ldiagac: .true.;
       =namelist:acp=a_assim_start_min: .true.;
       =namelist:acp=a_assim_end_min: .true.;
       =namelist:nlcfiles=obs01: .true.;
       =namelist:nlcfiles=obs02: .true.;
       =namelist:nlcfiles=obs03: .true.;
       =namelist:nlcfiles=obs04: .true.;
       =namelist:nlcfiles=obs05: .true.;
type=logical

[namelist:acp=lhn_diag]
compulsory=true
description=Display detailed diagnostics for LHN routine
help=Display detailed diagnostics for LHN routine
type=logical

[namelist:acp=lhn_limit]
compulsory=true
description=Maximum size of increment to theta within LHN (K/day)
help=Maximum size of increment to theta within LHN (K/day)
range=0.0:10.0
type=real

[namelist:acp=lhn_range]
compulsory=true
description=Max range (in grid points) to search to in Latent Heat Nudging code
help=Max range (in grid points) to search to in Latent Heat Nudging code
range=0:1000
type=integer

[namelist:acp=macdiag]
compulsory=true
description=AC diagnostic mode (each timestep)
help=AC diagnostic mode (each timestep)
length=36
range=0:99
type=integer

[namelist:acp=no_obs_files]
compulsory=true
description=Number of obs files (max 10)
help=Number of obs files (max 10)
range=0:10
type=integer

[namelist:acp=npass_rf_lhn]
compulsory=true
description=Number of passes through recursive filter,
           =for LHN increments
help=Number of passes through recursive filter,
    =for LHN increments
range=0:100
type=integer

[namelist:acp=nudge_lam]
compulsory=true
description=Nudging Coefficients for LAM
help=Nudging Coefficients for LAM
length=10
range=0.0:100000000.0
type=real

[namelist:acp=obs_format]
compulsory=true
description=Format of obs files
help=Format of obs files (2 or 3)
values=2,3

[namelist:acp=relax_cf_lhn]
compulsory=true
description=Relaxation coefficient for theta increments from the LHN scheme
help=Relaxation coefficient for theta increments from the LHN scheme
range=0.0:1.0
type=real

[namelist:acp=remove_neg_lh]
compulsory=true
description=Remove_neg_lh
help=Remove_neg_lh
type=logical

[namelist:acp=tgetoba]
compulsory=true
description=Start of window for specified obs types (minutes)
help=Start of window for specified obs types (minutes)
length=10
range=0:999999
type=integer

[namelist:acp=tgetobb]
compulsory=true
description=End of window for specified obs types (minutes)
help=End of window for specified obs types (minutes)
length=10
range=0:999999
type=integer

[namelist:acp=timea]
compulsory=true
description=Start of window for specified obs types (minutes)
help=Start of window for specified obs types (minutes)
length=10
range=0:999999
type=integer

[namelist:acp=timeb]
compulsory=true
description=End of window for specified obs types (minutes)
help=End of window for specified obs types (minutes)
length=10
range=0:999999
type=integer

[namelist:acp=use_conv_in_mops]
compulsory=true
description=Use convective precipitation
help=Use convective precipitation
type=logical

[namelist:ancilcta]
compulsory=true
ns=namelist/Reconfiguration and Ancillary Control/Ancil options
sort-key=a6a

[namelist:ancilcta=l_sstanom]
compulsory=true
description=Use SST anomalies in ancillary updating
help=SST Anomalies are used by long-range forecast configurations.
    = This allows anomalies to be added to the sea-surface temperature
    = climatologies at each updating point.
    =
    = SST Anomalies are used by long-range forecast configurations.
    = This allows anomalies to be added to the sea-surface temperature
    = climatologies at each updating point.
    =
    = Standard files hold time-varying fields (monthly,
    =annually-cyclic).
    = Long runs should use updating; the frequency depends on requirements.
    = Coupled models will not need this field at all.
    =
    = Sea surface temperature anomalies in NWP can be turned on by selecting
    = namelist:ancilcta=l_sstanom.
    =
    = This anomaly can then be used to update the model SST at the
    = specified frequency (daily is recommended for NWP),
    =by simply
    = persisting the anomaly for the duration of the forecast while
    = updating the baseline climatology from the SST ancillary
    = file. Note that SST anomalies over sea-ice and partial land points
    = are ignored.
    =
    = The older SST anomaly method is used by the long-range forecast group
    = and requires special ancillary files. Essentially SST anomalies allow
    = climatologies of SST to be used as climatologies of SST change. This
    = procedure is only required for long runs (where SST change is
    = significant) in real time forecasts (where actual values are not
    = known).
    =
    = In the case where SST anomaly fields are not used,
    =the SST updating
    = frequency should be consistent with that for sea-ice.
type=logical

[namelist:ancilcta=lamipii]
compulsory=true
description=Use AMIP-II method of updating SST and sea ice
help=Setting the updating of SST and ice to use the AMIP II method
    = implies that your ice ancillary file contains only ice concentrations.
    = The ice depths are worked out from the ice concentration by the
    = ancillary updating subroutine. You should still ask for updating of
    = ice depth.
    =
    = This method does not allow the ice concentration seen by the model to
    = fall below 0.3. This limit is applied because in the present version
    = of the model if any ice is present however small the value of the SST
    = seen by the physics (boundary layer and radiation) is -1.8C
    = irrespective of the value of the SST coming from the ancillary file.
    =
    = This method is designed to be used with the specially prepared SST
    = and ice boundary data supplied by PCMDI. This data is valid for a
    = real calendar year and when using daily updating it will correctly
    = reproduce monthly mean SST and ice.
    =
    = If a different updating period is used the monthly means will not be
    = correctly reproduced.
    =
    = Note the normal style SST and ice ancillary files contain correct
    = monthly means but once the model takes the data and interpolates,
    =the
    = resulting monthly means output by the model do not agree with the
    = original values.
type=logical

[namelist:ancilcta=nancil_lookupsa]
compulsory=true
description=Maximum total number of lookup headers on the ancillary files used for updating
help=This depends on the number of field types,
    =number of levels and the time
    =dimension of all ancillary files used in the model (not the reconfiguration. i.e.
    =updated not configured).  The values can be an over-specification
range=1:50000
type=integer

[namelist:carbon_options]
ns=namelist/UM Science Settings/General Physics Options/Carbon Options

[namelist:carbon_options=i_co2_opt]
compulsory=true
description=Define specification of CO2 absorption
help=1: Simple method with fixed value.
    =2: Complex method allowing linear and/or exponential variation.
    =3: From the interactive carbon cycle.
ns=namelist/UM Science Settings/General Physics Options/Carbon Options
trigger=namelist:carbon_options=l_co2_emits: 3
value-titles=Simple method with fixed value,
            =Complex method allowing linear and/or exponential variation,
            =From the interactive carbon cycle
values=1,2,3

[namelist:carbon_options=l_co2_emits]
description=CO2 emissions
help=False => Not using emission.
    =True  => Use emission from ancillary file.
    =
    =Please note that if the ancillary file option is selected then
    =an ancil file will need to be supplied and read in via the items
    =namelist.
#trigger = namelist:run_radiation=co2_mmr: .false.
ns=namelist/UM Science Settings/General Physics Options/Carbon Options
type=logical

[namelist:clmchfcg]
compulsory=true
# Splitting by species to make gui more user-friendly
ns=namelist/UM Science Settings/section01/gas/clmchfcg

[namelist:clmchfcg=clim_fcg_levls_cfc11]
compulsory=true
description=List of values for growth for active gas CFC11
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/cfc11
type=real

[namelist:clmchfcg=clim_fcg_levls_cfc113]
compulsory=true
description=List of values for growth for active gas CFC113
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/cfc113
type=real

[namelist:clmchfcg=clim_fcg_levls_cfc114]
compulsory=true
description=List of values for growth for active gas CFC114
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/cfc114
type=real

[namelist:clmchfcg=clim_fcg_levls_cfc12]
compulsory=true
description=List of values for growth for active gas CFC12
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/cfc12
type=real

[namelist:clmchfcg=clim_fcg_levls_ch4]
compulsory=true
description=List of values for growth for active gas CH4
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/ch4
type=real

[namelist:clmchfcg=clim_fcg_levls_co2]
compulsory=true
description=List of values for growth for active gas CO2
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/co2
type=real

[namelist:clmchfcg=clim_fcg_levls_hcfc22]
compulsory=true
description=List of values for growth for active gas HCFC22
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/hcfc22
type=real

[namelist:clmchfcg=clim_fcg_levls_hfc125]
compulsory=true
description=List of values for growth for active gas HFC125
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/hfc125
type=real

[namelist:clmchfcg=clim_fcg_levls_hfc134a]
compulsory=true
description=List of values for growth for active gas HFC134a
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/hfc134a
type=real

[namelist:clmchfcg=clim_fcg_levls_n2o]
compulsory=true
description=List of values for growth for active gas N2O
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/n2o
type=real

[namelist:clmchfcg=clim_fcg_levls_so4]
compulsory=true
description=List of values for growth for active gas SO4
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/so4
type=real

[namelist:clmchfcg=clim_fcg_nyears_cfc11]
compulsory=true
description=No. of years at which forcing rate is specified for active gas CFC11
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/cfc11
type=integer

[namelist:clmchfcg=clim_fcg_nyears_cfc113]
compulsory=true
description=No. of years at which forcing rate is specified for active gas CFC113
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/cfc113
type=integer

[namelist:clmchfcg=clim_fcg_nyears_cfc114]
compulsory=true
description=No. of years at which forcing rate is specified for active gas CFC114
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/cfc114
type=integer

[namelist:clmchfcg=clim_fcg_nyears_cfc12]
compulsory=true
description=No. of years at which forcing rate is specified for active gas CFC12
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/cfc12
type=integer

[namelist:clmchfcg=clim_fcg_nyears_ch4]
compulsory=true
description=No. of years at which forcing rate is specified for active gas CH4
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/ch4
type=integer

[namelist:clmchfcg=clim_fcg_nyears_co2]
compulsory=true
description=No. of years at which forcing rate is specified for active gas CO2
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/co2
type=integer

[namelist:clmchfcg=clim_fcg_nyears_hcfc22]
compulsory=true
description=No. of years at which forcing rate is specified for active gas HCFC22
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/hcfc22
type=integer

[namelist:clmchfcg=clim_fcg_nyears_hfc125]
compulsory=true
description=No. of years at which forcing rate is specified for active gas HFC125
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/hfc125
type=integer

[namelist:clmchfcg=clim_fcg_nyears_hfc134a]
compulsory=true
description=No. of years at which forcing rate is specified for active gas HFC134a
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/hfc134a
type=integer

[namelist:clmchfcg=clim_fcg_nyears_n2o]
compulsory=true
description=No. of years at which forcing rate is specified for active gas N2O
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/n2o
type=integer

[namelist:clmchfcg=clim_fcg_nyears_so4]
compulsory=true
description=No. of years at which forcing rate is specified for active gas SO4
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/so4
type=integer

[namelist:clmchfcg=clim_fcg_rates_cfc11]
compulsory=true
description=List of rates of growth for active gas CFC11
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/cfc11
type=real

[namelist:clmchfcg=clim_fcg_rates_cfc113]
compulsory=true
description=List of rates of growth for active gas CFC113
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/cfc113
type=real

[namelist:clmchfcg=clim_fcg_rates_cfc114]
compulsory=true
description=List of rates of growth for active gas CFC114
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/cfc114
type=real

[namelist:clmchfcg=clim_fcg_rates_cfc12]
compulsory=true
description=List of rates of growth for active gas CFC12
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/cfc12
type=real

[namelist:clmchfcg=clim_fcg_rates_ch4]
compulsory=true
description=List of rates of growth for active gas CH4
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/ch4
type=real

[namelist:clmchfcg=clim_fcg_rates_co2]
compulsory=true
description=List of rates of growth for active gas CO2
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/co2
type=real

[namelist:clmchfcg=clim_fcg_rates_hcfc22]
compulsory=true
description=List of rates of growth for active gas HCFC22
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/hcfc22
type=real

[namelist:clmchfcg=clim_fcg_rates_hfc125]
compulsory=true
description=List of rates of growth for active gas HFC125
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/hfc125
type=real

[namelist:clmchfcg=clim_fcg_rates_hfc134a]
compulsory=true
description=List of rates of growth for active gas HFC134a
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/hfc134a
type=real

[namelist:clmchfcg=clim_fcg_rates_n2o]
compulsory=true
description=List of rates of growth for active gas N2O
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/n2o
type=real

[namelist:clmchfcg=clim_fcg_rates_so4]
compulsory=true
description=List of rates of growth for active gas SO4
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/so4
type=real

[namelist:clmchfcg=clim_fcg_years_cfc11]
compulsory=true
description=List of years at which forcing rate or level is specified for
           =active gas CFC11
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/cfc11
type=integer

[namelist:clmchfcg=clim_fcg_years_cfc113]
compulsory=true
description=List of years at which forcing rate or level is specified for
           =active gas CFC113
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/cfc113
type=integer

[namelist:clmchfcg=clim_fcg_years_cfc114]
compulsory=true
description=List of years at which forcing rate or level is specified for
           =active gas CFC114
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/cfc114
type=integer

[namelist:clmchfcg=clim_fcg_years_cfc12]
compulsory=true
description=List of years at which forcing rate or level is specified for
           =active gas CFC12
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/cfc12
type=integer

[namelist:clmchfcg=clim_fcg_years_ch4]
compulsory=true
description=List of years at which forcing rate or level is specified for
           =active gas CH4
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/ch4
type=integer

[namelist:clmchfcg=clim_fcg_years_co2]
compulsory=true
description=List of years at which forcing rate or level is specified for
           =active gas CO2
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/co2
type=integer

[namelist:clmchfcg=clim_fcg_years_hcfc22]
compulsory=true
description=List of years at which forcing rate or level is specified for
           =active gas HCFC22
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/hcfc22
type=integer

[namelist:clmchfcg=clim_fcg_years_hfc125]
compulsory=true
description=List of years at which forcing rate or level is specified for
           =active gas HFC125
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/hfc125
type=integer

[namelist:clmchfcg=clim_fcg_years_hfc134a]
compulsory=true
description=List of years at which forcing rate or level is specified for
           =active gas HFC134a
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/hfc134a
type=integer

[namelist:clmchfcg=clim_fcg_years_n2o]
compulsory=true
description=List of years at which forcing rate or level is specified for
           =active gas N2O
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/n2o
type=integer

[namelist:clmchfcg=clim_fcg_years_so4]
compulsory=true
description=List of years at which forcing rate or level is specified for
           =active gas SO4
length=:
ns=namelist/UM Science Settings/section01/gas/clmchfcg/so4
type=integer

[namelist:clmchfcg=l_clmchfcg]
compulsory=true
description=Switch on options for time varying Greenhouse Gases
sort-key=0
trigger=namelist:clmchfcg=l_cts_fcg_rates: .true.;
       =namelist:clmchfcg=clim_fcg_levls_co2: .true.;
       =namelist:clmchfcg=clim_fcg_nyears_co2: .true.;
       =namelist:clmchfcg=clim_fcg_years_co2: .true.;
       =namelist:clmchfcg=clim_fcg_rates_co2: .true.;
       =namelist:clmchfcg=clim_fcg_levls_ch4: .true.;
       =namelist:clmchfcg=clim_fcg_nyears_ch4: .true.;
       =namelist:clmchfcg=clim_fcg_years_ch4: .true.;
       =namelist:clmchfcg=clim_fcg_rates_ch4: .true.;
       =namelist:clmchfcg=clim_fcg_levls_n2o: .true.;
       =namelist:clmchfcg=clim_fcg_nyears_n2o: .true.;
       =namelist:clmchfcg=clim_fcg_years_n2o: .true.;
       =namelist:clmchfcg=clim_fcg_rates_n2o: .true.;
       =namelist:clmchfcg=clim_fcg_levls_cfc11: .true.;
       =namelist:clmchfcg=clim_fcg_nyears_cfc11: .true.;
       =namelist:clmchfcg=clim_fcg_years_cfc11: .true.;
       =namelist:clmchfcg=clim_fcg_rates_cfc11: .true.;
       =namelist:clmchfcg=clim_fcg_levls_cfc12: .true.;
       =namelist:clmchfcg=clim_fcg_nyears_cfc12: .true.;
       =namelist:clmchfcg=clim_fcg_years_cfc12: .true.;
       =namelist:clmchfcg=clim_fcg_rates_cfc12: .true.;
       =namelist:clmchfcg=clim_fcg_levls_so4: .true.;
       =namelist:clmchfcg=clim_fcg_nyears_so4: .true.;
       =namelist:clmchfcg=clim_fcg_years_so4: .true.;
       =namelist:clmchfcg=clim_fcg_rates_so4: .true.;
       =namelist:clmchfcg=clim_fcg_levls_cfc113: .true.;
       =namelist:clmchfcg=clim_fcg_nyears_cfc113: .true.;
       =namelist:clmchfcg=clim_fcg_years_cfc113: .true.;
       =namelist:clmchfcg=clim_fcg_rates_cfc113: .true.;
       =namelist:clmchfcg=clim_fcg_levls_hcfc22: .true.;
       =namelist:clmchfcg=clim_fcg_nyears_hcfc22: .true.;
       =namelist:clmchfcg=clim_fcg_years_hcfc22: .true.;
       =namelist:clmchfcg=clim_fcg_rates_hcfc22: .true.;
       =namelist:clmchfcg=clim_fcg_levls_hfc125: .true.;
       =namelist:clmchfcg=clim_fcg_nyears_hfc125: .true.;
       =namelist:clmchfcg=clim_fcg_years_hfc125: .true.;
       =namelist:clmchfcg=clim_fcg_rates_hfc125: .true.;
       =namelist:clmchfcg=clim_fcg_levls_hfc134a: .true.;
       =namelist:clmchfcg=clim_fcg_nyears_hfc134a: .true.;
       =namelist:clmchfcg=clim_fcg_years_hfc134a: .true.;
       =namelist:clmchfcg=clim_fcg_rates_hfc134a: .true.;
       =namelist:clmchfcg=clim_fcg_levls_cfc114: .true.;
       =namelist:clmchfcg=clim_fcg_nyears_cfc114: .true.;
       =namelist:clmchfcg=clim_fcg_years_cfc114: .true.;
       =namelist:clmchfcg=clim_fcg_rates_cfc114: .true.;
type=logical

[namelist:clmchfcg=l_cts_fcg_rates]
compulsory=true
description=Switch this on so that gas rates are applied continuously
           =rather than updating at the beginning of the year
sort-key=1
type=logical

[namelist:configid]
compulsory=false
ns=namelist/Top Level Model Control/Model Identifier Code

[namelist:configid=itab]
compulsory=false
description=Model identifier code to insert into PP header.
help=See UMDP F3 documentation for LBEXP for commonly used operational settings.
    =Research users should leave this unset/zero until new scheme introduced.
    =Further advice to follow from FF/PP governance group.
type=integer

[namelist:coupling_control]
ns=namelist/Coupling

[namelist:coupling_control=l_couple_master]
compulsory=true
description=Perform atmosphere/ocean coupling through master PE
help=Perform atmosphere/ocean coupling through master PE: These switches allow you
    =to define whether coupling data is explicitly gathered or scattered to/from
    =a single master processor at the point of exchanging coupling data.
    =In principle,
    =there should be a slight performance benefit when not
    =using a master processor. The master processor facility is employed partly
    =as a means of validating the behaviour of OASIS. These switches are
    =only available when using OASIS3.
ns=namelist/Coupling
sort-key=cf01
type=logical

[namelist:coupling_control=l_oasis_icecalve]
compulsory=true
description=Include iceberg calving ancillary
help=This switches on the use of an ancillary data file which represents the freshwater flux from iceberg calving.
ns=namelist/Coupling
sort-key=cf02
type=logical

[namelist:coupling_control=l_oasis_timers]
compulsory=true
description=Timing of OASIS operations
help=Use inclusive UM timers to profile OASIS operations (init/put/get)
ns=namelist/Coupling
sort-key=cf03
type=logical

[namelist:coupling_control=oasis_couple_freq_ac]
compulsory=true
description=Atmosphere -> chemistry coupling frequency (hours) (minutes)
fail-if=(this(1) > 0 or this(2) > 0) and 1440 % ((this(1)*60) + this(2)) != 0 ;
# Frequency must be zero or a divisor of 24 hours
help=This is the coupling frequency of exchanges FROM the atmosphere
    =TO UKCA chemistry. The frequency is specified
    =in terms of whole hours and minutes.
length=2
ns=namelist/Coupling
range=0:,0:60
sort-key=cf06
type=integer

[namelist:coupling_control=oasis_couple_freq_ao]
compulsory=true
description=Atmosphere -> ocean coupling frequency (hours) (minutes)
fail-if=(this(1) > 0 or this(2) > 0) and 1440 % ((this(1)*60) + this(2)) != 0 ;
# Frequency must be zero or a divisor of 24 hours
help=This is the coupling frequency of exchanges FROM the atmosphere
    =TO NEMO-CICE (Internal NEMO-CICE coupling frequency is handled within
    =the NEMO-CICE code and does not involve OASIS). The frequency is specified
    =in terms of whole hours and minutes.
length=2
ns=namelist/Coupling
range=0:,0:60
sort-key=cf04
type=integer

[namelist:coupling_control=oasis_couple_freq_aw]
compulsory=true
description=Atmosphere -> wave coupling frequency (hours) (minutes)
fail-if=(this(1) > 0 or this(2) > 0) and 1440 % ((this(1)*60) + this(2)) != 0 ;
# Frequency must be zero or a divisor of 24 hours
help=This is the coupling frequency of exchanges FROM the atmosphere
    =TO the wave model. The frequency is specified
    =in terms of whole hours and minutes.
length=2
ns=namelist/Coupling
range=0:,0:60
sort-key=cf08
type=integer

[namelist:coupling_control=oasis_couple_freq_ca]
compulsory=true
description=Chemistry -> atmosphere coupling frequency (hours) (minutes)
fail-if=(this(1) > 0 or this(2) > 0) and 1440 % ((this(1)*60) + this(2)) != 0 ;
# Frequency must be zero or a divisor of 24 hours
help=This is the coupling frequency of exchanges FROM UKCA chemsitry
    =TO the atmosphere. The frequency is specified
    =in terms of whole hours and minutes.
length=2
ns=namelist/Coupling
range=0:,0:60
sort-key=cf07
type=integer

[namelist:coupling_control=oasis_couple_freq_oa]
compulsory=true
description=Ocean -> Atmosphere coupling frequency (hours) (minutes)
fail-if=(this(1) > 0 or this(2) > 0) and 1440 % ((this(1)*60) + this(2)) != 0 ;
# Frequency must be zero or a divisor of 24 hours
help=This is the coupling frequency of exchanges FROM NEMO-CICE
    =TO the atmosphere(Internal NEMO-CICE coupling frequency is handled within
    =the NEMO-CICE code and does not involve OASIS). The frequency is specified
    =in terms of whole hours and minutes.
length=2
ns=namelist/Coupling
range=0:,0:60
sort-key=cf05
type=integer

[namelist:coupling_control=oasis_couple_freq_wa]
compulsory=true
description=Wave -> atmosphere coupling frequency (hours) (minutes)
fail-if=(this(1) > 0 or this(2) > 0) and 1440 % ((this(1)*60) + this(2)) != 0 ;
# Frequency must be zero or a divisor of 24 hours
help=This is the coupling frequency of exchanges FROM the wave model
    =TO the atmosphere. The frequency is specified
    =in terms of whole hours and minutes.
length=2
ns=namelist/Coupling
range=0:,0:60
sort-key=cf09
type=integer

[namelist:domain]
duplicate=true
ns=namelist/Model Input and Output/STASH Requests and Profiles/domain
title=Domain Profiles

[namelist:domain=dom_name]
compulsory=true
description=Name of domain profile
help=This is the name of a domain profile
    = which can be selected in the stash panel.
    = max of 16 characters
pattern=(?# Must be between 1 and 16 characters)^'.{1,16}'$
sort-key=a10
type=character

[namelist:domain=iest]
compulsory=true
description=Eastern limit of data
help=Please provide Eastern limit of data for extracted sub domain
type=integer

[namelist:domain=ilevs]
compulsory=true
description=How would you like to select requested levels?
help=Output levels may be specified as any single contiguous range
    =or as a list of individual levels
sort-key=a21
trigger=namelist:domain=levb: 1;
       =namelist:domain=levt: 1;
       =namelist:domain=levlst: 2;
value-titles=provide range [bottom and top level numbers],
            =provide an explicit list of model levels
values=1,2

[namelist:domain=imn]
compulsory=true
description=What type of spatial meaning is required?
help=Spatial meaning option:
    =0 None
    =1 Vertical
    =2 Zonal
    =3 Meridional
    =4 Horizontal area
sort-key=a42
value-titles=None,Vertical,Zonal,Meridional,Horizontal area
values=0,1,2,3,4

[namelist:domain=imsk]
compulsory=true
description=What type of masking of grid points is required?
help=Options 1,2 and 3 are standard masking for all,
    =land and sea points;
    =Option 4 must be paired with a suitable Time profile,
    =processing for
    =max,min,
    =mean or accumulated values. It will then use all non-MDI
    =values instead of returning MDI if any value in the time window is MDI.
    =This may be useful for max/min of an intermittent field like convective
    =cloud base,
    =but be careful and check for sensible results.
sort-key=a41
value-titles=Land and sea points,Land points only,Sea points only,
            =Alternative missing data treatment for max/min (see Help)
values=1,2,3,4

[namelist:domain=inth]
compulsory=true
description=Northern limit of data
help=Please provide Northern limit of data for extracted sub domain
type=integer

[namelist:domain=iopa]
compulsory=true
description=Which domain area is required?
help=Allows output domain to be limited in various ways
sort-key=a40
trigger=namelist:domain=inth: 9,10;
       =namelist:domain=isth: 9,
       =10;
       =namelist:domain=iest: 9,10;
       =namelist:domain=iwst: 9,10;
value-titles=Full model area,northern hemisphere only,
            =southern hemisphere only,90N to 30N,30S to 90S,
            =30N to equator,equator to 30S,30N to 30S,
            =specified area in whole degrees,
            =specified area in grid points
values=1,2,3,4,5,6,7,8,9,10

[namelist:domain=iopl]
compulsory=true
description=Select vertical level type for domain profile
help=Try to choose a valid vertical level type for the variable;
    =E.g. temperature may be output on theta levels but not rho levels,
    =and can be interpolated to pressure or height levels,
    =but surface and 1.5M temperature are always single level.
sort-key=a20
trigger=namelist:domain=ilevs: 1,2,6;
       =namelist:domain=rlevlst: 3,4,
       =7,8,9;
value-titles=Variable derived on model rho levels (Charney-Phillips Grid),
            =Variable derived on model theta levels (Charney-Phillips Grid),
            =Variable on pressure levels (hPa),
            =Variable on geometric height levels,
            =Variable derived on a single or unspecified level,
            =Variable on deep soil levels,
            =Variable on constant theta surfaces (K),
            =Variables on potential vorticity levels,
            =Variables on cloud threshold levels (ocktas)
values=1,2,3,4,5,6,7,8,9

[namelist:domain=isth]
compulsory=true
description=Southern limit of data
help=Please provide Southern limit of data for extracted sub domain
type=integer

[namelist:domain=iwst]
compulsory=true
description=Western limit of data
help=Please provide Western limit of data for extracted sub domain
type=integer

[namelist:domain=iwt]
compulsory=true
description=What type of weighting is required
help=type of weighting is required
    =0 None
    =1 Horizontal
    =2 Volume
    =3 Mass
sort-key=a43
value-titles=None,Horizontal,Volume,Mass
values=0,1,2,3

[namelist:domain=levb]
compulsory=true
description=What is the bottom model level required
help=the bottom of a range between this and levt
sort-key=a22
type=integer

[namelist:domain=levlst]
compulsory=true
description=Please provide model levels list to output
help=Please provide model levels list to output,
    =code limit is 40 levels.
length=40
sort-key=a24
type=integer

[namelist:domain=levt]
compulsory=true
description=What is the top model level required
help=the top of a range between this and levb
sort-key=a23
type=integer

[namelist:domain=plt]
compulsory=true
description=Specify pseudo level type
help=TBA
sort-key=a30
trigger=namelist:domain=pslist: this !=0 ;
value-titles=None,SW radiation bands,LW radiation bands,
            =Atmospheric assimilation groups,
            =Radiation bands for calculating aerosol optical depth,
            =HadCM2 Sulphate Loading Pattern Index,
            =Land and Vegetation Surface Types,Sea ice categories,
            =Number of land surface tiles x maximum number of snow layers,
            =COSP radar reflectivity bins,COSP number of hydrometeors,
            =COSP backscattering ratio bins,COSP ISCCP tau bins,
            =COSP max. num. of subcolumns output
values=0,1,2,3,4,8,9,10,11,12,13,14,15,16

[namelist:domain=pslist]
compulsory=true
description=Please provide pseudo levels list to output
help=Please provide levels list to output,
    =code limit is 100 levels.
length=100
sort-key=a31
type=integer

[namelist:domain=rlevlst]
compulsory=true
description=Please provide levels list to output
help=Please provide levels list to output,
    =code limit is 40 levels.
length=40
sort-key=a25
type=real

[namelist:domain=tblim]
compulsory=true
description=What is the bottom model level required for ts?
help=the bottom of a range between this and ttlim,
    =provide tsnum values
length=:
sort-key=a53
type=integer

[namelist:domain=tblimr]
compulsory=true
description=What is the bottom model level required for ts?
help=the bottom of a range between this and ttlimr,
    =provide tsnum values
length=:
sort-key=a55
type=real

[namelist:domain=telim]
compulsory=true
description=Eastern limit of data for ts
help=Please provide Eastern limit of data for extracted ts
length=:
sort-key=a59
type=integer

[namelist:domain=tnlim]
compulsory=true
description=Northern limit of data for ts
help=Please provide Northern limit of data for extracted ts
length=:
sort-key=a57
type=integer

[namelist:domain=ts]
compulsory=true
description=Is this a timeseries profile?
help=Using timeseries to investigate model behaviour.
    =-------------------------------------------------
    =
    =UM timeseries can provide a useful means of looking at the behaviour
    =of the model at selected locations. This is best done by selecting a
    =small number of grid points of interest (eg because the behaviour of
    =the model with two different physics parametrisations changes at these
    =locations).  The next step is to decide which output fields are of
    =interest.  In this type of investigation it is usually useful to get
    =out timeseries with a time profile of every timestep. Fields of
    =interest would often include top of atmosphere radiation,
    =surface radiation,surface latent heat,surface sensible heat,
    =precipitation,surface temperature & or 1.5m temperature,
    =boundary layer depth. In many studies it will also be useful to
    =get out T,
    =q,qcl,qcf,layer cloud,
    =convective cloud on all model levels for the selected grid
    =points. These fields can then be plotted as model level versus time
    =sections and will show what is happening in the model.  U & V can also
    =be output but because of the grid on which u and v are held ie offset
    =by 1/2 grid length from T,
    =q grid they will not be at the same
    =locations.
    =
    =In most studies of this type a short run of 1-3 months outputting
    =timeseries is usually enough. Note that including timeseries increases
    =the memory requirements of the run. If a lot of points and fields are
    =requested every timestep the memory required will quickly exceed that
    =required in normal climate runs. It may be necessary to reinitialise
    =the timeseries on periods of less than 30 days.
    =
    =Setting up timeseries requests
    =------------------------------
    =
    =STASH time series are defined by both domain and time profiles.
    =
    =The facility allows you to specify a number of "boxes",
    =these get collapsed
    =down to point values by meaning (using any weighting defined in the domain
    =profile).
    =
    =This list of point values is written to an area of memory at intervals defined
    =by the sampling frequency in the time profile.
    =
    =The time profile also defines an over-writing period to stop the list becoming
    =too long. It is normal to output the result at the same frequency as the
    =over-writing period.
    =
    =eg.
    =days                            0           1           2           3
    =timesteps                       .............................................
    =sampling freq 12hrs                   |     |     |     |     |     |
    =over-writing freq 24hrs                     x           x           x
    =output freq 24hrs                           +           +           +
    =
    =would result in a "PP-fields" each with 2 time levels and as many points as
    =are defined in the domain profile. The "fields" would be produced each day.
    =If 3 "points" were defined,
    =the file would contain "fields" vis:
    =
    =Field 1.  VAL(point=1,
    =time=12),VAL(point=2,time=12),VAL(point=3,time=12),
    =VAL(point=1,time=24),VAL(point=2,time=24),VAL(point=3,
    =time=24)
    =Field 2.  VAL(point=1,time=36),VAL(point=2,
    =time=36),VAL(point=3,time=36),VAL(point=1,time=48),
    =VAL(point=2,time=48),VAL(point=3,
    =time=48)
    =etc.
    =
    =
    =This panel allows two methods of specifying boxes. In the first
    =method,
    =a box is specified by giving the range of points it contains
    =in both horizontal directions and the number of levels it
    =contains. Thus,
    =each line of the table describes a single box.
    =
    =The second method is used for specifying boxes of a single grid point
    =on one level. In this method,
    =a range of levels indicates one box for
    =each level. This method is quicker to set up when you want to look at
    =the same point separately on a number of levels.
    =
    =To compare the methods,
    =if you wanted to look at point 3,5 on levels
    =4,
    =5 and 6 then in the first method you would have 3 rows:
    =
    =3  3  5  5  4
    =3  3  5  5  5
    =3  3  5  5  6
    =
    =whereas in the second method you would require one row:
    =
    =3  5  4  6
    =
    =When specifying boxes of more than one gridpoint it may be that some
    =of the dimensions of the boxes may be collapsed out by other
    =attributes of the domain profile. For example,
    =doing a vertical mean
    =on the previous window will mean that a timeseries on more than one
    =level is not relevant. In such cases,
    =the unused columns in the table
    =are disabled.
    =
    =Only the atmospheric model allows true boxes at present. Other models can
    =only deal with points,
    =so specify the "first" and "last" dimensions as
    =the same,
    =or use the second method of specifying timeseries.
    =
    =It is normal to specify the full horizontal domain in the HORIZONTAL window of
    =a time series profile. Spatial averaging is not normally required.
    =
    =All dimensions must lie within the box defined by the rest of the profile.
    =
    =Special PP-package programs are required to access time-series.
sort-key=a50
trigger=namelist:domain=tsnum: .true.;
       =namelist:domain=tblim: .true.;
       =namelist:domain=ttlim: .true.;
       =namelist:domain=tblimr: .true.;
       =namelist:domain=ttlimr: .true.;
       =namelist:domain=tnlim: .true.;
       =namelist:domain=tslim: .true.;
       =namelist:domain=telim: .true.;
       =namelist:domain=twlim: .true.;
type=logical

[namelist:domain=tslim]
compulsory=true
description=Southern limit of data for ts
help=Please provide Southern limit of data for extracted ts
length=:
sort-key=a58
type=integer

[namelist:domain=tsnum]
compulsory=true
description=How many time series domains are required?
help=See ts help.
range=0:
sort-key=a52
trigger=namelist:domain=tblim: this > 0;
       =namelist:domain=ttlim: this > 0;
       =namelist:domain=tblimr: this > 0;
       =namelist:domain=ttlimr: this > 0;
       =namelist:domain=tnlim: this > 0;
       =namelist:domain=tslim: this > 0;
       =namelist:domain=telim: this > 0;
       =namelist:domain=twlim: this > 0;
type=integer

[namelist:domain=ttlim]
compulsory=true
description=What is the top model level required for ts?
help=the top of a range between this and tblim,
    =provide tsnum values
length=:
sort-key=a54
type=integer

[namelist:domain=ttlimr]
compulsory=true
description=What is the top model level required for ts?
help=the top of a range between this and tblimr,
    =provide tsnum values
length=:
sort-key=a56
type=real

[namelist:domain=twlim]
compulsory=true
description=Western limit of data for ts
help=Please provide Western limit of data for extracted ts
length=:
sort-key=a60
type=integer

[namelist:gen_phys_inputs]
compulsory=true
ns=namelist/UM Science Settings/General Physics Options

[namelist:gen_phys_inputs=l_leads_temp_prog]
compulsory=true
description=Set temperature of sea ice leads
help=Switch for leads temperature -
    =If FALSE,
    =leads are set to TFS (freezing temperature of sea water).
    =If TRUE,
    =leads temperatures are prognostic values.
value-titles=Freezing temperature of sea water(TFS),
            =Allow temperature to be prognostic
values=.false.,.true.

[namelist:gen_phys_inputs=l_mr_physics1]
compulsory=true
description=Use mixing ratios in atmos_physics1
help=Use mixing ratios in atmos_physics1
    =The use of mixing ratios in the physics is controlled by two switches.
    =The first (l_mr_physics1) covers atmos_physics1 - radiation,
    =micro-physics and GWD.
    =The second (l_mr_physics2) covers atmos_physics2 - boundary layer,
    =hydrology and convection.
type=logical

[namelist:gen_phys_inputs=l_mr_physics2]
compulsory=true
description=Use mixing ratios in atmos_physics2
help=Use mixing ratios in atmos_physics2
    =The use of mixing ratios in the physics is controlled by two switches.
    =The first (l_mr_physics1) covers atmos_physics1 - radiation,
    =micro-physics and GWD.
    =The second (l_mr_physics2) covers atmos_physics2 - boundary layer,
    =hydrology and convection.
type=logical

[namelist:gen_phys_inputs=l_use_methox]
compulsory=true
description=Use methane oxidation
help=Selecting 'use methane oxidation' allows the calculation of
    =chemical water vapour change due to methane oxidation and photolysis,
    =following  the method used at ECMWF (Untch et al (ECMWF Newsletter No
    =87,
    =winter 1998/99,
    =pp 2-8) and Simmons (pers. comm.)).  The model
    =methane mixing ratio is implicit,
    =and derived from the assumption that
    =2 [CH4] + [H2O] = 3.75  ppmm throughout the stratosphere.
    =
    =The methane oxidation and hydrogen photolysis rate coefficients vary
    =only with pressure,
    =and are calculated within the code assuming a
    =surface pressure of 1000 hPa.
type=logical

[namelist:headers]
compulsory=true
description=If no options present select "View Latent Variables" to view and
           =add overides to the fixed header of the output dump.
ns=namelist/Reconfiguration and Ancillary Control/headers
sort-key=a4
title=Output dump fixed header overrides

[namelist:headers=i_dump_year]
compulsory=false
description=Override the year in the dump fixed header
help=The reconfiguration will override items 21 and 28 in the dump fixed
    =header. Please see UMDP F3 for more details of dump fixed header
    = items.
range=0:9999
type=integer

[namelist:horizont]
compulsory=true
ns=namelist/Reconfiguration and Ancillary Control/horizont
sort-key=a2
title=Horizontal interpolation

[namelist:horizont=h_int_method]
compulsory=true
description=Horizontal interpolation method
help=The reconfiguration can perform one of three horizontal interpolation
    =techniques:
    =
    =Bi-linear: Standard bi-linear interpolation based on calculating a weight
    =for each of the four source grid points surrounding the target point. Uses
    =the routine h_int_bl (src/control/grids/h_int_bl.F90)
    =
    =Area-weighted: Interpolation based on the area-weighted contribution of source
    =grid boxes to the target grid boxes.  This technique should only be used
    =when the domains of the target and source grids are identical and no pole
    =rotations are being performed.  Uses the routine box_sum (trunk/src/utility/
    =qxreconf/box_sum.F90)
    =
    =Nearest neighbour: Target grid point takes its value from the nearest source
    =grid point.  Should only be used for cutting out data of the same resolution.
    =When using this option the items namelists will be ignored
    =as the intention is to not alter the source of the output fields and
    =instead have all fields taken from the input dump.
value-titles=Bilinear,Area-weighted,Nearest neighbour
values=1,2,3

[namelist:horizont=l_limit_rotations]
compulsory=true
description=Avoid rotating grid when interpolating
help=Avoid rotating grid when interpolating,
    =useful when target LAM uses same rotated pole coords as driving model.
type=logical

[namelist:horizont=orog_blend_weights]
compulsory=true
description=Orography blending zone weights.
help=Orography blending zone weights.
length=:
range=0:1
type=real

[namelist:horizont=smcp_int_nearest_neighbour]
compulsory=true
description=Use nearest-neighbour interpolation for soil moisture properties
help=Use nearest-neighbour interpolation for soil moisture properties
type=logical

[namelist:iau_nl]
compulsory=true
description=iau_nl
help=The Incremental Analysis Update (IAU) scheme provides a means of adding
    = increments to the model fields during a model integration. For full details,
    =see UMDP 31.
    =
    = Typically,
    =the IAU scheme is used to add a single analysis increment or
    = ensemble perturbation to the model. If this increment is sufficiently
    = well-balanced,
    =it can be added at a single time. Otherwise,
    =it should be
    = added gradually over a series of timesteps,
    =using a suitably-designed weighting
    = function (time filter) to remove some of the gravity-wave noise. In both cases,
    =the "Specify filter for first increment file" option should be selected,
    =and
    = the IAU insertion period and filter design specified. If using a single-time
    = insertion,
    =select the uniform filter. Otherwise,
    =select from one of the five
    = filter types supported by the IAU code:
    =
    = - Uniform:          Flat weighting function.
    = - Triangular:       Triangular weighting function with its apex at the
    =                     specified time within the insertion period.
    = - Lanczos windowed: As above,
    =but including the so-called Lanczos window to
    =                     remove Gibbs oscillations.
    = - Dolph:            The filter which gives the smallest maximum frequency
    =                     response for periods below the specified "stop-band edge"
    =                     period.
    =
    = To avoid phase errors,
    =the validity time of the increments should lie at the
    = centre of the insertion period. Appendix B of UMDP 31 explains in more detail
    = the issues to consider when selecting the filter settings.
    =
    = If supplying more than one increment file,
    =the filepaths for the second and
    = subsequent files are obtained by adding "NN" to the path of the first
    = increment file,
    =where "NN" is the increment file number. In this case,
    =the
    = insertion details for the second file onwards are determined from data in their
    = fixed headers. If FIXHD(10) is set to 0,
    =the increments are added in full at
    = the UM timestep nearest the verification time. Otherwise,
    =the increments
    = are assumed to be tendencies for the period between the verification time and
    = the data time,
    =with the shape of the IAU weighting function determined by the
    = value of FIXHD(10). If the "Specify filter for first increment file" option is
    = not selected,
    =the first increment will be treated in the same way,
    =even if
    = supplying just one increment file.
    =
    = The above functionality is designed to support the addition of model error
    = increments generated by our 4D-Var scheme. For further details,
    =see VAR
    = Scientific Documentation Paper no.51.
    =
    = On calls to the IAU scheme,
    =model fields can be updated in two ways:
    =
    =   1. Directly,
    =via corresponding increment fields in the IAU increment files.
    =   2. Indirectly,
    =via the increments to other fields.
    =
    = Currently,
    =direct incrementing is supported for the following fields:
    =
    =   u,
    =v,w,theta,rho,exner,p,q,qCL,qCF,murk (aerosol),ozone,
    =sfctemp,soilm,tsoil
    =
    = Sfctemp,
    =tsoil and soilm are used as initial perturbations in ensemble forecasts.
    = Sfctemp is passed to TStar (at all points) and to TStar_tile and TSoil(1)
    = over land. Soilm and tsoil are passed to all soil levels.
    = These fields are automatically processed if present in the increment file.
    =
    = theta,
    =rho and exner may also be updated indirectly via the following
    = relationships:
    =
    =   exner - expression in terms of p
    =   theta - hydrostatic equation
    =   rho   - equation of state
    =
    = These three options are activated via the following buttons:
    =
    =   "Calculating exner increments from p increments"
    =   "Calculating theta increments from exner and q increments"
    =   "Calculating rho   increments from exner, theta and q increments"
    =
    = When one of these options is activated,
    =direct updates to the corresponding
    = field are switched off.
    =
    = As well as the above set of fields,
    =the IAU increment files may also contain
    = increments to the total specific humidity qT. When qT increments are available,
    =the routine Gen_VarDiagCloud is used to diagnose the increments to q and qCL.
    = If the "Diagnose qCF as well as q and qCL incs if providing qT incs" button is
    = selected,
    =increments to qCF are also calculated. The option "Scale cloud
    = incs diagnosed from qT incs to be within physical limits" is normally used only
    = when "Diagnose qCF as well as q and qCL incs if providing qT incs" is switched
    = on.
    =
    = The only other indirect incrementing option is to pass on the level-one
    = temperature increments to the surface temperature fields (TStar and TStar_tile)
    = at land points,
    =and the top-level soil temperature (TSoil(1)) field.
    =
    = Increments to u,
    =v,
    =and w are always passed on to their advected counterparts
    = u_adv,
    =v_adv and w_adv; this is not optional.
    =
    = At the end of the IAU routine,
    =there is an optional call to the routine
    = QLimits,
    =which is used to apply limits to the tropospheric and
    = non-tropospheric humidities after they have been updated via the latest set of
    = increments. The panel allows the user to specify when this routine is called,
    =and to supply the set of control parameters it uses. These divide into two
    = sets; the parameters used to diagnose which points are to be considered
    = tropospheric,
    =and the humidity limits themselves.
    =
    = Other switches and variables,
    =with defaults:
    =
    =   L_IAU_ResetPoles               (F)     Reset polar rows to their mean values?
    =   L_IAU_LimitUpperThetaIncs      (F)     Apply limits to size of upper-level
    =                                          theta increments?
    =   IAU_LimitUpperThetaIncs_pBound (200.0) - Pressure boundary (Pa).
    =   IAU_LimitUpperThetaIncs_maxInc (100.0) - Maximum abs value of increment after
    =                                            multiplication by IAU weight (K).
    =   L_IAU_SetOzoneMin              (F)     Reset to oz_min if ozone was negative?
    =   L_IAU_IgnoreTopLevThetaIncs    (F)     Ignore theta incs for top model level?
    =
    =   L_IAU_UseSfcTempPerts          (F)     Add perturbations of surface temperature
    =                                          to TStar & TStar_tile (if available)
    =   L_IAU_UseSoilmPerts            (F)     Add perturbations of soil moisture
    =                                          to SMCL (if available in increment file)
    =   L_IAU_UseTsoilPerts            (F)     Add perturbations of deep soil temperature
    =                                          to TSoil (if available in increment file)
    =
    = Assimilation of Lake Surface Temperature:
    =
    = If the check button "Add T1 incs to surface temp and top soil-level temp" is selected
    = at versions of the UM before 8.0 this increment is applied to all surface tiles,
    =including lakes. This has been found to be detrimental if the thermal
    = properties of lakes imply large thermal inertia. At vn8.0 an option has been
    = introduced to disable assimilation of lake surface temperature in this case,
    =with
    = assimilation disabled by default.
    =
    =
    = --------------------------------------------------------------------------------
    =
    = Namelist revisions from vn7.6 onwards:
    =
    =   At UM vn7.6,
    =the IAU namelist was heavily revised. In particular,
    =the
    =   following variables were removed:
    =
    =     L_IAU_Diags
    =     L_IAU_LowMem
    =     L_IAU_CalcCloudIncs
    =     L_IAU_CallStratQ
    =
    =   and the following variables were renamed:
    =
    =     L_IAU_UPPER_THETA -> L_IAU_LimitUpperThetaIncs
    =     IAU_LL_strat_pv   -> IAU_trop_max_PV
    =     IAU_UL_strat_p    -> IAU_nonTrop_max_p
    =     IAU_LL_trop_p     -> IAU_trop_min_p
    =     IAU_trop_RHmin    -> IAU_trop_min_RH
    =
    =   L_IAU_CallStratQ has been replaced by the
    =   "QLimits call frequency" option.
    =
    =   For full details,
    =see appendix A.2 of UMDP 31.
ns=namelist/Data Assimilation/iau
title=Incremental Analysis Update Scheme

[namelist:iau_nl=diagcloud_applycomplimits]
compulsory=true
description=Avoid machine precision issues in Var_DiagCloud
help=Take measures to avoid machine precision issues in Var_DiagCloud
type=logical

[namelist:iau_nl=diagcloud_nummaxloops]
compulsory=true
description=Maximum number of loops for convergence in Var_DiagCloud
range=50:
type=integer

[namelist:iau_nl=diagcloud_qn_compregimelimit]
compulsory=true
description=Rounding errors computation limit
help=Variable used to define limits of regime within which
    =computation is not affected by rounding errors
type=real

[namelist:iau_nl=diagcloud_tol_fm]
compulsory=true
description=Tolerance for (1-FM)==0 tests in Var_DiagCloud
type=real

[namelist:iau_nl=diagcloud_tol_q]
compulsory=true
description=Tolerance for qcl==0,qcf==0 tests in Var_DiagCloud
type=real

[namelist:iau_nl=iau_apexmin]
compulsory=true
description=Apex minute for Triangular filter
range=0:
sort-key=a7
type=integer

[namelist:iau_nl=iau_cutoff_period]
compulsory=true
description=Cut-off period for LancWin filter in hours
range=0:
sort-key=a8

[namelist:iau_nl=iau_endmin]
compulsory=true
description=End minute of filtering period
fail-if=this < namelist:iau_nl=iau_startmin
sort-key=a6
type=integer

[namelist:iau_nl=iau_filtertype]
compulsory=true
description=filter type
help=Time-dependent weighting function for IAU increments
    = (for single-time step insertion,
    =choose 'Uniform')
sort-key=a4
trigger=namelist:iau_nl=iau_apexmin: 'Triangular';
       =namelist:iau_nl=iau_cutoff_period: 'LancWin';
       =namelist:iau_nl=iau_sbe_period: 'Dolph'
value-titles='Uniform','Triangular','LancWin','Dolph'
values=1,2,3,4

[namelist:iau_nl=iau_nontrop_max_p]
compulsory=true
description=Maximum non-trop pressure
range=0:1.0e5
type=real

[namelist:iau_nl=iau_nontrop_max_q]
compulsory=true
description=Upper limit to apply to non-trop q
help=Upper limit to apply to non-tropospheric moisture
type=real

[namelist:iau_nl=iau_nontrop_max_rh]
compulsory=true
description=Maximum non-tropospheric RH
range=0:1
type=real

[namelist:iau_nl=iau_nontrop_min_q]
compulsory=true
description=Lower limit to apply to non-trop q
help=Lower limit to apply to non-tropospheric moisture
range=0:0.0001
type=real

[namelist:iau_nl=iau_qlimitscallfreq]
compulsory=true
description=QLimits call frequency (usually 2)
trigger=namelist:iau_nl=iau_trop_min_rh: 1,2,
       =3;
       =namelist:iau_nl=l_iau_rmnontropqincs: 1,2,
       =3;
       =namelist:iau_nl=iau_trop_min_p: 1,2,
       =3;
       =namelist:iau_nl=iau_trop_max_pv: 1,2,
       =3;
       =namelist:iau_nl=iau_nontrop_max_p: 1,2,3
values=0,1,2,3

[namelist:iau_nl=iau_sbe_period]
compulsory=true
description=Stop-band edge period for Dolph filter
range=0:
sort-key=a9
type=real

[namelist:iau_nl=iau_startmin]
compulsory=true
description=Start minute of filtering period
sort-key=a5
type=integer

[namelist:iau_nl=iau_trop_max_pv]
compulsory=true
type=real

[namelist:iau_nl=iau_trop_min_p]
compulsory=true
type=real

[namelist:iau_nl=iau_trop_min_rh]
compulsory=true
description=Lower limit to apply to tropospheric RH
range=0:1
type=real

[namelist:iau_nl=l_iau]
compulsory=true
description=Switches IAU scheme on/off
fail-if=this == ".true." and namelist:nlstcgen=steps_per_periodim % 24 != 0;
       =# Model steps must coincide with whole hours for IAU reset time
sort-key=a1
trigger=namelist:iau_nl=num_iau_incs: .true.;
       =namelist:iau_nl=l_iau_specifyinc1filter: .true.;
       =namelist:iau_nl=iau_filtertype: .true.;
       =namelist:iau_nl=iau_startmin: .true.;
       =namelist:iau_nl=iau_endmin: .true.;
       =namelist:iau_nl=iau_apexmin: .true.;
       =namelist:iau_nl=iau_cutoff_period: .true.;
       =namelist:iau_nl=iau_sbe_period: .true.;
       =namelist:iau_nl=l_iau_incdiags: .true.;
       =namelist:iau_nl=l_iau_calcexnerincs: .true.;
       =namelist:iau_nl=l_iau_calcthetaincs: .true.;
       =namelist:iau_nl=l_iau_calcrhoincs: .true.;
       =namelist:iau_nl=l_iau_inctstar: .true.;
       =namelist:iau_nl=l_iau_inctstar_tile: .true.;
       =namelist:iau_nl=l_iau_inctsurf_snow: .true.;
       =namelist:iau_nl=l_iau_usesoilmperts: .true.;
       =namelist:iau_nl=l_iau_usetsoilperts: .true.;
       =namelist:iau_nl=l_iau_usesfctempperts: .true.;
       =namelist:iau_nl=l_iau_resetpoles: .true.;
       =namelist:iau_nl=l_iau_applyqtcorrections: .true.;
       =namelist:iau_nl=l_iau_add_qt_prime_to_q: .true.;
       =namelist:iau_nl=l_iau_dumpts0state: .true.;
       =namelist:iau_nl=l_iau_incrementice: .true.;
       =namelist:iau_nl=l_iau_scalecloud: .true.;
       =namelist:iau_nl=l_iau_limitupperthetaincs: .true.;
       =namelist:iau_nl=l_iau_setozonemin: .true.;
       =namelist:iau_nl=l_iau_qlimitsdiags: .true.;
       =namelist:iau_nl=iau_qlimitscallfreq: .true.;
       =namelist:iau_nl=l_iau_rmnontropqincs: .true.;
       =namelist:iau_nl=iau_trop_min_rh: .true.;
       =namelist:iau_nl=iau_nontrop_max_rh: .true.;
       =namelist:iau_nl=iau_nontrop_max_q: .true.;
       =namelist:iau_nl=iau_nontrop_min_q: .true.;
       =namelist:iau_nl=iau_trop_min_p: .true.;
       =namelist:iau_nl=iau_trop_max_pv: .true.;
       =namelist:iau_nl=iau_nontrop_max_p: .true.;
       =namelist:iau_nl=l_iau_ignoretoplevthetaincs: .true.;
       =namelist:iau_nl=diagcloud_applycomplimits: .true.;
       =namelist:iau_nl=diagcloud_nummaxloops: .true.;
       =namelist:iau_nl=diagcloud_tol_q: .true.;
       =namelist:iau_nl=diagcloud_tol_fm: .true.;
       =namelist:iau_nl=diagcloud_qn_compregimelimit: .true.;
       =namelist:nlcfiles=iau_inc: .true.;
type=logical

[namelist:iau_nl=l_iau_add_qt_prime_to_q]
compulsory=true
description=add qt_prime to q,bypassing Var_DiagCloud
trigger=namelist:iau_nl=diagcloud_applycomplimits: .false.;
       =namelist:iau_nl=diagcloud_nummaxloops: .false.;
       =namelist:iau_nl=diagcloud_tol_q: .false.;
       =namelist:iau_nl=diagcloud_tol_fm: .false.;
       =namelist:iau_nl=diagcloud_qn_compregimelimit: .false.
type=logical

[namelist:iau_nl=l_iau_applyqtcorrections]
compulsory=true
description=Apply corrections for processing of qT incs
type=logical

[namelist:iau_nl=l_iau_calcexnerincs]
compulsory=true
description=Use p increments to calculate exner incs
help=Use p increments to calculate exner incs as an
    = alternative to using incs in increment file
type=logical

[namelist:iau_nl=l_iau_calcrhoincs]
compulsory=true
description=Calculate rho increments from exner,theta and q incs
help=Calculate rho increments from exner,
    =theta and q increments as an
    = alternative to using incs in increment file
type=logical

[namelist:iau_nl=l_iau_calcthetaincs]
compulsory=true
description=Use p increments using exner and q incs
help=Calculate theta increments using exner and q incs as an
    = alternative to using incs in increment file
type=logical

[namelist:iau_nl=l_iau_dumpts0state]
compulsory=true
description=Write dump immediately after TS 0 call to IAU
help=Write out model state immediately after timestep-zero call to IAU
type=logical

[namelist:iau_nl=l_iau_ignoretoplevthetaincs]
compulsory=true
description=Ignore top-level theta increments
type=logical

[namelist:iau_nl=l_iau_incdiags]
compulsory=true
description=Write increment diagnostics?
help=Switch to enable IAU diagnostics
type=logical

[namelist:iau_nl=l_iau_incrementice]
compulsory=true
description=Diagnose ice cloud increments from qT increments
help=Diagnose ice cloud increments as well as humidity and liquid
    =cloud increments from qT increments
type=logical

[namelist:iau_nl=l_iau_inctstar]
compulsory=true
description=Increment surface temperature
help=Add level-one temperature increments to surface temperature and
    =top-level soil temperature
type=logical

[namelist:iau_nl=l_iau_inctstar_tile]
compulsory=true
description=Increment surface temperature on tiles
help=Add level-one temperature increments to surface temperature on
    =land-surface tiles
type=logical

[namelist:iau_nl=l_iau_inctsurf_snow]
compulsory=true
description=Increment snow temperature
help=Add level-one temperature increments to snow temperature
type=logical

[namelist:iau_nl=l_iau_limitupperthetaincs]
compulsory=true
description=Limit size of upper level theta increments
type=logical

[namelist:iau_nl=l_iau_qlimitsdiags]
compulsory=true
description=Write diagnostics from QLimits
type=logical

[namelist:iau_nl=l_iau_resetpoles]
compulsory=true
description=Reset polar rows to mean values
help=Reset polar rows of relevant increment fields to their mean values
type=logical

[namelist:iau_nl=l_iau_rmnontropqincs]
compulsory=true
description=Remove non-tropospheric q increments
help=Remove non-tropospheric moisture increments
trigger=namelist:iau_nl=iau_nontrop_max_rh: .false.;
       =namelist:iau_nl=iau_nontrop_max_q: .false.;
       =namelist:iau_nl=iau_nontrop_min_q: .false.
type=logical

[namelist:iau_nl=l_iau_scalecloud]
compulsory=true
description=Scale diagnosed humidity and cloud increments to be within
           =physical bounds
help=If diagnosing humidity and cloud increments from qT increments,
    =scale increments to be within physical bounds
type=logical

[namelist:iau_nl=l_iau_setozonemin]
compulsory=true
description=Reset negative ozone values to ozone min
type=logical

[namelist:iau_nl=l_iau_specifyinc1filter]
compulsory=true
description=Specify filter for first increment file?
sort-key=a3
trigger=namelist:iau_nl=iau_filtertype: .true.;
       =namelist:iau_nl=iau_startmin: .true.;
       =namelist:iau_nl=iau_endmin: .true.;
       =namelist:iau_nl=iau_apexmin: .true.;
       =namelist:iau_nl=iau_cutoff_period: .true.;
       =namelist:iau_nl=iau_sbe_period: .true.;
type=logical

[namelist:iau_nl=l_iau_usesfctempperts]
compulsory=true
description=Include surface temperature perturbations
help=Include surface temperature perturbations and add to TStar
    =and top-level soil temperature
type=logical

[namelist:iau_nl=l_iau_usesoilmperts]
compulsory=true
description=Add soil moisture perturbations to soil-levels
type=logical

[namelist:iau_nl=l_iau_usetsoilperts]
compulsory=true
description=Add deep soil temperature perturbations to soil-levels
type=logical

[namelist:iau_nl=num_iau_incs]
compulsory=true
description=Number of increment files
range=1:9999
sort-key=a2
type=integer

[namelist:idealise]
compulsory=true
ns=namelist/UM Science Settings/section10/Idealised

[namelist:idealise=aa_jet_a]
compulsory=true
description=
help=
type=real

[namelist:idealise=aa_jet_m]
compulsory=true
description=
help=
type=integer

[namelist:idealise=aa_jet_n]
compulsory=true
description=
help=
type=integer

[namelist:idealise=aa_jet_u0]
compulsory=true
description=
help=
type=real

[namelist:idealise=b_const]
compulsory=true
description=Baroclinic wave parameter.
help=A deep atmosphere baroclinic wave parameter.
type=integer

[namelist:idealise=base_frictional_timescale]
compulsory=true
description=Used with Held-Suarez experiment
help=Used with Held-Suarez (dynamical core) experiment
    =(default = 1.1574e-5)
range=0:
type=real

[namelist:idealise=base_xi1]
compulsory=true
description=
help=
type=real

[namelist:idealise=base_xi2]
compulsory=true
description=
help=
type=real

[namelist:idealise=big_factor]
compulsory=true
description=Multiplication factor
help=Multiplication factor big_layers/normal layers
    =
    =Used with namelist:idealise=grid_number 5
    =
    =It has a value between 0 and 1
    =
    =(default = 1.0)
range=0.0:1.0
type=real

[namelist:idealise=big_layers]
compulsory=true
description=Number of big layers
help=Number of big layers (1 or 2 usually)
    =
    =Used with namelist:idealise=grid_number 5
    =
    =Also used with namelist:idealise=tprofile_number 4
    =
    =(default = 0)
range=0:
type=integer

[namelist:idealise=brunt_vaisala]
compulsory=true
description=Brunt-Vaisala frequency
help=Brunt-Vaisala frequency g*(dtheta/dz)/theta
    =
    =For use with namelist:idealise=tprofile_number 3
    =
    =(default = 0.01)
type=real

[namelist:idealise=cool_rate]
compulsory=true
description=
help=
type=real

[namelist:idealise=delta_xi1]
compulsory=true
description=
help=
type=real

[namelist:idealise=delta_xi1_h]
compulsory=true
description=
help=
type=real

[namelist:idealise=delta_xi1_l]
compulsory=true
description=
help=
type=real

[namelist:idealise=delta_xi2]
compulsory=true
description=
help=
type=real

[namelist:idealise=delta_xi2_h]
compulsory=true
description=
help=
type=real

[namelist:idealise=delta_xi2_l]
compulsory=true
description=
help=
type=real

[namelist:idealise=diffuse_dse_ap1]
compulsory=true
description=
help=
type=logical

[namelist:idealise=diffuse_dse_ap2]
compulsory=true
description=
help=
type=logical

[namelist:idealise=diffuse_q_ap1]
compulsory=true
description=
help=
type=logical

[namelist:idealise=diffuse_q_ap2]
compulsory=true
description=
help=
type=logical

[namelist:idealise=diffuse_u_ap1]
compulsory=true
description=
help=
type=logical

[namelist:idealise=diffuse_u_ap2]
compulsory=true
description=
help=
type=logical

[namelist:idealise=diffuse_v_ap1]
compulsory=true
description=
help=
type=logical

[namelist:idealise=diffuse_v_ap2]
compulsory=true
description=
help=
type=logical

[namelist:idealise=dmptim]
compulsory=true
description=Reciprocal of damping timescale
help=Reciprocal of damping timescale for damping layer
    =
    =(default = 0.0)
range=0:
type=real

[namelist:idealise=do_evap_ap1]
compulsory=true
description=
help=
type=logical

[namelist:idealise=do_evap_ap2]
compulsory=true
description=
help=
type=logical

[namelist:idealise=do_limit_surf_theta]
compulsory=true
description=
help=
type=logical

[namelist:idealise=do_precip_ap1]
compulsory=true
description=
help=
type=logical

[namelist:idealise=do_precip_ap2]
compulsory=true
description=
help=
type=logical

[namelist:idealise=do_radiation_lw_ap1]
compulsory=true
description=
help=
type=logical

[namelist:idealise=do_radiation_lw_ap2]
compulsory=true
description=
help=
type=logical

[namelist:idealise=do_radiation_sw_ap1]
compulsory=true
description=
help=
type=logical

[namelist:idealise=do_radiation_sw_ap2]
compulsory=true
description=
help=
type=logical

[namelist:idealise=do_surface_drag_ap1]
compulsory=true
description=
help=
type=logical

[namelist:idealise=do_surface_drag_ap2]
compulsory=true
description=
help=
type=logical

[namelist:idealise=do_surface_flux_ap1]
compulsory=true
description=
help=
type=logical

[namelist:idealise=do_surface_flux_ap2]
compulsory=true
description=
help=
type=logical

[namelist:idealise=dtheta_dz1]
compulsory=true
description=Lapse rate dtheta/dz
help=Lapse rate dtheta/dz (K/m) for 3 layers for use with
    =namelist:idealise=tprofile_number 1
    =
    =(default dtheta_dz1(i) = 0.01)
length=3
type=real

[namelist:idealise=eccentricity]
compulsory=true
description=
help=
type=real

[namelist:idealise=f_plane]
compulsory=true
description=Latitude for desired f-plane
help=Latitude (in degrees) for desired f-plane.
    =
    =Set greater than -90.0 to activate
    =
    =(default = -90.0)
range=-90.0:90.0
type=real

[namelist:idealise=ff_plane]
compulsory=true
description=Latitude for desired ff-plane
help=Latitude (in degrees) for desired ff-plane.
    =
    =Set greater than -90.0 to activate
    =
    =(default = -90.0)
range=-90.0:90.0
type=real

[namelist:idealise=first_constant_r_rho_level_new]
compulsory=true
description=First constant height level above orography
help=First constant height level above orography
    =
    =There is no default for this.  This must be set!
range=1:
type=integer

[namelist:idealise=first_theta_height]
compulsory=true
description=Height of lowest theta level
help=Height of lowest theta level (in metres)
    =
    =(default = 10.0)
range=0:
type=real

[namelist:idealise=fric_number]
compulsory=true
description=Choice of friction
help=Parameterised boundary layer drag/friction (Rayleigh friction)
    =0: No drag (default)
    =1: Held-Suarez Drag Scheme 1
    =2: Held-Suarez Drag Scheme 2
ns=namelist/UM Science Settings/section10/Idealised/Planets
value-titles=No Drag,Held-Suarez Drag 1,Held-Suarez Drag 2
values=0,1,2

[namelist:idealise=grid_flat]
compulsory=true
description=Options for vertical flattening above orography
help=Options for vertical flattening above orography
    =
    =0: Linear Flattening of grid levels from surface to first_constant_r_rho_levels
    =1: Original linear flattening from boundary layer to namelist:idealise=first_constant_rho_level
    =2: Linear flattening from level 1 to namelist:idealise=first_constant_rho_level
    =3: (default) Quadratic flattening from surface to namelist:idealise=first_constant_rho_level
ns=namelist/UM Science Settings/section10/Idealised/Grid
value-titles=Linear flattening from surface to first_constant_r_rho_levels,
            =Original linear flattening from boundary layer,
            =Linear flattening from level 1,
            =Quadratic flattening from surface
values=0,1,2,3

[namelist:idealise=grid_np_lat]
compulsory=true
description=Latitude of grid's north pole
help=Latitude of grid's north pole, in degrees.
ns=namelist/UM Science Settings/section10/Idealised/Grid
type=real

[namelist:idealise=grid_np_lon]
compulsory=true
description=Longitude of grid's north pole
help=Longitude of grid's north pole, in degrees.
ns=namelist/UM Science Settings/section10/Idealised/Grid
type=real

[namelist:idealise=grid_number]
compulsory=true
description=Options for vertical grid spacing definition (height)
help=Options for vertical grid spacing definition (height)
    =
    =1:  Regular
    =21: Quadratic theta grid (u levels midway)
    =22: Separate Quadratic theta and u grids
    =23: Common Quadratic theta and u grid
    =3:  Stretched grid used by Schar
    =4:  Stretched grid used by DWD
    =5:  Stretched grid followed by regular big layers
    =6:  Quadratic grid followed by stretched layers plus thin layer near surface
    =8:  Geometrically stretched Theta levels (vert_grid_ratio)
    =10: (default) As defined by input dump/vertical levels namelist (i.e. no change)
ns=namelist/UM Science Settings/section10/Idealised/Grid
value-titles=Regular,Stretched (Schar),Stretched (DWD),
            =Stretched then regular,Quadratic then stretched,
            =Geometrically stretched,Defined by namelist/dump,
            =Quadratic theta grid (u levels mid-way),
            =Separate quadratic theta & u grids,
            =Common quadratic theta & u grid
values=1,3,4,5,6,8,10,21,22,23

[namelist:idealise=grow_steps]
compulsory=true
description=Number of timesteps over which orography is grown
help=Number of timesteps over which orography is grown
    =
    =A value of 0 means no growing
range=0:
type=integer

[namelist:idealise=h_o]
compulsory=true
description=Maximum mountain height
help=Maxiumum mountain height (metres)
    =
    =Note: If surface type 3 is selected the plateau height is h_o
    =
    =(default = 0.0)
range=0.0:
type=real

[namelist:idealise=half_width_x]
compulsory=true
description=Specify width of mountain
help=Specify width of mountain
    =
    =For use with namelist:idealise=surface_type 1,
    =2,3,4,
    =6
    =
    =The horizontal East-West distance (metres) from the peak (h_o)
    =to where the hill is at height h_0/2
    =
    =For surface type 5 these are horizontal distances fron the centre
    =of the domain defining the half width of the zone to keep the real orography
    =(from the dump)
    =
    =(default=2500000.0)
range=0:
type=real

[namelist:idealise=half_width_y]
compulsory=true
description=Specify width of mountain
help=Specify width of mountain
    =
    =For use with namelist:idealise=surface_type 1,
    =2,3,4,
    =6
    =
    =The horizontal North-South distance (metres) from the peak (namelist:idealise=h_o)
    =to where the hill is at height h_o/2
    =
    =For surface type 5 these are horizontal distances from the centre
    =of the domain defining the half width of the zone to keep the real orography
    =(from the dump)
    =
    =(default = 2500000.0)
range=0:
type=real

[namelist:idealise=hdmp]
compulsory=true
description=Height scale of damping layer
help=Height scale of damping layer
range=0:
type=real

[namelist:idealise=height_domain]
compulsory=true
description=Height of lid for domain
help=Height of lid for domain in metres (default = 10000.0)
    =
    =Note: Stretched grids may change this value
    =(e.g. namelist:idealise=grid_number set to 5)
ns=namelist/UM Science Settings/section10/Idealised/Grid
range=0:
type=real

[namelist:idealise=height_dz1]
compulsory=true
description=Layer boundaries for dtheta/dz
help=Layer boundaries for dtheta/dz values (m)
    =
    =For use with namelist:idealise=tprofile_number 1
    =
    =(default height_dz1(i) = 0.0)
length=2
range=0.0:
type=real

[namelist:idealise=height_u_in]
compulsory=true
description=Heights corresponding to u_in and v_in
help=Heights at which namelist:idealise=u_in and namelist:idealise=v_in are valid (m).
    =
    =Linear interpolation of u,
    =v between specified heights
    =
    =Note: u_in(1) and v_in(1) are u,
    =v at the surface
    =Note: u,v,
    =are constant above height_u_in(3)
    =
    =(default height_u_in(i) = 0.0)
length=3
range=0.0:
type=real

[namelist:idealise=hf]
compulsory=true
description=Maximum interpolation height
help=Maximum height for interpolation for use with
    =idl_interp_option 2 or 3
    =
    =(default = 0.0)
range=0:
type=real

[namelist:idealise=idl_bubble_depth]
compulsory=true
description=Depth of bubbles
help=Depth of bubbles (km)
    =
    =(default idl_bubble_depth(i) = 1000.0)
length=3
range=0:
type=real

[namelist:idealise=idl_bubble_height]
compulsory=true
description=Height of bubble centre
help=Height of each bubble centre (km)
    =
    =(default idl_bubble_height(i) = 1000.0)
length=3
range=0:
type=real

[namelist:idealise=idl_bubble_max]
compulsory=true
description=Maximum amplitude of bubble
help=Maximum amplitude of bubble (K)
    =
    =(default idl_bubble_max(i) = 1.0)
length=3
range=0:
type=real

[namelist:idealise=idl_bubble_option]
compulsory=true
description=Bubble option
help=Specify up to 3 bubbles with the following option
    =
    =0: (default) no bubbles
    =1: Bubble created using 3D Gaussian function. Specify magnitude and
    =        dimensions of each bubble via parameters below.
    =2: Bubbles created using "block" function.  Specify magnitude and
    =        dimensions of each bubble via other bubble parameters
length=3
values=0,1,2

[namelist:idealise=idl_bubble_width]
compulsory=true
description=Horizontal width of bubbles
help=Horizontal width of bubbles (km)
    =
    =(default idl_bubble_width(i) = 1000.0)
length=3
range=0:
type=real

[namelist:idealise=idl_bubble_xoffset]
compulsory=true
description=Bubble x-offset
help=Bubble x-offset
    =
    =Normalised units: 0.5 is the domain centre
    =
    =(default = 0.5)
length=3
range=0:1
type=real

[namelist:idealise=idl_bubble_yoffset]
compulsory=true
description=Bubble y-offset
help=Bubble y-offset
    =
    =Normalised units: 0.5 is the domain centre
    =
    =(default idl_bubble_offset(i) = 0.5)
length=3
range=0:1
type=real

[namelist:idealise=idl_interp_option]
compulsory=true
description=Interpolation option
help=Interpolation option
    =
    =1: (default) Constant with height,
    =i.e. ignoring orography
    =2: Hybrid height everywhere up to a specified height (namelist:idealise=hf)
    =   for orography less than namelist:idealise=height_domain.
    =3: As 2 but with hs of namelist:idealise=zprofile_orog
value-titles=Constant with height,Hybrid to a specified height (hf),
            =Hybrid to a specified height less than the input profile orography
values=1,2,3

[namelist:idealise=idlsurffluxseaoption]
compulsory=true
description=Options for sea surface forcing
help=Options for sea surface forcing:
    =
    =0  No forcing (default)
    =1  Zero sea surface heat fluxes
    =2  Diurnal cycle (positive surface fluxes during the day,
    =zero at night)
    =3  Constant sea surface fluxes
value-titles=No forcing, Zero fluxes,Diurnal fluxes,Constant fluxes
values=0,1,2,3

[namelist:idealise=idlsurffluxseaparams]
compulsory=true
description=Parameters used when forcing surface
help=Parameter used with surface forcing option IdlSurfFluxSeaOption 2 and 3
    =
    =(1) For IdlSurfFluxSeaOption = 2: Maximum sensible heat flux (W/m2) (default = 0.0)
    =    For IdlSurfFluxSeaOption = 3: Constant sensible heat flux (W/m2)
    =(2) For IdlSurfFluxSeaOption = 2: Maximum latent heat flux (W/m2) (default = 0.0)
    =    For IdlSurfFluxSeaOption = 3: Constant latent heat flux (W/m2)
    =(3) Time (UTC) of max flux (hours) (default = 0.0)
    =(4) Length of the day (hours)(default = 0.0)
length=4
range=0:
type=real

[namelist:idealise=initial_tolerance]
compulsory=true
description=Initial state solver tolerance
help=Tolerance for the Netwon-Raphson initial state solver
    =Default = 1.0e-11
ns=namelist/UM Science Settings/section10/Idealised/Initial State
type=real

[namelist:idealise=k_const]
compulsory=true
description=Baroclinic wave parameter.
help=A deep atmosphere baroclinic wave parameter.
type=integer

[namelist:idealise=l_baro_inst]
compulsory=true
description=
help=
type=logical

[namelist:idealise=l_baro_perturbed]
compulsory=true
description=
help=
type=logical

[namelist:idealise=l_baroclinic]
compulsory=true
description=Simulate baroclinic instability
help=If .true. then initialise a limited are domain with a baroclinic jet and
    =tropopause perturbation in order to simulate baroclinic instability
    =
    =(default=.false.)
type=logical

[namelist:idealise=l_bomex]
compulsory=true
description=Activate BOMEX shallow convection forcing
help=If .true. activate BOMEX shallow convection forcing
    =
    =(default = .false.)
type=logical

[namelist:idealise=l_cartesian]
compulsory=true
description=
help=
type=logical

[namelist:idealise=l_code_test]
compulsory=true
description=User switch for testing code
help=If .true. then test code
    =
    =(default = .false.)
type=logical

[namelist:idealise=l_const_grav]
compulsory=true
description=Constant gravity
help=When .true.,
    =gravity is independent of height. This option is not
    =supported under ENDGame and is known to cause a spurious 3D divergence.
    =However it is required when running from a New Dynamics start dump.
ns=namelist/UM Science Settings/section10/Equations
type=logical

[namelist:idealise=l_constant_dz]
compulsory=true
description=Set constant lapse rate
help=If .false. then use all the values of namelist:idealise=dtheta_dz1
    =If .true. (default) then use only the first value of namelist:idealise=dtheta_dz1
type=logical

[namelist:idealise=l_cyclone]
compulsory=true
description=Initialise with a warm core vortex
help=If .true. then initialise a LAM with a warm core vortex,
    =analogous to a spinning down cyclone or an
    =idealised hurricane.
    =
    =(default = .false.)
type=logical

[namelist:idealise=l_damp]
compulsory=true
description=Switch to apply damping layer at top of domain
help=If .true. then apply a damping layer at the top of the domain
    =used with parameters DMPTIM,
    =HDMP,ZDMP
    =
    =If .false. (default) no damping.
type=logical

[namelist:idealise=l_deep_baro_inst]
compulsory=true
description=
help=
type=logical

[namelist:idealise=l_fix_orog_hgt_lbc]
compulsory=true
description=
help=
type=logical

[namelist:idealise=l_fixed_lbcs]
compulsory=true
description=Fixed LBCs
help=If false (default) normal lateral boundary condition (LBC) updating is used for
    =updating boundary forced LAM (i.e. an lbc file is required)
    =
    =If true then LBCs are fixed at the initial conditions throughout the
    = run for boundary forced LAM
type=logical

[namelist:idealise=l_force_lbc]
compulsory=true
description=
help=
trigger=namelist:idealise=p_surface_data: .true. ;
type=logical

[namelist:idealise=l_frierson]
compulsory=true
description=
help=
type=logical

[namelist:idealise=l_geo_for]
compulsory=true
description=Activate geostrophic forcing
help=If .true. activate geostrophic forcing
    =
    =(default = .false.)
type=logical

[namelist:idealise=l_heldsuarez]
compulsory=true
description=
help=
type=logical

[namelist:idealise=l_heldsuarez1_drag]
compulsory=true
description=
help=
type=logical

[namelist:idealise=l_idl_bubble_saturate]
compulsory=true
description=Set bubbles to saturation
help=If .true. set bubble to saturation
    =
    =(default = .false.)
type=logical

[namelist:idealise=l_initialise_data]
compulsory=true
description=Initialise fields using idealised namelist input
help=If true then fields are initialised using information
    =from the idealise namelist.  The input dump is
    =overwritten at the beginning of timestep 1
    =
    =(default = .false.)
ns=namelist/UM Science Settings/section10/Idealised/Initial State
type=logical

[namelist:idealise=l_perturb_correlate_time]
compulsory=true
description=
help=
type=logical

[namelist:idealise=l_perturb_correlate_tq]
compulsory=true
description=Choice of perturbation for temperature and moisture fields.
help=If .false. then different perturbations are used in the temperature
    =           and moisture fields
    =If .true. (default) then the same perturbations are used for temperature
    =           and moisture fields.
type=logical

[namelist:idealise=l_perturb_correlate_vert]
compulsory=true
description=
help=
type=logical

[namelist:idealise=l_perturb_q]
compulsory=true
description=Add random perturbation to moisture field
help=If .false. (default) then no perturbations
    =If .true. then add a random perturbation to the moisture field
    =          with amplitude namelist:idealise=perturb_magnitude_q
type=logical

[namelist:idealise=l_perturb_t]
compulsory=true
description=Add random perturbation to temperature field
help=If .false. (default) then no perturbations
    =If .true. then add a random perturbation to the temperature field
    =          with amplitude namelist:idealise=perturb_magnitude_t
type=logical

[namelist:idealise=l_pforce]
compulsory=true
description=
help=
type=logical

[namelist:idealise=l_polar_wind_zero]
compulsory=true
description=Winds set to zero at poles
help=If .true. Set winds to zero on first 2 and last 2 rows (for global)
    =
    =(default = .false.)
type=logical

[namelist:idealise=l_pressure_balance]
compulsory=true
description=
help=If .true. then derive pressure/temperature field by applying geostrophic
    =and hydrostatic relationshops to input wind field (SCANIA-type)
    =This will overwrite temperature profile choice.
    =In spherical geometry,
    =v_in is ignored and set to zero
    =
    =(default = .false.)
type=logical

[namelist:idealise=l_rotate_grid]
compulsory=true
description=Use a rotated grid
help=Run on a rotated grid. The coordinates of the north pole of the rotated
    =grid are specified by namelist:idealise=grid_np_lat and
    =namelist:idealise=grid_np_lon.
ns=namelist/UM Science Settings/section10/Idealised/Grid
trigger=namelist:idealise=grid_np_lat: .true.;
       =namelist:idealise=grid_np_lon: .true.;
type=logical

[namelist:idealise=l_rotate_winds]
compulsory=true
description=Rotation of winds
help=If .false. (default) Input u and v relative to rotated grid
    =
    =If .true. Input u and v are true u and v (i.e Westerly and Southerly
    =so the winds are rotated to obtain u and v on rotated grids.
type=logical

[namelist:idealise=l_sh_williamson]
compulsory=true
description=Used with Held-Suarez test
help=Used with Held-Suarez (dynamical core) experiment
    =
    =(default = .false.)
type=logical

[namelist:idealise=l_shallow]
compulsory=true
description=A switch between shallow/deep atmosphere equations
help=
ns=namelist/UM Science Settings/section10/Equations
type=logical

[namelist:idealise=l_solid_body]
compulsory=true
description=
help=
type=logical

[namelist:idealise=l_spec_z0]
compulsory=true
description=Choice of roughness length calculation
help=If .false. use surface roughness length as calculated in the code
    =
    =If .true. use fixed roughness length
    =with specified namelist:idealise=roughlen_z0m and namelist:idealise=roughlen_z0h
    =
    =(default = 0.0)
type=logical

[namelist:idealise=l_trivial_trigs]
compulsory=true
description=Specify coordinate system
help=If .false. (default) then use the standard spherical coordinates
    =
    =If .true. the trigs are set so that the model equations are
    = solved in Cartesian geometry (LAM only)
type=logical

[namelist:idealise=l_vert_coriolis]
compulsory=true
description=Using 1D or 3D Coriolis term
help=If .false. (default) use the full 3D Coriolis term
    =
    =If .true. set the vertical Coriolis term ONLY
type=logical

[namelist:idealise=l_wind_balance]
compulsory=true
description=
help=
type=logical

[namelist:idealise=lambda_fraction]
compulsory=true
description=East-West position of mountain
help=The East-West position of the centre of the mountain as a fraction of the domain.
    =
    =0 or 1 for left or right boundaries (which for global domains is the meridan)
    =
    =0.5 for the centre of the domain (which for global domain is the Date line)
    =
    =0.25 for 90 degrees east etc.
    =
    =(default = 0.5)
range=0.0:1.0
type=real

[namelist:idealise=mag]
compulsory=true
description=Magnification factor for transit layers
help=Magnification factor for transit layers
    =
    =For use with namelist:idealise=grid_number 5
    =
    =This has a value between 0 and 1
    =
    =(default = 1.0)
range=0.0:1.0
type=real

[namelist:idealise=mod_layers]
compulsory=true
description=
help=
type=integer

[namelist:idealise=newtonian_timescale]
compulsory=true
description=Timescale for relaxation forcing option
help=Relaxation timescale (s) for relaxation forcing option 2
    =for all fields
    =
    =(default = 3600.0)
range=0:
type=real

[namelist:idealise=nsteps_consv_print]
compulsory=true
description=Frequency of printing of AAM and KE
help=To check the conservation of AAM and KE,
    =this allows printing of
    = total quantities after every X timesteps
ns=namelist/UM Science Settings/section10/Idealised/Planets
type=integer

[namelist:idealise=num_pforce_times]
compulsory=true
description=Number of profiles in forcing timeseries for pressure
help=Number of profiles in forcing timeseries for pressure
    =
    =(default = 1)
ns=namelist/UM Science Settings/section10/Idealised/Forcing/Pressure
range=0:100
sort-key=F10d
type=integer

[namelist:idealise=num_profile_data]
compulsory=true
description=Number of elements in the data arrays for z,t or q
help=Number of elements in the data arrays for z,
    =t or q.
    =This can be different from the number of model levels
    =
    =Maximum number is 100
    =
    =(default = 100)
range=1:100
type=integer

[namelist:idealise=num_qforce_levels]
compulsory=true
description=Number of levels in specific humidity forcing profile data
help=Number of levels in the forcing profile data for specific humidity
    =
    =Maximum number is 100
    =
    =(default = 1)
ns=namelist/UM Science Settings/section10/Idealised/Forcing/Specific humidity
range=1:100
sort-key=F20b
type=integer
warn-if=this != len(namelist:idealise=z_qforce_data); # Number of levels does not match length of vertical levels data array

[namelist:idealise=num_qforce_times]
compulsory=true
description=Number of profiles in forcing timeseries for specific humidity
help=Number of profiles in forcing timeseries for specific humidity
    =
    =(default = 1)
ns=namelist/UM Science Settings/section10/Idealised/Forcing/Specific humidity
range=1:
sort-key=F20d
type=integer
warn-if=this * 100 != len(namelist:idealise=qforce_data); # Number of profiles is inconsistent with length of timeseries data array

[namelist:idealise=num_tforce_levels]
compulsory=true
description=Number of levels in potential temperature forcing profile
help=Number of levels in the forcing profile data for potential temperature.
    =
    =Maximum number is 100
    =
    =(default = 1)
ns=namelist/UM Science Settings/section10/Idealised/Forcing/Potential temperature
range=1:100
sort-key=F30b
type=integer
warn-if=this != len(namelist:idealise=z_tforce_data); # Number of levels does not match length of vertical levels data array

[namelist:idealise=num_tforce_times]
compulsory=true
description=Number of profiles in potential temperature forcing timeseries.
help=Number of profiles in forcing timeseries for potential temperature
    =
    =(default = 1)
ns=namelist/UM Science Settings/section10/Idealised/Forcing/Potential temperature
range=1:
sort-key=F30d
type=integer
warn-if=this * 100 != len(namelist:idealise=tforce_data); # Number of profiles is inconsistent with length of timeseries data array

[namelist:idealise=num_uvforce_levels]
compulsory=true
description=Number of levels in the forcing profile data for horizontal wind.
help=Number of levels in the forcing profile data for horizontal wind.
    =
    =Maximum number 100
    =
    =(default = 1)
ns=namelist/UM Science Settings/section10/Idealised/Forcing/Horizontal wind
range=1:100
sort-key=F40b
type=integer
warn-if=this != len(namelist:idealise=z_uvforce_data); # Number of levels does not match length of vertical levels data array

[namelist:idealise=num_uvforce_times]
compulsory=true
description=Number of profiles in horizontal wind forcing timeseries.
help=Number of profiles in horizontal wind forcing timeseries.
    =
    =(default = 1)
ns=namelist/UM Science Settings/section10/Idealised/Forcing/Horizontal wind
range=1:
sort-key=F40d
type=integer
warn-if=this * 100 != len(namelist:idealise=uforce_data); # Number of profiles is inconsistent with length of timeseries data array
       =this * 100 != len(namelist:idealise=vforce_data); # Number of profiles is inconsistent with length of timeseries data array

[namelist:idealise=num_uvprofile_data]
compulsory=true
description=Number of elements for u and v
help=The number of elements in the data arrays for u and v.
    =This can be different to the number of model levels.
    =
    =Maximum value is 100
    =
    =(default = 0)
range=0:
type=integer

[namelist:idealise=nxi1l]
compulsory=true
description=
help=
type=integer

[namelist:idealise=nxi1v]
compulsory=true
description=
help=
type=integer

[namelist:idealise=nxi2l]
compulsory=true
description=
help=
type=integer

[namelist:idealise=nxi2v]
compulsory=true
description=
help=
type=integer

[namelist:idealise=orog_hgt_lbc]
compulsory=true
description=
help=
type=real

[namelist:idealise=p_surface]
compulsory=true
description=Pressure at sea level
help=Pressure (Pa) at sea level z=0
    =
    =(default = 100000.0)
ns=namelist/UM Science Settings/section10/Idealised/Surface
range=85000:1.0e8
type=real

[namelist:idealise=p_surface_data]
compulsory=true
description=
help=
length=100
range=85000:110000
type=real

[namelist:idealise=perturb_height]
compulsory=true
description=Height range for perturbations.
help=Minimum and maximum heights over which perturbations are applied.
    =
    =(default = 0.0)
length=2
type=real

[namelist:idealise=perturb_magnitude_q]
compulsory=true
description=Maximum magnitude of random temperature perturbation.
help=Maximum magnitude of the perturbations in the moisture field (kg/kg)
    =
    =(default = 0.5e-3 kg/kg)
range=0:
type=real

[namelist:idealise=perturb_magnitude_t]
compulsory=true
description=Maximum magnitude of random moisture perturbation.
help=Maximum magnitude of the perturbations in the temperature field (K)
    =
    =(default = 0.5K)
type=real

[namelist:idealise=perturb_type]
compulsory=true
description=Type of perturbation
help=Currently,
    =the only option available are random perturbations.
    =
    =Choose option 1 for random perturbations.
value-titles=Random
values=1

[namelist:idealise=pforce_option]
compulsory=true
description=Forcing option for pressure
help=Not currently set up fully.
ns=namelist/UM Science Settings/section10/Idealised/Forcing/Pressure
sort-key=F10a
type=integer

[namelist:idealise=pforce_time_interval]
compulsory=true
description=Time interval between profiles for pressure
help=Time interval between profiles in forcing timeseries for pressure.
    =
    =(default = 600.0)
ns=namelist/UM Science Settings/section10/Idealised/Forcing/Pressure
range=0.0:
sort-key=F10f
type=real

[namelist:idealise=phi_fraction]
compulsory=true
description=North-South position of the mountain
help=The North-South position of the centre of the mountain as a fraction of the domain
    =
    =For global domain,
    =South Pole is 0,
    =North Pole is 1
    =
    =0.5 is the Equator
    =
    =0.7 is 36 degrees North etc.
    =
    =(default = 0.5)
range=0.0:1.0
type=real

[namelist:idealise=plat_size_x]
compulsory=true
description=Plateau width
help=For surface type 4
    =
    =The horizontal East-West half-width of a plateau of height h_o (metres)
    =
    =(default = 0.0)
range=0.0:
type=real

[namelist:idealise=plat_size_y]
compulsory=true
description=Plateau width
help=For surface type 4
    =
    =The horizontal North-South half-width of a plateau of height h_o (metres)
    =
    =(default = 0.0)
range=0.0:
type=real

[namelist:idealise=profile_filename]
compulsory=true
description=Filename for a netCDF file containing T-P profile
help=A net CDF format file containing "temperature" as a function
    =of "pressure" which can be read in to initialise a model
ns=namelist/UM Science Settings/section10/Idealised/Initial State
type=character

[namelist:idealise=q1]
compulsory=true
description=Value of constant relative humidity.
help=Relative humidity value (%)
    =
    =For use with qprofile_number 1
range=0.0:
type=real

[namelist:idealise=qforce_data]
compulsory=true
description=Forcing specific humidity profile timeseries data
help=Forcing specific humidity profile timeseries data (kg/kg/sec or kg/kg depending
    =on which forcing option is chosen
    =
    =Each profile for each time must have 100 elements,
    =packed out with zeroes
    =if necessary.
    =
    =(default = 0.0)
length=10000
ns=namelist/UM Science Settings/section10/Idealised/Forcing/Specific humidity
range=0:
sort-key=F20e
type=real

[namelist:idealise=qforce_option]
compulsory=true
description=Forcing option for humidity
help=Forcing options for humidity:
    =
    =0: (default) No forcing
    =1: Tendency forcing: Tendencies in namelist:idealise=qforce_data (kg/kg per sec)
    =   added to specific humidity field.
    =2: Relaxation forcing: Field relaxed back to profile in namelist:idealise=qforce_data (kg/kg)
    =   with timescale specified in namelist:idealise=newtonian_timescale
ns=namelist/UM Science Settings/section10/Idealised/Forcing/Specific humidity
sort-key=F20a
trigger=namelist:idealise=num_qforce_levels: this > 0;
       =namelist:idealise=qforce_data: this > 0;
       =namelist:idealise=z_qforce_data: this > 0;
value-titles=No forcing,Tendency forcing,Relaxation forcing
values=0,1,2

[namelist:idealise=qforce_time_interval]
compulsory=true
description=Time interval between profiles for specific humidity
help=Time interval between profiles in forcing timeseries for specific
    =humidity.
    =
    =(default = 600.0)
ns=namelist/UM Science Settings/section10/Idealised/Forcing/Specific humidity
range=0:
sort-key=F20f
type=real

[namelist:idealise=qprofile_data]
compulsory=true
description=Array of values defining q
help=An array of values defining the q (kg/kg) profile.
    =
    =For use with heights definied in namelist:idealise=zprofile_data
    =
    =(default qprofile_data(i) = 0.0)
length=100
range=0.0:
type=real

[namelist:idealise=qprofile_number]
compulsory=true
description=Options for moisture profile
help=Options for moisture profile
    =
    =0: No moisture
    =1: Constant relative humidity (defined by namelist:idealise=q1)
    =8: RELATIVE humidities defined by namelist:idealise=qprofile_data array
    =9: SPECIFIC humidities defined by namelist:idealise=qprofile_data array
    =10: (default) As defined in the input dump (i.e. no change)
value-titles=No moisture,Constant relative humidity,
            =User-defined relative humidities,
            =User-defined specific humidities,Defined by input dump
values=0,1,8,9,10

[namelist:idealise=r_plane]
compulsory=true
description=For use with Held_Suarez test and pressure balance
help=For use with Held_Suarez test and pressure balance
    =reference latitude in degrees for desired LAM domain southernmost latitude
    =If namelist:idealise=tprofile_number is 7 then set to desired latitude to activate
type=real

[namelist:idealise=roughlen_z0h]
compulsory=true
description=Roughness length for heat and moisture
help=Roughness length for heat and moisture
    =
    =(default = 0.0)
range=0.0:
type=real

[namelist:idealise=roughlen_z0m]
compulsory=true
description=Roughness length for momentum
help=Roughness length for momentum
    =
    =(default = 0.0)
range=0.0:
type=real

[namelist:idealise=suhe_fric]
compulsory=true
description=Used with Held-Suarez test
help=Used with Held-Suarez (dynamical core) experiment
    =
    =(default = 2)
type=integer

[namelist:idealise=suhe_newtonian_timescale_ka]
compulsory=true
description=Used with Held-Suarez test
help=Used with Held-Suarez (dynamical core) experiment
    =
    =(default = 2.893e-7)
range=0:
type=real

[namelist:idealise=suhe_newtonian_timescale_ks]
compulsory=true
description=Used with Held-Suarez test
help=Used with Held-Suarez (dynamical core) experiment
    =
    =(default = 2.893e-6)

[namelist:idealise=suhe_pole_equ_deltat]
compulsory=true
description=Used with Held-Suarez test
help=Used with Held-Suarez (dynamical core) experiment
    =
    =(default = 60.0)
type=real

[namelist:idealise=suhe_relax]
compulsory=true
description=Used with Held-Suarez test
help=Used with Held-Suarez (dynamical core) experiment
    =
    =(default = 2)
type=integer

[namelist:idealise=suhe_sigma_cutoff]
compulsory=true
description=Used with Held-Suarez test
help=Used with Held-Suarez (dynamical core) experiment
    =
    =(default = 0.)
type=real

[namelist:idealise=suhe_static_stab]
compulsory=true
description=Used with Held-Suarez test
help=Used with Held-Suarez (dynamical core) experiment
    =
    =(default = 10.0)
type=real

[namelist:idealise=surface_type]
compulsory=true
description=Options for specifying orography
help=Options for specifying orography:
    =
    =0: Zero orography
    =1: Elliptical mountain
    =2: North-South ridge
    =3: Elliptical plateau (beheaded Witch of Agnesi)
    =   the plateau height is namelist:idealise=h_o
    =4: Massif Elliptical plateau (4 witches!)
    =5: Use orography from input dump within half_widths,
    =zero elsewhere
    =   (i.e. real orography)
    =6: Gaussian Hill
    =10: (default) Use orography from input dump (i.e. real orography everywhere)
ns=namelist/UM Science Settings/section10/Idealised/Surface
#trigger=namelist:idealise=grow_steps: this > 0;
#       =namelist:idealise=h_o: this > 0;
#       =namelist:idealise=lambda_fraction: this > 0;
#       =namelist:idealise=phi_fraction: this > 0;
#       =namelist:idealise=half_width_x: this > 0;
#       =namelist:idealise=half_width_y: this > 0;
#       =namelist:idealise=plat_size_x: this > 0;
#       =namelist:idealise=plat_size_y: this > 0;
#       =namelist:idealise=witch_power: this > 0;
value-titles=Zero orography,Elliptical mountain,North-south ridge,
            =Ellipical plateau,Massif elliptical plateau,
            =From input dump within half-widths and real elsewhere,
            =Gaussian hill,From input dump (real everywhere)
values=0,1,2,3,4,5,6,10

[namelist:idealise=t0_e]
compulsory=true
description=
help=
type=real

[namelist:idealise=t0_p]
compulsory=true
description=
help=
type=real

[namelist:idealise=t_horizfn_data]
compulsory=true
description=Parameters used in set up of E-W jet in deformation front
help=For E-W jet in deformation front setup.  The array elements are as follows:
    =
    =(1) is the jet core maximum (m/sm,
    =default = 0.0)
    =(2) is the width of the zonal jet (m,
    =default=0.0)
    =(3) is the height of the mximum jet (m,
    =default=0.0)
    =(4) is the height at which the jet goes to zero (m,
    =default=0.0)
    =
    =Also used with namelist:idealise=l_baroclinic and namelist:idealise=l_cyclone
length=4
type=real

[namelist:idealise=t_horizfn_number]
compulsory=true
description=
help=
type=integer

[namelist:idealise=t_surface]
compulsory=true
description=Temperature at the surface
help=
ns=namelist/UM Science Settings/section10/Idealised/Surface
type=real

[namelist:idealise=tforce_data]
compulsory=true
description=Forcing potential temperature profile timeseries data
help=Forcing potential temperature profile timeseries data (K/day or K depending
    =on which forcing option is chosen
    =
    =Each profile for each time must have 100 elements,
    =packed out with zeroes
    =if necessary.
    =
    =e.g. for two timeseries with only three levels the data would look like
    =8.0,
    =-8.0,0.0,97*0.0,-8.0,-8.0,0.0,97*0.0
    =
    =(default = 0.0)
length=10000
ns=namelist/UM Science Settings/section10/Idealised/Forcing/Potential temperature
sort-key=F30e
type=real

[namelist:idealise=tforce_number]
compulsory=true
description=Choice of forcing profile
help=Temperature-Pressure profile selection for Idealised Dry Suite
    =0: No forcing
    =1: Held-Suarez profile (Held & Suarez,
    =1995)
    =2: Tidally-Locked Earth (Merlis & Schneider,
    =2010)
    =3: Earth-Like (Menou & Rauscher,
    =2009)
    =4: Shallow-Hot Jupiter (Menou & Rauscher,
    =2009)
    =5: Jupiter Profile (Incomplete)
    =6: HD 209458b Heng et al,
    =(2011) Profile
    =7: HD 209458b Smoothed version of (6) (Mayne et al.,
    =2014)
    =8: HD 209458b Profile of Iro et al (2005)
    =9: Y Dwarf Profile
    =99: Forcing to a T-P profile from a file (netCDF) Incomplete
    =100: Isothermal forcing (to t_surface)
ns=namelist/UM Science Settings/section10/Idealised/Planets
value-titles=No forcing,Held-Suarez,Tidally-Locked Earth,Earth-Like,
            =Shallow-Hot Jupiter,Jupiter,HD 209458b (Heng),
            =HD 209458b (Heng Smoothed),HD 209458b (Iro),Y Dwarf,
            =From a file,Isothermal (t_surface)
values=0,1,2,3,4,5,6,7,8,9,99,100

[namelist:idealise=tforce_option]
compulsory=true
description=Forcing options for potential temperature
help=Forcing options for potential temperature
    =
    =0: (default) No forcing
    =1: Tendency forcing: Tendencies in tforce_data (K/day) added to
    =    potential temperature field
    =2: Relaxation forcing: Field relaxed back to profile in tforce_data (K)
    =    with timescale in newtonian_timescale
ns=namelist/UM Science Settings/section10/Idealised/Forcing/Potential temperature
sort-key=F30a
trigger=namelist:idealise=num_tforce_levels: this > 0;
       =namelist:idealise=tforce_data: this > 0;
       =namelist:idealise=z_tforce_data: this > 0;
value-titles=No forcing,Tendency forcing,Relaxation forcing
values=0,1,2

[namelist:idealise=tforce_time_interval]
compulsory=true
description=Time interval between potential temperature forcing profiles.
help=Time interval (seconds) between profiles in forcing timeseries for
    =potential temperature
    =
    =(default = 600.0)
ns=namelist/UM Science Settings/section10/Idealised/Forcing/Potential temperature
range=0:
sort-key=F30f
type=real

[namelist:idealise=theta_surface]
compulsory=true
description=Temperature at sea level
help=Temperature (K) at sea level z=0
    =
    =(default = 280.0)
ns=namelist/UM Science Settings/section10/Idealised/Surface
range=0:10000
type=real

[namelist:idealise=thin_theta_height]
compulsory=true
description=Height of lowest theta level above surface
help=Height of lowest theta level above surface in metres
    =For grid_number 6 option only
    =
    =(default = 1.0)
range=0:
type=real

[namelist:idealise=tprofile_data]
compulsory=true
description=Initial theta profile
help=Array of values (K) defining the theta profile.
    =
    =(default tprofile_data(i)=0.0)
length=100
type=real

[namelist:idealise=tprofile_number]
compulsory=true
description=Options for temperature profile
help=Options for temperature profile:
    =
    =1: Constant (dtheta/dz) static stability layers
    =2: Constant temperature (isothermal)
    =3: Constant Brunt-Vaisala frequency (g*dtheta/dz)/theta
    =4: As 3 but isothermal (big layers) at top
    =6: Zonally symmetric as dynamical core
    =7: As 6 but symmetric about rotated equator.  Need to set reference latitude r_plane
    =9: As defined by namelist:idealise=tprofile_data
    =10: (default) As defined by input dump (i.e. no change)
    =11: HD 209458b 0.5 T_night + 0.5 T-day (Heng et al,
    =2011)
    =12: As option 11 but smoothed profile (Mayne et al.,
    =2014)
    =13: HD 209458b (Iro et al,
    =2005)
    =14: Y Dwarf
    =15: Read an initial T-P profile from a netcdf file (profile_filename)
    =16: HD 209458b (Smoothed T-Day,
    =Heng et al.,2011)
ns=namelist/UM Science Settings/section10/Idealised/Initial State
trigger=namelist:idealise=profile_filename: this == 15 ;
value-titles=Constant dtheta/dz,Constant temperature,
            =Constant Brunt-Vaisala frequency,
            =Constant Brunt-Vaisala frequency & isothermal at top,
            =Zonally symmetric,Zonally symmetric about rotated equator,
            =Defined by tprofile_data,Defined by input dump,
            =HD 209458b midway night and dayside profile,
            =Smoothed midway HD209458b,HD 209458b Iro,Y Dwarf,
            =Read from a file,HD 209458b smoothed dayside
values=1,2,3,4,6,7,9,10,11,12,13,14,15,16

[namelist:idealise=transit_layers]
compulsory=true
description=Number of layers in transition from normal to big_layers
help=Number of layers in transition from normal to big_layers
    =
    =For use with namelist:idealise=grid_number 5
    =
    =(default = 0)
range=0:
type=integer

[namelist:idealise=trelax_number]
compulsory=true
description=Choice of relaxation timescale
help=The radiative timescale used for the Newtonian/Temperature
    =relaxation
    =0: None
    =1: Held-Suarez (Held & Suarez,
    =1995)
    =2: Earth-Like (Menou & Rauscher,
    =2009)
    =3: Shallow-Hot Jupiter (Menou & Rauscher,
    =2009)
    =4: Jupiter (Incomplete)
    =5: HD 209458b (Iro et al.,
    =2005)
    =6: Y Dwarf
ns=namelist/UM Science Settings/section10/Idealised/Planets
value-titles=None,Held-Suarez,Earth-Like,Shallow-Hot Jupiter,Jupiter,
            =HD 209458b,Y Dwarf
values=0,1,2,3,4,5,6

[namelist:idealise=tropics_deg]
compulsory=true
description=
help=
type=real

[namelist:idealise=tstep_plot_frequency]
compulsory=true
description=
help=
type=integer

[namelist:idealise=tstep_plot_start]
compulsory=true
description=
help=
type=integer

[namelist:idealise=u_geo]
compulsory=true
description=u component of geostrophic wind
help=u component of geostrophic wind
    =
    =(default = 0.0)
range=0.0:
type=real

[namelist:idealise=u_in]
compulsory=true
description=Prescribed u-component of velocity
help=Prescribed u-component of velocity for 4 heights (m/s)
    =
    =(default u_in(i) = 0.0)
length=4
type=real

[namelist:idealise=u_ramp_end]
compulsory=true
description=Latitude polewards for which u equals 0
help=Latitude (degrees) polewards for which u=0
    =
    =Both hemispheres treated symmetrically (ramp works on
    =cosines of latitudes so sign taken into acccount)
    =
    =(default = -90.0)
type=real

[namelist:idealise=u_ramp_start]
compulsory=true
description=Start latitude for ramping of u
help=Start latitude (degrees) to linearly ramp down u towards 0.
    =
    =Set greater than 0.1 to activate
    =
    =(default = 0.0)
type=real

[namelist:idealise=uforce_data]
compulsory=true
description=Forcing data for u-wind component.
help=Forcing u-component of wind profile timeseries data (m/s/s or m/s depending
    =on which forcing option is chosen
    =
    =Each profile for each time must have 100 elements,
    =packed out with zeroes
    =if necessary.
    =
    =(default = 0.0)
length=10000
ns=namelist/UM Science Settings/section10/Idealised/Forcing/Horizontal wind
sort-key=F40e
type=real

[namelist:idealise=ujet_lat]
compulsory=true
description=
help=Latitude (degrees) at which input u-component has u_in value
    =
    =(default = -90.0)
range=-90.0:90.0
type=real

[namelist:idealise=ujet_width]
compulsory=true
description=
help=If ujet_lat > -89.0 then horizontal cosine jet of width 2*ujet_width (degrees)
    =is applied to pressure balance
    =
    =(default = 0.0)
range=0:
type=real

[namelist:idealise=uprofile_data]
compulsory=true
description=Array of value defining u
help=An array of values defining the u (m/s) profile.
    =
    =For use with heights namelist:idealise=z_uvprofile_data
    =
    =(default uprofile_data(i) = 0.0)
length=100
type=real

[namelist:idealise=uv_horizfn_number]
compulsory=true
description=Options for horizontal wind functions
help=Options for horizontal wind functions:
    =
    =0: (default) No horizontal wind variation.
    =    u_in(4) and v_in(4) are the prescribed velocities for 4 heights
    =    defined by the surface and namelist:idealise=height_u_in(3)
    =1: Symmetric north-south ramp function using u_ramp_start and u_ramp_end
    =   u_in(4) is the velocity field gradient (m/s/1000km) for 4 layers
    =   and namelist:idealise=height_u_in(3) specifies the layer boundaries (the lowest boundary is
    =   assumed to be the surface)
    =3: Horizontal deformation field
value-titles=No variation,North-south ramp function,Deformation field
values=0,1,3

[namelist:idealise=uvforce_option]
compulsory=true
description=Forcing options for horizontal wind components
help=Forcing options for horizontal wind components
    =
    =0: (default) No forcing
    =1: Tendency forcing: Tendencies in uforce_data and
    =   vforce_data (m/s per sec) added to the wind field.
    =2: Relaxation forcing: Field relaxed back to profile in uforce_data
    =   and vforce_data (m/s) with timescale specified in newtonian_timescale
ns=namelist/UM Science Settings/section10/Idealised/Forcing/Horizontal wind
sort-key=F40a
trigger=namelist:idealise=num_uvforce_levels: this > 0;
       =namelist:idealise=uforce_data: this > 0;
       =namelist:idealise=vforce_data: this > 0;
       =namelist:idealise=z_uvforce_data: this > 0;
value-titles=No forcing,Tendency forcing,Relaxation forcing
values=0,1,2

[namelist:idealise=uvforce_time_interval]
compulsory=true
description=Time interval between profiles for horizontal wind
help=Time interval between profiles in forcing timeseries for horizontal wind
    =
    =(default = 600.0)
ns=namelist/UM Science Settings/section10/Idealised/Forcing/Horizontal wind
range=0:
sort-key=F40g
type=real

[namelist:idealise=uvprofile_number]
compulsory=true
description=Options for horizontal wind profile
help=Options for horizontal wind profile:
    =
    =0: Constant u,
    =v wind at all heights defined by
    =     namelist:idealise=u_in(1),
    =namelist:idealise=v_in(1)
    =1: Interpolate the u,
    =v wind in the vertical using namelist:idealise=u_in(1:4),
    =namelist:idealise=v_in(1:4) and namelist:idealise=height_u_in(1:3)
    =9: As defined by namelist:idealise=uprofile_data and namelist:idealise=vprofile_data
    =10: (default) As defined by the input dump (i.e. no change)
value-titles=Constant,Vertically interpolated,User-defined profile,
            =Defined by input dump
values=0,1,9,10

[namelist:idealise=v_geo]
compulsory=true
description=v component of geostrophic wind
help=v component of geostrophic wind
    =
    =(default = 0.0)
range=0:
type=real

[namelist:idealise=v_in]
compulsory=true
description=Prescribed v-component of velocity
help=Prescribed v-component of velocity for 4 heights (m/s)
    =
    =(default v_in(i) = 0.0)
length=4
type=real

[namelist:idealise=vert_grid_ratio]
compulsory=true
description=Stretching ratio for grid_number=8 option
help=The ratio of the geometric stretching of the grid
ns=namelist/UM Science Settings/section10/Idealised/Grid
type=real

[namelist:idealise=vforce_data]
compulsory=true
description=Forcing data for v-wind component.
help=Forcing v-component of wind profile timeseries data (m/s/s or m/s depending
    =on which forcing option is chosen
    =
    =Each profile for each time must have 100 elements,
    =packed out with zeroes
    =if necessary.
    =
    =(default = 0.0)
length=10000
ns=namelist/UM Science Settings/section10/Idealised/Forcing/Horizontal wind
sort-key=F40f
type=real

[namelist:idealise=vprofile_data]
compulsory=true
description=Array of value for v.
help=An array of values defining the v (m/s) profile.
    =
    =For use with heights namelist:idealise=z_uvprofile_data
    =
    =(default vprofile_data(i) = 0.0)
length=100
type=real

[namelist:idealise=witch_power]
compulsory=true
description=Exponent power used in Witch of Agnesi
help=Exponent power used in Witch of Agnesi
    =
    =For use with namelist:idealise=surface_type 1,
    =3,4
    =
    =(default = 1.5)
range=0.0:
type=real

[namelist:idealise=z_qforce_data]
compulsory=true
description=Heights of the forcing timeseries data for specific humidity
help=Heights of the forcing timeseries data for specific humidity
    =
    =(default = 0.0)
length=100
ns=namelist/UM Science Settings/section10/Idealised/Forcing/Specific humidity
range=0:
sort-key=F20c
type=real

[namelist:idealise=z_tforce_data]
compulsory=true
description=Heights of the forcing potential temperature timeseries data
help=Heights (m) of the forcing timeseries data for potential temperature
    =
    =(defaults = 0.0)
length=100
ns=namelist/UM Science Settings/section10/Idealised/Forcing/Potential temperature
range=0:
sort-key=F30c
type=real

[namelist:idealise=z_uvforce_data]
compulsory=true
description=Heights of the forcing timeseries data for horizontal wind
help=Heights of the forcing timeseries data for horizontal wind.
    =
    =(default = 0.0)
length=100
ns=namelist/UM Science Settings/section10/Idealised/Forcing/Horizontal wind
sort-key=F40c
type=real

[namelist:idealise=z_uvprofile_data]
compulsory=true
description=Array of heights for u and v.
help=An array of heights (above sea level) for the data values in the
    =u and v arrays (metres)
    =
    =(default z_uvprofile_data(i) = 0.0)
length=100
type=real

[namelist:idealise=zdmp]
compulsory=true
description=Starting height of damping layer
help=Starting height of damping layer
    =
    =(default = 0.0)
range=0:
type=real

[namelist:idealise=zprofile_data]
compulsory=true
description=Array of heights for T and q arrays
help=An array of heights (above sea level) for the data values in
    =the T and q arrays (in metres).
    =
    =(default zprofile_data(i) = 0.0)
length=100
range=0.0:
type=real

[namelist:idealise=zprofile_orog]
compulsory=true
description=
help=For use with namelist:idealise=idl_interp_option 2 or 3
    =
    =(default = 0.0)
type=real

[namelist:io_control]
compulsory=true
description=Enable viewing of latent variables to edit advanced I/O options.
ns=namelist/IO System Settings/General IO Control

[namelist:io_control=io_data_alignment]
compulsory=false
description=Data alignment on disk
help=Specifies how the beginning of data fields are aligned on disk,
    =measured
    =in 64-bit words. For optimal performance on GPFS filesystems this should
    =be the same as the I/O buffer size. The default value is 524288 (= 4 MB).
    =Other values may be appropriate for other architectures.
range=0:
sort-key=d02
type=integer

[namelist:io_control=io_external_control]
compulsory=true
description=True => Subjob mechanism for the UM is activated
help=On closing a UM output file named um_file,
    =a um_file.done is created in the run directory.
sort-key=a01
type=logical

[namelist:io_control=io_field_padding]
compulsory=false
description=Padding between fields
help=Specifies how individual data fields are padded out in UM output files,
    =measured in 64-bit words. The default value is 512 (= 4 KB). In older UM
    =releases this function was served by the UM_SECTOR_SIZE environment
    =variable.
    =
    =When buffered I/O is active a small value is generally more appropriate,
    =because write sizes are determined by the buffer size.
range=0:
sort-key=d01
type=integer

[namelist:io_control=io_filesystem_profile]
compulsory=true
description=Load a profile for filesystem specific settings
help=Load a profile for filesystem specific settings.
    =This will cause the reading of an additional namelist with
    =settings specific to the performace tuning of a given filesystem.
sort-key=f01
trigger=namelist:lustre_control: 1;
       =namelist:lustre_control_custom_files: 1
value-titles=No Profile,Lustre Filesystem
values=0,1

[namelist:io_control=io_rbuffer_count]
compulsory=false
description=Read buffers per input stream
help=The number of read buffer blocks to use when buffered I/O is active. The
    =optimal value for the Met Office GPFS configuration is 4,
    =which is the
    =default. Other values may be appropriate for other architectures.
    =
    =This option is only valid when using the C95_2B scheme for I/O.
range=0:
sort-key=c02
type=integer

[namelist:io_control=io_rbuffer_prefetch]
compulsory=false
description=No. of read buffers to prefetch
fail-if=this > namelist:io_control=io_rbuffer_count; # No. of read blocks to prefetch greater than no. of read buffers
help=The number of read blocks a helper thread will try to prefetch ahead of the
    =current file position. This should be less than or equal to
    =io_rbuffer_count. The optimal value for the Met Office GPFS configuration
    =is 1,
    =which is the default.
    =
    =This option is only valid when using the C95_2B scheme for I/O.
range=0:
sort-key=c03
type=integer

[namelist:io_control=io_rbuffer_size]
compulsory=false
description=Read buffer size (2B I/O only)
help=Specifies the size of the internal buffer used by read operations in the
    =UM C layer,
    =measured in 64-bit words. The optimal value for the Met Office
    =GPFS configuration is 524288 (= 4 MB),
    =which is the default. Other values
    =may be appropriate for other architectures.
    =
    =This option is only valid when using the C95_2B scheme for I/O.
range=256:
sort-key=c01
type=integer

[namelist:io_control=io_rbuffer_update]
compulsory=false
description=Discard/update read cached blocks on writing
help=Set the policy for coherence between read caching and write caching:
    =
    =  Discard:  read cached blocks are discarded on writing
    =  Update:   read cached blocks are updated by writes
    =
    =When available,
    =the default policy is to update cached blocks.
    =
    =This option is only valid when using the C95_2B scheme for I/O.
sort-key=c04
value-titles=Discard,Update
values=0,1

[namelist:io_control=io_timing]
compulsory=true
description=Time IO Operations
help=IO timing information provides a low level diagnostic of data
    =transfer rates. It may be used as a tool to assist investigations
    =in model run timings.
sort-key=e02
value-titles=Off,On
values=0,1

[namelist:io_control=io_wbuffer_size]
compulsory=false
description=Write buffer size
help=Specifies the size of the internal buffer used by write operations in the
    =UM C layer,
    =measured in 64-bit words. The optimal value for the Met Office
    =GPFS configuration is 524288 (= 4 MB),
    =which is the default. Other values
    =may be appropriate for other architectures.
range=256:
sort-key=b01
type=integer

[namelist:io_control=l_postp]
compulsory=true
description=True => Produce .arch files for post processing system
help=Files will be marked as available for post processing by the creation
    =of a .arch file.  Post processing is necessary if:
    = 1 -> Output stream files that have been superseded should be deleted
    = 2 -> Output stream files should be archived
sort-key=a02
type=logical

[namelist:io_control=print_runtime_info]
compulsory=true
description=True => print time info relating to UM model run
help=Allows printing of time info during model run. Info printed is
    =time at start of each call to atm_step and the time taken in each
    =call to atm_step.
sort-key=e01
type=logical

[namelist:ioscntl]
compulsory=true
ns=namelist/IO System Settings/IO Server

[namelist:ioscntl=ios_acquire_model_prsts]
compulsory=false
description=false => I/O servers retain output level from IOSCNTL namelist
           =true  => I/O servers acquire output level from atmospheric model
help=The I/O servers do not read the majority of UM namelist files,
    =including
    =those that set output levels.
    =
    =The servers therefore start with a separate initial output level defined
    =in this namelist. If true,
    =this option will cause the model setting
    =(PrintStatus) to take precedence when it becomes available.
    =
    =Note that some output is generated by the I/O server during
    =initialisation of the UM regardless of whether the I/O server is
    =configured,
    =and so the I/O server output level should still be set even
    =if this option is active.
sort-key=iosc
type=logical

[namelist:ioscntl=ios_as_concurrency]
compulsory=false
description=The number of accelerated I/O server transactions that may be
           =initiated before checking for completion.
help=The number of coalesced accelerated transactions that the atmosphere
    =model may initiate before having to check for completion. It includes
    =the number genuinely "in-flight" and those that have been created and in
    =the process of being packed. It can be thought of as the number of
    =concurrent in-flight operations decoupling the model from the I/O server.
    =
    =Increasing this value increases performance and,
    =proportionally,
    =the
    =memory overhead on each task. It is recommended that the minimum is the
    =number of units in use by the subsystems selected plus one to avoid
    =pathological performance problems (e.g. with only accelerated dumps a
    =minimum value of 2 is recommended).
    =
    =Note that an operation is considered completed when the I/O server has
    =processed it.
ns=namelist/IO System Settings/IO Server/Acceleration
range=1:1000
sort-key=acc2
# used when ios_use_async_stash=.true. OR ios_use_async_dump=.true.
type=integer

[namelist:ioscntl=ios_async_levs_per_pack]
compulsory=false
description=Number of field levels to send in a single accelerated transaction
help=The number of field levels to coalesce into a single message for
    =asynchronous (accelerated) dump or STASH output messages. Asynchronous
    =dump and STASH output messages can pack multiple field levels into a
    =single transaction before dispatch to an I/O server. Increasing this
    =value will result in larger MPI messages (that are more efficient on
    =most platforms),
    =but also increase memory overhead and delay sending a
    =particular model level.
# used when ios_use_async_stash=.true. OR ios_use_async_dump=.true.
ns=namelist/IO System Settings/IO Server/Acceleration
range=1:1000
sort-key=acc3
type=integer

[namelist:ioscntl=ios_async_send_null]
compulsory=false
description=Send empty tiles to I/O server
           =false => Subdomains do not send null data for STASH output
           =true  => Subdomains send null data for STASH output
help=If true,
    =send null data for output when using asynchronous (accelerated)
    =STASH output.
    =
    =For subdomained output requests,
    =processors with no relevant data can
    =send data or not. Not sending this null data reduces network traffic.
    =Choosing to send empty tiles increases bandwidth but maintains the same
    =message footprint for all packed payloads,
    =which may be advantageous in
    =forcing communications to a particular low level MPI protocol.
    =Which is best will be hardware and MPI layer dependent.
ns=namelist/IO System Settings/IO Server/Acceleration
sort-key=acc4
type=logical

[namelist:ioscntl=ios_async_stats]
compulsory=false
description=Report message characteristics
           =true => Report characteristics of accelerated output operations
help=If true,
    =report details about communications sizes used by asynchronous
    =(accelerated) STASH and dump operations.
# used when ios_use_async_stash=.true. OR ios_use_async_dump=.true.
ns=namelist/IO System Settings/IO Server/Acceleration
sort-key=acc6
type=logical

[namelist:ioscntl=ios_backoff_interval]
compulsory=false
description=Time delay before an I/O server will retry a failed operation or check the queue for work (microseconds).
help=The time delay in microseconds that the I/O server will delay before
    =retrying an operation,
    =or checking the queue for work.
    =It is intended to allow a thread running on multithreaded hardware
    =(e.g. SMT) to yield resources to other executing threads,
    =when idle.
    =Setting a large value (more than a few milliseconds) may have a
    =degrading effect on job performance.
range=0:1e7
sort-key=ios7
type=integer

[namelist:ioscntl=ios_buffer_size]
compulsory=false
description=Maximum memory buffer for each I/O server (MB)
help=The amount of data (in MB) that each I/O server can have outstanding.
    =
    =Increasing this smooths the I/O load over time,
    =but means there is more
    =uncommitted data in the case of a failure.
    =
    =The value must be small enough to be accommodated by resource limits
    =given to the scheduler,
    =but large enough to accomodate the largest
    =single request made (usually the size of an uncompressed horizontal
    =level * ios_async_levs_per_pack,
    =but in general dependent on what the
    =model decides to output).
range=500:65536
sort-key=ios0
type=integer

[namelist:ioscntl=ios_concurrency]
compulsory=false
description=Number of I/O server transactions the atmosphere model may initiate before checking for completion
help=The number of I/O server transactions that the atmosphere model may
    =initiate before having to check for completion.
    =
    =It can be thought of as the number of concurrent in-flight operations
    =decoupling the model from the I/O server. Note completion of such an
    =operation is the point at which receipt has been acknowledged,
    =not when
    =the I/O server has processed it.
range=1:1000
sort-key=ios1
type=integer

[namelist:ioscntl=ios_concurrency_max_mem]
compulsory=true
description=Maximum memory (MB) to be used by the general protocol queue
help=Sets a limit on the total ammount of data that can be used on the client
    = by the general protocol queue. A request exceeding this will stall the
    = model until sufficient memory becomes available.
sort-key=ios2
type=integer

[namelist:ioscntl=ios_debug_no_packing]
compulsory=false
description=DEBUG: Omit data packing
           =false => Compress output as normal
           =true  => Ignore packing profiles for STASH and dump output
help=If true,
    =when using asynchronous (accelerated) STASH or dump output the
    =packing profile will be ignored and data will be written uncompressed.
    =
    =Intended for debugging purposes only.
# used when ios_use_async_stash=.true. OR ios_use_async_dump=.true.
ns=namelist/IO System Settings/IO Server/Debug
type=logical

[namelist:ioscntl=ios_debug_no_subdomaining]
compulsory=false
description=DEBUG: Omit data subdomaining
           =false => Write field as normal
           =true  => Write entire STASH fields,
           =ignoring spatial profiles
help=If true,
    =when using asynchronous (accelerated) STASH output the packing
    =profile will be ignored and data will be written uncompressed.
    =
    =Intended for debugging purposes only.
ns=namelist/IO System Settings/IO Server/Debug
type=logical

[namelist:ioscntl=ios_debug_no_write]
compulsory=false
description=DEBUG: Omit data writes
           =false => Write to disk as normal
           =true  => Disable output to disk for STASH and dump output
help=If true,
    =when using asynchronous (accelerated) STASH or dump output the
    =actual writing to disk will be disabled.
    =
    =Intended for debugging purposes only.
# used when ios_use_async_stash=.true. OR ios_use_async_dump=.true.
ns=namelist/IO System Settings/IO Server/Debug
type=logical

[namelist:ioscntl=ios_decomp_model]
compulsory=true
description=Specify how the atmosphere grid is distributed over a parallel IO server
help=0: processor rows are evenly distributed over servers with surpluss assigned from rank 0 upward
    =1: processor rows are evenly distributed over servers with surpluss assigned from rank N downward
range=0:1
sort-key=ios8
type=integer

[namelist:ioscntl=ios_force_threading_mode]
compulsory=false
description=Override thread level returned by GC_INIT_THREAD
help=see UM ticket #4333
sort-key=iosg
values=0,1,2,3

[namelist:ioscntl=ios_interleave]
compulsory=true
description=false => Assigned in order
           =true  => Assigned by round robin
help=Specifies whether the distribution of tasks for each I/O server is
    =assigned in sequential order (false) or are interleaved by round robin
    =(true).
sort-key=iosh
type=logical

[namelist:ioscntl=ios_local_ro_files]
compulsory=false
description=false => Read-only files can be read by I/O servers.
           =true  => Read-only files are read on rank 0.
help=Because the I/O servers treat all operations in strict order opening a
    =read-only file on the I/O server can result in delays while other
    =pending operations are completed.
    =
    =If this option is set to true files opened with read-only attributes
    =will not use an I/O server,
    =and will be read on MPI rank 0.
sort-key=iosa
type=logical

[namelist:ioscntl=ios_lock_meter]
compulsory=false
description=True => Report time spent waiting for locks
help=If TRUE,
    =measure and report time spent waiting for OpenMP locks,
    =including locks on MPI in serialised MPI implementations and locks on the shared memory queue.
sort-key=iosb
type=logical

[namelist:ioscntl=ios_num_threads]
compulsory=false
description=Number of threads for the I/O Server
help=Select the number of threads for the I/O Server to use. By default
    =this will be number of threads used by the atmosphere unless specified
    =otherwise via this option. Note minimum value is 2 as that is what is
    =required to run the I/O server. Warning: using this option will
    =greatly complicate task/thread binding and so should be only be
    =used with great care.
range=2:32
sort-key=iosf
type=integer

[namelist:ioscntl=ios_offset]
compulsory=false
description=Rank offset of first I/O server: first task at Task Offset + Task
           =Spacing - 1
help=The offset from the first rank of the first I/O server.
    =
    =The first I/O server is located at rank ios_offset +
    =namelist:ioscntl=ios_task_spacing - 1.
    =
    =Subsequent I/O server processes are namelist:ioscntl=ios_spacing
    =tasks apart.
ns=namelist/IO System Settings/IO Server/Processors
range=-1024:1024
sort-key=p3
type=integer

[namelist:ioscntl=ios_print_start_time]
compulsory=true
description=True => Print time from start of model run when IO server called
help=Allow printing of time from start of model run when the IO server starts a timestep.
sort-key=iose
type=logical

[namelist:ioscntl=ios_relaytoslaves]
compulsory=true
description=Relay commands from lead IOS task to IOS team
help=Switches between two modes of operation. A value of false will drive
    = each IOS team member directly,
    =where true will drive only the lead IO
    = server task,
    =who will forward commands as needed
sort-key=ios4
type=logical

[namelist:ioscntl=ios_serialise_mpi_calls]
compulsory=false
description=false => Avoid serial access (if supported)
           =true => Force serial access to MPI library
help=Lock access to the MPI library so that two threads can not call it
    =simultaneously.
    =
    =A value of 'false' will allow the IO server to determine whether or not
    =a particular MPI library supports this. A value of 'true' will force the
    =behaviour (which may be useful if the MPI library is suspected to
    =contain threading bugs).
sort-key=ios5
type=logical

[namelist:ioscntl=ios_spacing]
compulsory=false
description=Spacing between I/O servers (I/O server processors at
           =r+n,
           =r+2n,r+3n,... where r is a constant offset from rank 0)
help=Specifies the gap between IO servers in MPI_COMM_WORLD.
    =
    =For optimal performance the spacing should ensure that each HPC node has
    =no more than one IO server; at the Met Office,
    =a node is typically
    =running 32 MPI tasks with 2 OpenMP threads. A value of 0 will
    =distribute the tasks evenly through the job.
ns=namelist/IO System Settings/IO Server/Processors
range=0:1024
sort-key=p2
type=integer

[namelist:ioscntl=ios_tasks_per_server]
compulsory=false
description=Number of MPI tasks used by each I/O server.
           =Cannot be greater than the number of processors N-S.
help=Select how many MPI tasks will be used for each IO server.
    =
    =The total number of tasks used by the IO Server subsystem is this
    =multiplied by the number of servers. The parallelism specified must be
    =the same or less than the decomposition of the atmosphere model in the
    =north-south direction.
ns=namelist/IO System Settings/IO Server/Processors
range=1:32
sort-key=p1
trigger=namelist:ioscntl=ios_interleave: this > 1
type=integer

[namelist:ioscntl=ios_thread_0_calls_mpi]
compulsory=false
description=false => Any OpenMP thread can call the MPI library (if supported)
           =true => Only OpenMP thread 0 can call the MPI library
help=Force the I/O server to only allow thread zero in an OpenMP team to call
    =the MPI library.
    =
    =A value of 'false' will allow the I/O server to determine whether or not
    =a particular MPI library supports arbitrary threads calling the library.
    =A value of 'true' will force the behaviour (which may be useful if the
    =MPI library is suspected to contain threading bugs).
sort-key=ios3
type=logical

[namelist:ioscntl=ios_timeout]
compulsory=false
description=Time an I/O process will wait for an operation to complete
           =(seconds)
help=The time in seconds that a component of the I/O server will wait when it
    =is expecting an operation to complete. It allows the model to abort with
    =meaningful debug information in the event of a deadlock.
range=30:1e5
sort-key=ios6
type=integer

[namelist:ioscntl=ios_unit_alloc_policy]
compulsory=false
description=1 => Static allocation based on unit number.
           =2 => Static allocation based on usage order.
           =3 => Round robin dynamic reallocation.
           =4 => Load balanced dynamic reallocation.
help=Specifies how a FORTRAN unit is mapped onto one of the available I/O
    =servers.
    =
    =1: Static allocation based on unit number. All allowed units are
    =assigned to servers at start up with a round robin allocation.
    =
    =2: Static allocation based on usage order. Units are assigned to servers
    =with a round robin allocation policy as they are first used.
    =
    =3: Dynamic allocation at reinitialisation points (round robin). Units
    =are generally allocated on first use as with option 2,
    =but the model is
    =able to re-map the allocation during execution when it safe to do so
    =(e.g. new dump files and STASH reinitialisation),
    =on a round robin
    =(deterministic) basis.
    =
    =4: Dynamic allocation at reinitialisation points (load balanced). As 3,
    =but using load balancing based upon the I/O server states. Load
    =balancing provides a more optimal mapping in most cases but is more
    =expensive to perform.
sort-key=ios9
values=0,1,2,3,4

[namelist:ioscntl=ios_use_async_dump]
compulsory=false
description=True => Use asynchronous communications
help=Allows the I/O server to use asynchronous communications to accelerate dump output.
ns=namelist/IO System Settings/IO Server/Acceleration
sort-key=acc0
type=logical

[namelist:ioscntl=ios_use_async_stash]
compulsory=false
description=true => Use asynchronous communications
help=Allows the I/O server to use asynchronous communications to accelerate
    =diagnostic output
ns=namelist/IO System Settings/IO Server/Acceleration
sort-key=acc1
trigger=namelist:ioscntl=ios_async_send_null: .true.;
       =namelist:ioscntl=ios_debug_no_subdomaining: .true.;
type=logical

[namelist:ioscntl=ios_use_helpers]
compulsory=false
description=true => Use helper threads
help=Allows the UM,or the I/O server,
    =to use spare threads as a helper
    =to accelerate reads
ns=namelist/IO System Settings/IO Server/Acceleration
sort-key=acc5
type=logical

[namelist:ioscntl=ios_verbosity]
compulsory=false
description=1 => Minimum
           =2 => Normal
           =3 => Operational
           =4 => Diagnostic
           =5 => Debug
help=Set the level of output from the I/O server:
    =
    =1 => Minimum output; essential messages only.
    =
    =2 => Normal output; standard informative messages and warnings.
    =
    =3 => Operational output; all informative messages and warnings.
    =
    =4 => Diagnostic output; all informative messages and warnings,
    =and
    =additional diagnostic messages.
    =
    =5 => Debug output; all informative messages and warnings,
    =additional
    =diagnostic messages,
    =and debugging messages. Note that some output is
    =generated by the I/O server during initialisation of the model,
    =even if
    =the I/O server is not configured for use.
sort-key=iosd
values=1,2,3,4,5

[namelist:items]
compulsory=false
description=The items namelists are used to configure ancillaries and initialse prognostics in the
           =reconfiguration. In the UM it is used to control the updating of ancillary fields.
           =If no items namelists are present in the app please select "View Latent Pages" and
           ="View Latent Variables" to manually add the namelist variables. To add a new namelist
           =right click below and select "Add new section".
           =
           =The index of each of the namelists is a unique hash key which represents the contents.
           =These values can be regenerated following any changes by running the
           =stash_indices.TidyStashTransform macro.
duplicate=true
ns=namelist/Reconfiguration and Ancillary Control/items
sort-key=a6b
title=Configure ancils and initialise dump fields

[namelist:items=ancilfilename]
compulsory=true
description=Ancillary file name including path
           =(leave blank if initialising prognostics)
help=Specify the ancil file to be configured and/or updated.
sort-key=2a
type=character

[namelist:items=domain]
compulsory=true
description=Select domain of ancillary file
sort-key=2b
value-titles=Whole grid,Sub grid
values=1,2

[namelist:items=interval]
compulsory=true
description=Interval between ancillary updates (units as specified by period)
range=1:
sort-key=5
type=integer

[namelist:items=period]
compulsory=true
description=Period of update interval
sort-key=4
value-titles=Years,Months,Days,Hours
values=1,2,3,4

[namelist:items=source]
compulsory=true
description=Specify source of start dump field(s)
help=Used by the reconfiguration to determine the source for the start dump field
    =
    =Please note that when using source = 8 or source = 9,
    =initialise from calculation routines,
    =that these routines must be available for the selected STASH code.  Please
    =see the list of STASH codes in rcf_field_calcs_mod.F90 and
    =rcf_field_dependent_calcs_mod.F90 at the appropriate code version.
sort-key=6
trigger=namelist:items=user_prog_rconst: 6;
       =namelist:items=user_prog_ancil_stash_req: 7;
value-titles=Allow reconfiguration to find default source,
            =Initialise from ancillary file,Set to zero,
            =Set to missing data,
            =Initialise tracer data from a tracer file,
            =Set to a specified constant value,
            =Initialise from an external file (single time field),
            =Initialise field via recon calculation routines,
            =Initialise field where dependency on other fields in output dump
            =means order is important to the calculation routines
values=1,2,3,4,5,6,7,8,9
warn-if=namelist:horizont=h_int_method == 3
       =#items namelist will be ignored by reconfiguration if nearest neighbour interpolation is selected
       =namelist:recon=select_output_fields == 1 or namelist:recon=select_output_fields == 2
       =#items namelist will not be read by reconfiguration if select_output_fields=1 or 2 (All output fields taken from input dump)
widget[rose-config-edit]=rose.config_editor.valuewidget.radiobuttons.RadioButtonsValueWidget

[namelist:items=stash_req]
compulsory=true
description=Select STASH items to configure/initialise
help=Specified as an integer,
    =where the thousands represent the section
    =code and the remaing digits represent the item code.
    =
    =i.e. user_prog_ancil_stash_req=34048 is section 34,
    =item 48.
length=25
sort-key=1
type=integer
widget[rose-config-edit]=stash.StashCodeChooserValueWidgetv1

[namelist:items=update_anc]
compulsory=true
description=Update ancillary field periodically in model run.
fail-if=this == ".true." and namelist:nlstcgen=steps_per_periodim % 24 != 0;
       =# Model steps must coincide with whole hours to use Ancil updating
help=Overwrite the field periodically as the model progresses. The start of each
    =period is defined relative to a common ancillary updating reference time
    =specified by namelist:nlstcall=ancil_reftime.  The field is updated at the start
    =of each period and at the beginning of the run. The fields are time-interpolated
    =to the centre point of the period in question. The start time of the run may be
    =part way through a period. In this case the fields are time-interpolated to the
    =centre point of the full period without reference to the start time. It is
    =possible to use the start time as the reference time.
sort-key=3
trigger=namelist:items=interval: .true.;
       =namelist:items=period: .true.;
type=logical

[namelist:items=user_prog_ancil_stash_req]
compulsory=true
description=STASHcode of field to be taken from external file
help=Specified as an integer,
    =where the thousands represent the section
    =code and the remaing digits represent the item code.
    =
    =i.e. user_prog_ancil_stash_req=34048 is section 34,
    =item 48.
    =
    =This external file STASHcode does not have to match the output dump
    =STASHcode in namelist:items=stash_req.  For example the user prognostic
    =field may be being transferred to a different field in the output dump.
range=1:
sort-key=8
type=integer

[namelist:items=user_prog_rconst]
compulsory=true
description=Initialise to constant
help=Specify constant value to initialise field to.
sort-key=7
type=real

[namelist:jules_elevate]
compulsory=true
ns=namelist/JULES Science Settings/jules_elevate
title=JULES tile heights

[namelist:jules_elevate=l_elev_absolute_height]
compulsory=true
description=Interpret tile elevations as absolute values above sea-level rather than relative to grid-box mean
help=Only used when jules_surface=l_aggregate is false
length=:
sort-key=1
type=logical

[namelist:jules_elevate=surf_hgt_io]
compulsory=true
description=Height of tile above mean gridbox surface (m)
help=Only used when jules_surface=l_aggregate is false
length=:
sort-key=2
type=real

[namelist:jules_hydrology]
compulsory=true
ns=namelist/JULES Science Settings/hydrology
title=JULES hydrology options

[namelist:jules_hydrology=b_pdm]
compulsory=false
description=Shape factor for the pdf
type=real

[namelist:jules_hydrology=dz_pdm]
compulsory=false
description=Depth of soil considered by PDM (m)
type=real

[namelist:jules_hydrology=l_baseflow_corr]
compulsory=false
description=Use a correction to the calculation of baseflow
type=logical

[namelist:jules_hydrology=l_hydrology]
compulsory=true
description=Run with hydrology scheme
type=logical

[namelist:jules_hydrology=l_pdm]
compulsory=true
description=Use PDM scheme
trigger=namelist:jules_hydrology=b_pdm: .true.;
       = namelist:jules_hydrology=dz_pdm: .true.;
type=logical

[namelist:jules_hydrology=l_top]
compulsory=true
description=Use TOPMODEL scheme
trigger=namelist:jules_hydrology=zw_max: .true.;
       = namelist:jules_hydrology=ti_max: .true.;
       = namelist:jules_hydrology=ti_wetl: .true.;
       = namelist:jules_hydrology=l_baseflow_corr: .true.;
       = namelist:jules_hydrology=l_wetland_unfrozen: .true.;
       = namelist:jules_hydrology=l_wetland_ch4_npp: .true.;
type=logical

[namelist:jules_hydrology=l_var_rainfrac]
compulsory=true
description=Use variable rain fractions in JULES hydrology
help=When selected,
    =this option will pass the large-scale and
    = convective rain fractions calculated by the atmosphere
    = code into JULES hydrology for use in throughfall and
    = runoff calculations. If unselected,
    =these are assumed
    = to be 1 for large-scale and 0.3 for convective rain.
type=logical

[namelist:jules_hydrology=l_wetland_ch4_npp]
compulsory=true
description=Use NPP as substrate for methane wetland emissions
type=logical

[namelist:jules_hydrology=l_wetland_unfrozen]
compulsory=true
description=Use unfrozen wetland TOPMODEL scheme
type=logical

[namelist:jules_hydrology=ti_max]
compulsory=false
description=Maximum possible value of the topographic index
type=real

[namelist:jules_hydrology=ti_wetl]
compulsory=false
description=Calibration parameter used in calculation of the wetland fraction
help=It is used to increment the "critical" value of the topographic index
    = that is used to calculate the saturated fraction of the gridbox.
    = It excludes locations with large values of the topographic index from
    = the wetland fraction.
    =
    = See Gedney and Cox (2003).
type=real

[namelist:jules_hydrology=zw_max]
compulsory=false
description=Maximum allowed depth to the water table (m)
help=This is the depth to the bottom of an additional layer below
    = the soil layers,
    =and hence should be set to a value greater
    = than SUM(dzsoil).
type=real

[namelist:jules_nvegparm]
compulsory=true
ns=namelist/JULES Science Settings/nvegparm
title=JULES non-vegetation parameters

[namelist:jules_nvegparm=albsnc_nvg_io]
description=Snow-covered albedo
fail-if=len(this) != namelist:jules_surface_types=nnvg
help=Only used when namelist:jules_radiation=l_snow_albedo is false
length=:
range=0:1
type=real

[namelist:jules_nvegparm=albsnf_nvg_io]
compulsory=true
description=Snow-free albedo
fail-if=len(this) != namelist:jules_surface_types=nnvg
help=The snow-free albedo of bare soil is supplied by an ancillary field,
    =so is usually set to -1.00.
length=:
range=-1:1
type=real

[namelist:jules_nvegparm=albsnf_nvgl_io]
description=Lower limit on albsnf_nvg_io
fail-if=len(this) != namelist:jules_surface_types=nnvg
help=Used when namelist:jules_radiation=l_albedo_obs is true.
length=:
range=0:1
type=real

[namelist:jules_nvegparm=albsnf_nvgu_io]
description=Upper limit on albsnf_nvg_io
fail-if=len(this) != namelist:jules_surface_types=nnvg
help=Used when namelist:jules_radiation=l_albedo_obs is true.
length=:
range=0:1
type=real

[namelist:jules_nvegparm=catch_nvg_io]
description=Capacity for water (kg m-2)
fail-if=len(this) != namelist:jules_surface_types=nnvg
length=:
type=real

[namelist:jules_nvegparm=ch_nvg_io]
description=Heat capacity of this surface type (J K-1 m-2)
fail-if=len(this) != namelist:jules_surface_types=nnvg
help=Used only if namelist:jules_vegetation=can_model is 3 or 4.
length=:
type=real

[namelist:jules_nvegparm=emis_nvg_io]
compulsory=true
description=Surface emissivity
fail-if=len(this) != namelist:jules_surface_types=nnvg
help=Surface emissivity of non-vegetated surfaces
length=:
range=0:1
type=real

[namelist:jules_nvegparm=gs_nvg_io]
description=Surface conductance (m s-1)
fail-if=len(this) != namelist:jules_surface_types=nnvg
length=:
type=real

[namelist:jules_nvegparm=infil_nvg_io]
description=Infiltration enhancement factor
fail-if=len(this) != namelist:jules_surface_types=nnvg
help=The maximum infiltration rate defined by the soil parameters
    =for the whole gridbox may be modified for each tile to account
    =for tile-dependent factors
length=:
type=real

[namelist:jules_nvegparm=vf_nvg_io]
description=Fractional coverage of non-vegetation "canopy"
fail-if=len(this) != namelist:jules_surface_types=nnvg
help=Typically set to 0.0,
    =but value of 1.0 used if tile should
    =have a heat capacity in conjunction with
    =namelist:jules_vegetation=can_model options 3 or 4.
length=:
range=0:1
type=real

[namelist:jules_nvegparm=z0_nvg_io]
description=Roughness length for momentum (m)
fail-if=len(this) != namelist:jules_surface_types=nnvg
length=:
type=real

[namelist:jules_nvegparm=z0hm_classic_nvg_io]
description=Ratio of the roughness length for heat to the roughness length for momentum for the CLASSIC aerosol scheme only
fail-if=len(this) != namelist:jules_surface_types=nnvg
length=:
type=real

[namelist:jules_nvegparm=z0hm_nvg_io]
description=Ratio of the roughness length for heat to the roughness length for momentum
fail-if=len(this) != namelist:jules_surface_types=nnvg
length=:
type=real

[namelist:jules_pftparm]
compulsory=true
ns=namelist/JULES Science Settings/pftparm
title=JULES PFT parameters

[namelist:jules_pftparm=a_wl_io]
description=Allometric coefficient relating the target woody biomass to the leaf area index (kg carbon m-2)
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_pftparm=a_ws_io]
description=Woody biomass as a multiple of live stem biomass
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_pftparm=aef_io]
compulsory=true
description=Acetone emission factor per PFT (gC g-1 h-1)
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real
url=http://www.jchmr.org/jules/documentation/user_guide/vn3.4/namelists/pft_params.nml.html#JULES_PFTPARM::aef_io

[namelist:jules_pftparm=albsnc_max_io]
description=Snow-covered albedo for large LAI
fail-if=len(this) != namelist:jules_surface_types=npft
help=Only used when namelist:jules_radiation=l_snow_albedo is false
length=:
range=0:1
type=real

[namelist:jules_pftparm=albsnc_min_io]
description=Snow-covered albedo for zero LAI
fail-if=len(this) != namelist:jules_surface_types=npft
help=Only used when namelist:jules_radiation=l_snow_albedo is false.
length=:
range=0:1
type=real

[namelist:jules_pftparm=albsnf_max_io]
description=Snow-free albedo for large LAI
#trigger = namelist:jules_pftparm=albsnf_maxl_io;
#          namelist:jules_pftparm=albsnf_maxu_io;
fail-if=len(this) != namelist:jules_surface_types=npft
help=Only used when namelist:jules_radiation=l_spec_albedo is false.
length=:
range=0:1
type=real

[namelist:jules_pftparm=albsnf_maxl_io]
description=Lower limit on albsnf_max_io
fail-if=len(this) != namelist:jules_surface_types=npft
help=Lower limit on albsnf_max_io when l_albedo_obs is true.
length=:
range=0:1
type=real

[namelist:jules_pftparm=albsnf_maxu_io]
description=Upper limit on albsnf_max_io
fail-if=len(this) != namelist:jules_surface_types=npft
help=Upper limit on albsnf_max_io when l_albedo_obs is true.
length=:
range=0:1
type=real

[namelist:jules_pftparm=alnir_io]
description=NIR Leaf reflection coeff.
#trigger = namelist:jules_pftparm=alniru_io;
#          namelist:jules_pftparm=alnirl_io;
fail-if=len(this) != namelist:jules_surface_types=npft
help=Leaf reflection coefficient for Near Infra Red wavelengths > 690nm.
    =Used when namelist:jules_radiation=l_spec_albedo is true.
length=:
range=0:1
type=real

[namelist:jules_pftparm=alnirl_io]
description=Lower limit on alnir_io
fail-if=len(this) != namelist:jules_surface_types=npft
help=Lower limit on alnir_io,
    =used when namelist:jules_radiation=l_spec_albedo
    =and namelist:jules_radiation=l_albedo_obs are both true.
length=:
range=0:1
type=real

[namelist:jules_pftparm=alniru_io]
description=Upper limit on alnir_io
fail-if=len(this) != namelist:jules_surface_types=npft
help=Upper limit on alnir_io,
    =used when namelist:jules_radiation=l_spec_albedo
    =and namelist:jules_radiation=l_albedo_obs are both true.
length=:
range=0:1
type=real

[namelist:jules_pftparm=alpar_io]
description=VIS Leaf reflection coeff.
#trigger = namelist:jules_pftparm=alparu_io;
#          namelist:jules_pftparm=alparl_io;
fail-if=len(this) != namelist:jules_surface_types=npft
help=Leaf reflection coefficient for wavelengths < 690nm (Photosyntehtically Active Radiation).
    =Used when namelist:jules_radiation=l_spec_albedo is true.
length=:
range=0:1
type=real

[namelist:jules_pftparm=alparl_io]
description=Lower limit on alpar_io
fail-if=len(this) != namelist:jules_surface_types=npft
help=Lower limit on alpar_io,
    =used when
    =namelist:jules_radiation=l_spec_albedo and
    =namelist:jules_radiation=l_albedo_obs are both true.
length=:
type=real

[namelist:jules_pftparm=alparu_io]
description=Upper limit on alpar_io
fail-if=len(this) != namelist:jules_surface_types=npft
help=Upper limit on alpar_io,
    =used when
    =namelist:jules_radiation=l_spec_albedo and
    =namelist:jules_radiation=l_albedo_obs are both true.
length=:
range=0:1
type=real

[namelist:jules_pftparm=alpha_io]
description=Quantum efficiency (mol CO2 per mol PAR photons)
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_pftparm=b_wl_io]
description=Allometric exponent relating the target woody biomass to the leaf area index
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_pftparm=c3_io]
description=Flag indicating whether PFT is C3 type
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
value-titles=Not C3,C3
values=0,1

[namelist:jules_pftparm=catch0_io]
description=Minimum canopy capacity (kg m-2)
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_pftparm=ci_st_io]
compulsory=true
description=Leaf-internal CO2 concentration (Pa)
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_pftparm=dcatch_dlai_io]
description=Rate of change of canopy capacity with LAI (kg m-2)
fail-if=len(this) != namelist:jules_surface_types=npft
help=Canopy capacity is calculated as catch0 + dcatch_dlai*lai
length=:
type=real

[namelist:jules_pftparm=dgl_dm_io]
description=Rate of change of leaf turnover rate with moisture availability
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_pftparm=dgl_dt_io]
description=Rate of change of leaf turnover rate with temperature (K-1)
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_pftparm=dqcrit_io]
description=Critical humidity deficit (kg H2O per kg air)
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

# Adding this to the run_dust section:
[namelist:jules_pftparm=dust_veg_scj_io]
description=Scaling factor for each land surface type
fail-if=len(this) != namelist:jules_surface_types=npft
help=This is applied when dust_veg_emiss is non-zero and
    =allows the dust emission from different land surface
    =types to be reduced/switched off.
length=:
ns=namelist/UM Science Settings/section17/run_dust
range=0:
sort-key=a9
type=real

[namelist:jules_pftparm=dz0v_dh_io]
description=Rate of change of vegetation roughness length for momentum with height
fail-if=len(this) != namelist:jules_surface_types=npft
help=Roughness length is calculated as dz0v_dh * canht_ft
length=:
type=real

[namelist:jules_pftparm=emis_pft_io]
description=Surface emissivity
fail-if=len(this) != namelist:jules_surface_types=npft
help=Surface emissivity of vegetated surfaces
length=:
range=0:1
type=real

[namelist:jules_pftparm=eta_sl_io]
description=Live stemwood coefficient (kg C/m/LAI)
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_pftparm=f0_io]
description=CI / CA for DQ = 0
fail-if=len(this) != namelist:jules_surface_types=npft
help=See HCTN 24 Eq. 32
length=:
type=real

[namelist:jules_pftparm=fd_io]
description=Scale factor for dark respiration
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_pftparm=fsmc_of_io]
description=Moisture availability below which leaves are dropped
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_pftparm=g_leaf_0_io]
description=Minimum turnover rate for leaves (/360days)
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_pftparm=glmin_io]
description=Minimum leaf conductance for H2O (m s-1)
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_pftparm=gpp_st_io]
compulsory=true
description=Gross primary production (GPP) at standard conditions (kgC m-2 s-1 )
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_pftparm=ief_io]
compulsory=true
description=Isoprene emission factor per PFT (gC g-1 h-1)
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real
url=http://www.jchmr.org/jules/documentation/user_guide/vn3.4/namelists/pft_params.nml.html#JULES_PFTPARM::ief_io

[namelist:jules_pftparm=infil_f_io]
description=Infiltration enhancement factor
fail-if=len(this) != namelist:jules_surface_types=npft
help=The maximum infiltration rate defined by the soil parameters
    =for the whole gridbox may be modified for each PFT to account
    =for tile-dependent factors,
    =such as macro-pores related to
    =vegetation roots
length=:
type=real

[namelist:jules_pftparm=kext_io]
description=Light extinction coefficient
fail-if=len(this) != namelist:jules_surface_types=npft
help=Used with Beer's Law for light absorption through tile canopies
length=:
type=real

[namelist:jules_pftparm=kn_io]
description=Decay of nitrogen through the canopy
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_pftparm=kpar_io]
description=PAR Extinction coefficient (m2 leaf / m2 ground)
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_pftparm=lai_alb_lim_io]
description=Minimum LAI for plant canopies in the absence of snow.
fail-if=len(this) != namelist:jules_surface_types=npft
help=A minimum albedo is imposed when calculating the albedo of
    = plant canopies (historically 0.5). This parameter allows it
    = to be set for each PFT in the absence of snow. A separate
    = variable,
    =lai_alb_lim_sn is used in the presence of snow.
length=:
type=real

[namelist:jules_pftparm=lma_io]
description=Leaf mass per unit area (kgLeaf m-2)
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_pftparm=mef_io]
compulsory=true
description=Methanol emission factor per PFT (gC g-1 h-1)
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real
url=http://www.jchmr.org/jules/documentation/user_guide/vn3.4/namelists/pft_params.nml.html#JULES_PFTPARM::mef_io

[namelist:jules_pftparm=neff_io]
description=Scale factor relating Vcmax with leaf nitrogen concentration
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_pftparm=nl0_io]
description=Top leaf nitrogen concentration (kg N/kg C)
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_pftparm=nmass_io]
description=Top leaf nitrogen content per unit mass (kgN kgLeaf-1)
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_pftparm=nr_nl_io]
description=Ratio of root nitrogen concentration to leaf nitrogen concentration
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_pftparm=ns_nl_io]
description=Ratio of stem nitrogen concentration to leaf nitrogen concentration
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_pftparm=omega_io]
description=VIS Leaf scattering coeff.
#trigger = namelist:jules_pftparm=omegau_io;
#          namelist:jules_pftparm=omegal_io;
fail-if=len(this) != namelist:jules_surface_types=npft
help=Leaf scattering coefficient for wavelengths < 690nm (Photosyntehtically Active Radiation).
    =Used when namelist:jules_radiation=l_spec_albedo is true.
length=:
range=0:1
type=real

[namelist:jules_pftparm=omegal_io]
description=Lower limit on omega_io
fail-if=len(this) != namelist:jules_surface_types=npft
help=Lower limit on omega_io,
    =used when namelist:jules_radiation=l_spec_albedo
    =and namelist:jules_radiation=l_albedo_obs are both true.
length=:
range=0:1
type=real

[namelist:jules_pftparm=omegau_io]
description=Upper limit on omega_io(kgLeaf m-2)
fail-if=len(this) != namelist:jules_surface_types=npft
help=Upper limit on omega_io,
    =used when namelist:jules_radiation=l_spec_albedo
    =and namelist:jules_radiation=l_albedo_obs are both true.
length=:
range=0:1
type=real

[namelist:jules_pftparm=omnir_io]
description=NIR Leaf scattering coeff.
#trigger = namelist:jules_pftparm=omniru_io;
#          namelist:jules_pftparm=omnirl_io;
fail-if=len(this) != namelist:jules_surface_types=npft
help=Leaf scattering coefficient for Near Infra Red wavelengths > 690nm.
    =Used when namelist:jules_radiation=l_spec_albedo is true.
length=:
range=0:1
type=real

[namelist:jules_pftparm=omnirl_io]
description=Lower limit on omega_io
fail-if=len(this) != namelist:jules_surface_types=npft
help=Lower limit on omega_io,
    =used when namelist:jules_radiation=l_spec_albedo
    =and namelist:jules_radiation=l_albedo_obs are both true.
length=:
range=0:1
type=real

[namelist:jules_pftparm=omniru_io]
description=Upper limit on omega_io
fail-if=len(this) != namelist:jules_surface_types=npft
help=Upper limit on omega_io,
    =used when namelist:jules_radiation=l_spec_albedo
    =and namelist:jules_radiation=l_albedo_obs are both true.
length=:
range=0:1
type=real

[namelist:jules_pftparm=orient_io]
description=Flag indicating leaf angle distribution
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
value-titles=Spherical,Horizontal
values=0,1

[namelist:jules_pftparm=q10_leaf_io]
description=Q10 factor for plant respiration
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_pftparm=r_grow_io]
description=Growth respiration fraction
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_pftparm=rootd_ft_io]
description=Root depth (m)
fail-if=len(this) != namelist:jules_surface_types=npft
help=An exponential distribution with depth is assumed,
    =with
    =e-folding depth rootd_ft. Note that this means that generally
    =some of the roots exist at depths greater than rootd_ft.
length=:
type=real

[namelist:jules_pftparm=sigl_io]
description=Specific density of leaf carbon (kg C/m2 leaf)
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_pftparm=tef_io]
compulsory=true
description=(Mono-)Terpene emission factor per PFT (gC g-1 h-1)
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real
url=http://www.jchmr.org/jules/documentation/user_guide/vn3.4/namelists/pft_params.nml.html#JULES_PFTPARM::tef_io

[namelist:jules_pftparm=tleaf_of_io]
description=Temperature below which leaves are dropped (K)
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_pftparm=tlow_io]
description=Lower temperature for photosynthesis (deg C)
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_pftparm=tupp_io]
description=Upper temperature for photosynthesis (deg C)
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_pftparm=vint_io]
description=intercept in VCMAX and NAREA
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_pftparm=vsl_io]
description=slope in VCMAX and NAREA
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_pftparm=z0hm_classic_pft_io]
description=Ratio of the roughness length for heat to the roughness length for momentum for the CLASSIC aerosol scheme only
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_pftparm=z0hm_pft_io]
description=Ratio of the roughness length for heat to the roughness length for momentum
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_radiation]
compulsory=true
ns=namelist/JULES Science Settings/radiation
title=JULES radiation options

[namelist:jules_radiation=i_sea_alb_method]
compulsory=true
description=Choice of model for the Ocean Surface Albedo (open water,
           =ice free):
           =1 => Initial method,Briegleb and Ramanathan,
           =1982.
           =2 => Barker and Li,1995.
           =3 => Jin et al. 2011.
help=1: Diffuse albedo constant (0.06),
    =Direct albedo from Briegleb and Ramanathan.
    =   Spectral and Diurnal Variations in Clear Sky Planetary Albedo. 1982.
    =   J. Appl. Met. doi:10.1175/1520-0450(1982)021<1160:SADVIC>2.0.CO;2.
    =
    =2: Diffuse albedo constant (0.06),
    =Direct albedo from Barker and Li.
    =   Improved simulation of clear-sky radiative transfer in the CCC-GCM. 1995.
    =   J. Climate. doi:10.1175/1520-0442(1995)008<2213:ISOCSS>2.0.CO;2.
    =
    =3: Direct and Diffuse albedo from Jin et al.
    =   A new parameterization of spectral and broadband ocean surface albedo. 2011.
    =   Optics Express. doi:10.1364/OE.19.026429.
trigger=namelist:jules_radiation=l_sea_alb_var_chl: 3;
values=1,2,3

[namelist:jules_radiation=l_albedo_obs]
compulsory=true
# triggers either albsnf_maxu/l or alparu/l, alniru/l etc
# depending on whether l_spec_albedo triggers albsnf_max or alpar:
#trigger = namelist:jules_pftparm=albsnf_maxu_io: .true.;
#          namelist:jules_pftparm=albsnf_maxl_io: .true.;
#trigger = namelist:jules_pftparm=alparu_io: .true.;
#          namelist:jules_pftparm=alparl_io: .true.;
#          namelist:jules_pftparm=alniru_io: .true.;
#          namelist:jules_pftparm=alnirl_io: .true.;
#          namelist:jules_pftparm=omegau_io: .true.;
#          namelist:jules_pftparm=omegal_io: .true.;
#          namelist:jules_pftparm=omniru_io: .true.;
#          namelist:jules_pftparm=omnirl_io: .true.;
#          namelist:jules_nvegparm=albsnf_nvgu_io: .true.;
#          namelist:jules_nvegparm=albsnf_nvgl_io: .true.;
description=Scale albedos of land-surface tiles to agree with obs
help=Allows the UM to read in an ancillary file containing albedos (either
    =SW(STASH 243) or VIS(STASH 244) and NIR(STASH 245)). The albedos of the
    =individual land-surface tiles are then scaled to match the supplied albedos
    =(within physical limits supplied in the JULES namelists). The supplied
    =albedos should be from an observed climatology or analysis system.
type=logical

[namelist:jules_radiation=l_dolr_land_black]
compulsory=true
description=If true,
           =do not use the surface emissivity in adjusting the OLR at land points
type=logical

[namelist:jules_radiation=l_embedded_snow]
compulsory=true
description=Use embedded canopy albedo scheme.
type=logical

[namelist:jules_radiation=l_mask_snow_orog]
compulsory=true
description=Include orographic masking of snow.
help=Decreases albedo of snow in mountainous regions.
type=logical

[namelist:jules_radiation=l_sea_alb_var_chl]
compulsory=true
description=Use spatially varying chlorophyll content to calculate the open sea albedos
help=The Jin et al. parameterisation of open sea albedo includes chlorophyll content.
    =This can either be held constant at 0.5 mg m-3,
    =or input as an ancillary field.
type=logical

[namelist:jules_radiation=l_snow_albedo]
compulsory=true
description=Include prognostic snow albedos.
#trigger = namelist:jules_pftparm=albsnc_max_io: .false.;
#          namelist:jules_pftparm=albsnc_min_io: .false.;
#          namelist:jules_nvegparm=albsnc_nvg_io: .false.;
fail-if=this == '.true.' and namelist:jules_radiation=l_spec_albedo == '.false.'
help=The prognostic snow albedo scheme represents the effect of snow aging and
    =soot deposition on the albedo.
    =Only available when namelist:jules_radiation=l_spec_albedo is true.
type=logical

[namelist:jules_radiation=l_spec_alb_bs]
compulsory=true
description=Use a single value for both the direct and diffuse beams
help=Instead of a separate direct ('black' sky) and diffuse ('white' sky) albedos,
    =this option will mean JULES returns a single albedo for both (a 'blue' sky albedo).
    =At present,
    =this follows the non-spectral albedo and just returns the diffuse albedo.
type=logical

[namelist:jules_radiation=l_spec_albedo]
compulsory=true
#          namelist:jules_pftparm=alpar_io: .true.;
#          namelist:jules_pftparm=alnir_io: .true.;
#          namelist:jules_pftparm=omega_io: .true.;
#          namelist:jules_pftparm=omega_io: .true.;
#          namelist:jules_pftparm=omnir_io: .true.;
#          namelist:jules_pftparm=omnir_io: .true.;
# Cannot include these triggers as it will mean that the snow
# parameters in jules_pftparm and and jule_nvegparm cannot appear
# as the condition would become l_spec_albedo or l_snow_albedo is false
# and there are no OR in rose triggers...
#          namelist:jules_radiation=l_snow_albedo: .true.;
#          namelist:jules_pftparm=albsnc_max_io: .false.;
#          namelist:jules_pftparm=albsnc_min_io: .false.;
#          namelist:jules_nvegparm=albsnc_nvg_io: .false.;
description=Include spectral land-surface albedos
help=The spectral land-surface albedos set different albedo values
    =for the VIS and NIR bands. By default this includes separate values
    =for direct ('black' sky) and diffuse ('white' sky) albedos.
# triggers other options becom available, and switches between
# different sets of paramaeters:
trigger=namelist:jules_radiation=l_spec_alb_bs: .true.;
       =namelist:jules_pftparm=albsnf_max_io: .false.;
type=logical

[namelist:jules_radiation=l_spec_sea_alb]
compulsory=true
description=Use spectrally varying open sea albedos
help=When namelist:jules_radiation=i_sea_alb_method == 1 or 2,
    =spectrally varying
    =sea albedos are produced only when the spectral file contains 6 SW bands
    =identical to those used in HadGEM1.
    =
    =When namelist:jules_radiation=i_sea_alb_method == 3,
    =the spectral variability is
    =calculated as per the Jin et al. parameterisation.
type=logical

[namelist:jules_radiation=wght_alb]
compulsory=true
description=Weights for disaggregation of SW flux in the standard order
           =VIS direct,
           =VIS diffuse,NIR direct,NIR diffuse
length=4
type=real

[namelist:jules_sea_seaice]
compulsory=true
ns=namelist/JULES Science Settings/sea_seaice
title=JULES sea and sea-ice options

[namelist:jules_sea_seaice=a_chrn_coare]
compulsory=true
description=Coefficient of 10m wind speed in expression for
           =Charnock's coefficient in COARE algorithm.
help=Only used if namelist:jules_sea_seaice=iseasurfalg = 3
sort-key=01
type=real

[namelist:jules_sea_seaice=ahmax]
compulsory=true
description=4-band sea ice albedo scheme: thickness above which
           =underlying ocean doesn't affect sea ice albedo (m)
range=0:30
sort-key=02
type=real

[namelist:jules_sea_seaice=albicei_cice]
compulsory=true
description=4-band sea ice albedo scheme: bare ice albedo (near-IR)
range=0:1
sort-key=04
type=real

[namelist:jules_sea_seaice=albicev_cice]
compulsory=true
description=4-band sea ice albedo scheme: bare ice albedo (visible)
range=0:1
sort-key=03
type=real

[namelist:jules_sea_seaice=albpondi_cice]
compulsory=true
description=4-band sea ice albedo scheme: meltpond albedo (near-IR)
range=0:1
sort-key=08
type=real

[namelist:jules_sea_seaice=albpondv_cice]
compulsory=true
description=4-band sea ice albedo scheme: meltpond albedo (visible)
range=0:1
sort-key=07
type=real

[namelist:jules_sea_seaice=albsnowi_cice]
compulsory=true
description=4-band sea ice albedo scheme: snow albedo (near-IR)
range=0:1
sort-key=06
type=real

[namelist:jules_sea_seaice=albsnowv_cice]
compulsory=true
description=4-band sea ice albedo scheme: snow albedo (visible)
range=0:1
sort-key=05
type=real

[namelist:jules_sea_seaice=alphab]
# This needs triggers for NEMO, CICE, SSICEALBEDO
# [namelist:jules_sea_seaice=l_ssice_albedo] trigger=namelist_jules_sea_seaice=alphab: .true.
compulsory=true
description=Original HadGEM sea ice albedo scheme: Albedo of snow free ('bare') sea-ice
range=0:1
sort-key=09
type=real

[namelist:jules_sea_seaice=alphac]
compulsory=true
description=Original HadGEM sea ice albedo scheme:  Albedo of sea-ice at and
           =below odegC-dtice if .not.l_ssice_albedo,
           =or albedo of snow on sea-ice
           =at and below 0degC-dtice if l_ssice_albedo ("C" for "cold")
range=0:1
sort-key=10
type=real

[namelist:jules_sea_seaice=alpham]
compulsory=true
description=Original HadGEM sea ice albedo scheme: Albedo of sea-ice at melting point (TM)
           =if .not.l_ssice_albedo,
           =or albedo of snow on sea-ice at melting point (TM) if
           =l_ssice_albedo. ("M" for "melting")
range=0:1
sort-key=11
type=real

[namelist:jules_sea_seaice=b_chrn_coare]
compulsory=true
description=Constant term in expression for
           =Charnock's coefficient in COARE algorithm.
help=Only used if namelist:jules_sea_seaice=iseasurfalg = 3
sort-key=12
type=real

[namelist:jules_sea_seaice=buddy_sea]
compulsory=true
description=Use neighbouring sea point wind-speeds in coastal grid points
sort-key=13
value-titles=Off,On
values=0,1

[namelist:jules_sea_seaice=charnock]
compulsory=false
description=Charnock parameter for roughness length of sea points
range=0.0:1.0
sort-key=14
type=real

[namelist:jules_sea_seaice=dalb_bare_wet]
compulsory=true
description=Original HadGEM sea ice albedo scheme: Increment to albedo
           =for each degree temperature rises above 0degC-dt_bare.
           =Only used if l_sice_meltponds and l_ssice_albedo
range=-1.0:0
sort-key=15
type=real

[namelist:jules_sea_seaice=dalb_mlt_cice]
compulsory=true
description=4-band sea ice albedo scheme: Increment to sea ice albedo for
           =each degree temperature rises above 0degC-dt_bare (not used
           =when explicit meltponds are in use)
range=-1:0
sort-key=16
type=real

[namelist:jules_sea_seaice=dalb_mlts_i_cice]
compulsory=true
description=4-band sea ice albedo scheme: Increment to near-IR snow albedo
           =for each degree temperature rises above 0degC-dt_bare
range=-1:0
sort-key=18
type=real

[namelist:jules_sea_seaice=dalb_mlts_v_cice]
compulsory=true
description=4-band sea ice albedo scheme: Increment to visible snow albedo
           =for each degree temperature rises above 0degC-dt_bare
range=-1:0
sort-key=17
type=real

[namelist:jules_sea_seaice=dt_bare]
# dependent on namelist:jules_sea_seaice=l_ssice_albedo
compulsory=true
description=Original HadGEM sea ice albedo scheme: Temperature below freezing
           =at which melt ponds form  if l_sice_meltponds and
           =l_ssice_albedo (degC)
range=0:100
sort-key=19
type=real

[namelist:jules_sea_seaice=dt_bare_cice]
compulsory=true
description=CICE sea ice albedo scheme: Temperature below freezing at which
           =melt ponds form
range=0:100
sort-key=20
type=real

[namelist:jules_sea_seaice=dt_snow_cice]
compulsory=true
description=CICE sea ice albedo scheme: Temperature range in which albedo of
           =sea-ice,
           =if .not. l_ssice_albedo,
           =or of snow on sea-ice varies
           =between its limits.
range=0:100
sort-key=21
type=real

[namelist:jules_sea_seaice=dtice]
compulsory=true
description=Original HadGEM sea ice albedo scheme: Temperature range in which
           =albedo of sea-ice,
           =if .not.l_ssice_albedo,or of snow on sea-ice,
           =if l_ssice_albedo,
           =varies between its limits.  Recommended range
           =5-10K
range=0.1:50
sort-key=22
type=real

[namelist:jules_sea_seaice=emis_sea]
compulsory=false
description=Emissivity of open sea
sort-key=23
type=real

[namelist:jules_sea_seaice=emis_sice]
compulsory=false
description=Emissivity of sea-ice
sort-key=24
type=real

[namelist:jules_sea_seaice=iseasurfalg]
compulsory=true
description=Algorithm for surface exchange over the sea.
help=The most basic option for surface transfer at the sea surface
    =consists of a specification of Charnock's coefficient for the
    =momentum roughness length, including the aerodynamically smooth
    =contribution in light winds, and a fixed thermal roughness length.
    =Surface divergence theory allows for a vraiable thermal roughness
    =length that follows the aerodynamicall smooth limit in light winds
    =and decreases in stronger winds, giving a slower increase in the
    =exchange coefficient for moisture as the wind rises. Historically,
    =roughness lengths that depend on the friction velocity have not
    =been iterated within the calculation of the Obukhov length, though
    =this is more consistent: an iterative option is therefore provided.
    =The COARE algorithm is based on a range of observations and exists
    =in various forms. It features a dependence of Charnock's coefficient
    =on the wind speed and a dependence of the thermal roughness length
    =on the roughness Reynolds number. Extra parameters allow different
    =versions of the algorithm to be used.
sort-key=25
trigger=namelist:jules_sea_seaice=charnock: 0,1,
       =2;
       =namelist:jules_sea_seaice=l_10m_neut: 3;
       =namelist:jules_sea_seaice=a_chrn_coare: 3;
       =namelist:jules_sea_seaice=b_chrn_coare: 3;
       =namelist:jules_sea_seaice=u10_max_coare: 3;
       =namelist:jules_sea_seaice=u10_min_coare: 3;
value-titles="Fixed values of Charnock's coefficient and
            =thermal roughness length",
            ="Fixed value of Charnock's coefficient with thermal
            =roughness from surface divergence theory (non-iterative)",
            ="Fixed value of Charnock's coefficient with thermal
            =roughness from surface divergence theory (iterative)",
            ="Roughness lengths follow functional forms of the COARE
            =algorithm"
values=0,1,2,3

[namelist:jules_sea_seaice=kappa_seasurf]
compulsory=false
description=Effective thermal conductivity of sea surface layer (W / m / K)
sort-key=26
type=real

[namelist:jules_sea_seaice=kappai]
compulsory=false
description=Thermal conductivity of sea-ice (W / m / K)
sort-key=27
type=real

[namelist:jules_sea_seaice=kappai_snow]
compulsory=false
description=Thermal conductivity of snow on zero layer sea-ice (W / m / K)
sort-key=28
type=real

[namelist:jules_sea_seaice=l_10m_neut]
compulsory=true
description=Flag to use true neutral 10m wind speeds.
help=Only used if namelist:jules_sea_seaice=iseasurfalg = 3
    =The 10m wind speed in the COARE algorithm should strictly be
    =a neutral wind speed. Historically in the UM system,
    =the
    =distinction between stability-adjusted and neutral 10m
    =winds has been ignored,
    =eg. in assimilation. This switch
    =enables the distinction to be made or ignored as desired.
sort-key=29
type=logical

[namelist:jules_sea_seaice=l_cice_alb]
compulsory=true
description=Use sea-ice albedo scheme from the CICE model
sort-key=30
trigger=namelist:jules_sea_seaice=alphab: .false.;
       =namelist:jules_sea_seaice=alphac: .false.;
       =namelist:jules_sea_seaice=alpham: .false.;
       =namelist:jules_sea_seaice=dalb_bare_wet: .false.;
       =namelist:jules_sea_seaice=dtice: .false.;
       =namelist:jules_sea_seaice=dt_bare: .false.;
       =namelist:jules_sea_seaice=pen_rad_frac: .false.;
       =namelist:jules_sea_seaice=ssalphac: .false.;
       =namelist:jules_sea_seaice=ssalpham: .false.;
       =namelist:jules_sea_seaice=ssdtice: .false.;
       =namelist:jules_sea_seaice=sw_beta: .false.;
       =namelist:jules_sea_seaice=ahmax: .true.;
       =namelist:jules_sea_seaice=albicei_cice: .true.;
       =namelist:jules_sea_seaice=albicev_cice: .true.;
       =namelist:jules_sea_seaice=albsnowi_cice: .true.;
       =namelist:jules_sea_seaice=albsnowv_cice: .true.;
       =namelist:jules_sea_seaice=albpondi_cice: .true.;
       =namelist:jules_sea_seaice=albpondv_cice: .true.;
       =namelist:jules_sea_seaice=dalb_mlt_cice: .true.;
       =namelist:jules_sea_seaice=dalb_mlts_i_cice: .true.;
       =namelist:jules_sea_seaice=dalb_mlts_v_cice: .true.;
       =namelist:jules_sea_seaice=dt_bare_cice: .true.;
       =namelist:jules_sea_seaice=dt_snow_cice: .true.;
       =namelist:jules_sea_seaice=pen_rad_frac_cice: .true.;
       =namelist:jules_sea_seaice=snowpatch: .true.;
       =namelist:jules_sea_seaice=sw_beta_cice: .true.
type=logical

[namelist:jules_sea_seaice=l_ctile]
compulsory=true
description=Enable coastal tiling
sort-key=31
type=logical

[namelist:jules_sea_seaice=l_saldep_freeze]
compulsory=true
description=Ocean freezing temperature (and thus sea ice formation) is salinity-dependent
sort-key=32
type=logical

[namelist:jules_sea_seaice=l_sice_heatflux]
compulsory=true
description=Do semi-implicit update of ti for sea-ice
sort-key=33
type=logical

[namelist:jules_sea_seaice=l_sice_meltponds]
compulsory=true
description=Sea-ice albedo is affected by meltponds (simple parametrization)
sort-key=34
trigger=namelist:jules_sea_seaice=dalb_bare_wet: .true.;
       =namelist:jules_sea_seaice=dt_bare: .true.
type=logical

[namelist:jules_sea_seaice=l_sice_meltponds_cice]
compulsory=true
description=Sea-ice albedo is affected by meltponds (from CICE meltponds scheme)
sort-key=35
trigger=namelist:jules_sea_seaice=albpondi_cice: .true.;
       =namelist:jules_sea_seaice=albpondi_cice: .true.;
       =namelist:jules_sea_seaice=dalb_bare_wet: .false.;
       =namelist:jules_sea_seaice=dt_bare: .false.;
       =namelist:jules_sea_seaice=dt_bare_cice: .false.
type=logical

[namelist:jules_sea_seaice=l_sice_multilayers]
compulsory=true
description=Coupled to sea-ice multilayer model
sort-key=36
type=logical

[namelist:jules_sea_seaice=l_sice_scattering]
compulsory=true
description=Use sea-ice albedo internal scatter
sort-key=37
trigger=namelist:jules_sea_seaice=pen_rad_frac: .true.;
       =namelist:jules_sea_seaice=pen_rad_frac_cice: .true.;
       =namelist:jules_sea_seaice=sw_beta: .true.;
       =namelist:jules_sea_seaice=sw_beta_cice: .true.
type=logical

[namelist:jules_sea_seaice=l_sice_swpen]
compulsory=true
description=Penetration of SW radiation into sea ice included explicitly
sort-key=38
trigger=namelist:jules_sea_seaice=sw_beta: .false.;
       =namelist:jules_sea_seaice=sw_beta_cice: .false.;
       =namelist:jules_sea_seaice=pen_rad_frac: .false.;
       =namelist:jules_sea_seaice=pen_rad_frac_cice: .false.
type=logical

[namelist:jules_sea_seaice=l_ssice_albedo]
compulsory=true
description=Include the effect of snow on the sea-ice albedo
sort-key=39
trigger=namelist:jules_sea_seaice=alphab: .true.;
       =namelist:jules_sea_seaice=alphac: .false.;
       =namelist:jules_sea_seaice=alpham: .false.;
       =namelist:jules_sea_seaice=dtice: .false.;
       =namelist:jules_sea_seaice=dalb_bare_wet: .true.;
       =namelist:jules_sea_seaice=dt_bare: .true.;
       =namelist:jules_sea_seaice=ssalphac: .true.;
       =namelist:jules_sea_seaice=ssalpham: .true.;
       =namelist:jules_sea_seaice=ssdtice: .true.;
       =namelist:jules_sea_seaice=pen_rad_frac: .true.;
       =namelist:jules_sea_seaice=sw_beta: .true.
type=logical

[namelist:jules_sea_seaice=l_tstar_sice_new]
compulsory=true
description=Calculate sea-ice surface temperature in scheme compatible with multi-categories
           =This logical is only used in a single category run
sort-key=40
type=logical

[namelist:jules_sea_seaice=nice]
compulsory=true
description=The total number of sea-ice categories
range=1:25
sort-key=41
type=integer

[namelist:jules_sea_seaice=nice_use]
compulsory=true
description=The number of sea-ice categories used in surface exchange
           =(should be equal to either 1 or nice)
range=1:25
sort-key=42
type=integer

[namelist:jules_sea_seaice=pen_rad_frac]
compulsory=true
description=Original HadGEM sea ice albedo scheme: Fraction of SW radiation
           =that penetrates seaice and scatters back causing an addition to
           =the albedo. Only active if l_ssice_albedo and l_sice_scattering
range=0:1
sort-key=43
type=real

[namelist:jules_sea_seaice=pen_rad_frac_cice]
compulsory=true
description=4-band sea ice albedo scheme: Fraction of SW radiation that
           =penetrates seaice and scatters back causing an addition to the
           =albedo in CICE multi-band scheme (not used when internal
           =scattering in sea ice is modelled explicitly)
range=0:1
sort-key=44
type=real

[namelist:jules_sea_seaice=seasalinityfactor]
compulsory=false
description=Scaling of qsat in sea-surface evaporation to allow for
           =the salinity of sea water
range=0.0:1.0
sort-key=45
type=real

[namelist:jules_sea_seaice=snowpatch]
compulsory=true
description=4-band sea ice albedo scheme: Length scale for parameterizing
           =non uniform snow coverage (m)
range=0:1
sort-key=46
type=real

[namelist:jules_sea_seaice=ssalphac]
compulsory=true
description=Original HadGEM sea ice albedo scheme: Namelist input for alphac
           =if l_ssice_albedo - assigned to alphac in readlsta.F90
range=0:1
sort-key=47
type=real

[namelist:jules_sea_seaice=ssalpham]
compulsory=true
description=Original HadGEM sea ice albedo scheme: Namelist input for alpham
           =if l_ssice_albedo - assigned to alpham in readlsta.F90
range=0:1
sort-key=48
type=real

[namelist:jules_sea_seaice=ssdtice]
compulsory=true
description=Original HadGEM sea ice albedo scheme: Namelist input for dtice if
           =l_ssice_albedo - assignd to dtice in readlsta.F90.  Recommended
           =range 5-10K
range=0.1:50
sort-key=49
type=real

[namelist:jules_sea_seaice=sw_beta]
compulsory=true
description=Original HadGEM sea ice albedo scheme: Attenutation parameter for
           =SW in seaice which controls the additional albedo due to internal
           =scattering
range=0:1
sort-key=50
type=real

[namelist:jules_sea_seaice=sw_beta_cice]
compulsory=true
description=4-band sea ice albedo scheme: Attenutation parameter for SW in
           =seaice which controls the additional albedo due to internal
           =scattering in the CICE multi-band scheme (not used when internal
           =scattering in sea ice is modelled explicitly)
range=0:1
sort-key=51
type=real

[namelist:jules_sea_seaice=u10_max_coare]
compulsory=true
description=Highest wind speed for linear variation of Charnock's
           =coefficient in COARE algorithm.
help=Only used if namelist:jules_sea_seaice=iseasurfalg = 3
    =Generically in the COARE algorithm,
    =Charnock's coefficient
    =exhibits a linear dependence on the 10m wind speed
    =over a specified range, with constant values above and
    =below. Precise values vary with the version of the COARE
    =algorithm. This variable provides the upper limit of the
    =linear range.
sort-key=52
type=real

[namelist:jules_sea_seaice=u10_min_coare]
compulsory=true
description=Lowest wind speed for linear variation of Charnock's
           =coefficient in COARE algorithm.
help=Only used if namelist:jules_sea_seaice=iseasurfalg = 3
    =Generically in the COARE algorithm,
    =Charnock's coefficient
    =exhibits a linear dependence on the 10m wind speed
    =over a specified range, with constant values above and
    =below. Precise values vary with the version of the COARE
    =algorithm. This variable provides the lower limit of the
    =linear range.
sort-key=53
type=real

[namelist:jules_sea_seaice=z0h_z0m_miz]
compulsory=false
description=Ratio of thermal to momentum roughness lengths for marginal ice
sort-key=54
type=real

[namelist:jules_sea_seaice=z0h_z0m_sice]
compulsory=false
description=Ratio of thermal to momentum roughness lengths for sea ice
sort-key=55
type=real

[namelist:jules_sea_seaice=z0miz]
compulsory=false
description=Roughness length for heat,
           =moisture and momentum over the Marginal Ice Zone (m)
sort-key=56
type=real

[namelist:jules_sea_seaice=z0sice]
compulsory=false
description=Roughness length for heat,
           =moisture and momentum over sea-ice (m)
sort-key=57
type=real

[namelist:jules_snow]
compulsory=true
ns=namelist/JULES Science Settings/snow
title=JULES snow options

[namelist:jules_snow=a_snow_et]
compulsory=true
description=Constant in Parametrization of equitemperature metamorphism
help=See help for l_et_metamorph
type=real

[namelist:jules_snow=amax]
compulsory=false
description=Maximum albedo for fresh snow
help=Values 1 and 2 are for VIS and NIR wavebands respectively.
    =
    =Only used if namelist:jules_radiation=l_snow_albedo = TRUE.
length=2
type=real

[namelist:jules_snow=b_snow_et]
compulsory=true
description=Constant in Parametrization of equitemperature metamorphism
help=See help for l_et_metamorph
type=real

[namelist:jules_snow=c_snow_et]
compulsory=true
description=Constant in Parametrization of equitemperature metamorphism
help=See help for l_et_metamorph
type=real

[namelist:jules_snow=can_clump]
compulsory=true
description=Clumping parameter for snow on the canopy if using the embedded albedo scheme.
fail-if=len(this) != namelist:jules_surface_types=npft
help=Only used if namelist:jules_vegetation=can_model == 4.
    =
    =The model of snow under the canopy is currently only suitable for coniferous trees.
    =The inverse of this parameter specifies the fraction of the canopy over
    =which snow is distributed when calculating the albedo.
length=:
type=real

[namelist:jules_snow=cansnowpft]
compulsory=false
description=Flag indicating whether snow can be held under the canopy of each PFT
fail-if=len(this) != namelist:jules_surface_types=npft
help=Only used if namelist:jules_vegetation=can_model == 4.
    =
    =The model of snow under the canopy is currently only suitable for coniferous trees.
length=:
type=logical

[namelist:jules_snow=dtland]
compulsory=false
description=Degrees Celsius below zero at which snow albedo equals cold deep snow albedo
help=Only used if namelist:jules_radiation=l_snow_albedo = FALSE.
type=real

[namelist:jules_snow=dzsnow]
compulsory=true
description=Prescribed thickness of each snow layer (m)
fail-if=len(this) != namelist:jules_snow=nsmax
help=dzsnow gives the thickness of each layer when it is not the bottom layer.
    =
    =For the top layer,
    =the minimum thickness is dzsnow(1) and the maximum thickness
    =is 2 * dzsnow(1). For all other layers iz,
    =the minimum thickness is dzsnow(iz - 1),
    =i.e. the given thickness of the previous layer,
    =and the maximum thickness is 2 * dzsnow(iz),
    =i.e. twice the layer dzsnow value,
    =except for the last possible layer (nsmax)
    =which has no upper limit.
    =
    =As a snowpack deepens,
    =the bottom layer (closest to the soil; label this as layer b)
    =thickens until it reaches its maximum allowed thickness,
    =at which point it will split
    =into a layer of depth dzsnow(b) and a new bottom layer b + 1 is added to hold the remaining
    =snow. If a layer becomes thinner than its value in dzsnow it is removed and the snow partitioned
    =between the remaining layers. Whenever a layer splits or is removed,
    =the properties of the
    =layer (e.g. temperature) are allocated to the remaining layers.
    =
    =Note that dzsnow(nsmax),
    =the final thickness,is not used but a value must be input.
length=:
type=real

[namelist:jules_snow=frac_snow_subl_melt]
compulsory=true
description=Switch for use of snow-cover fraction in the calculation of sublimation and melting
value-titles=Off,On
values=0,1

[namelist:jules_snow=i_snow_cond_parm]
compulsory=true
description=Identifier for parametrization of snow conductivity.
help=Two parametrizations of snow conductivity are available
    = taken from the papers of Yen (1981) and Calonne et al. (2011)
value-titles=Yen1981,Calonne2011
values=0,1

[namelist:jules_snow=kland_numerator]
compulsory=false
description=Used in snow-ageing effect on albedo
help=kland is computed by dividing this value by dtland.
    =
    =Only used if namelist:jules_radiation=l_snow_albedo = FALSE.
type=real

[namelist:jules_snow=l_et_metamorph]
compulsory=true
description=Switch for the inclusion of equitemperature metamorphism
help=This parametrization follows the form used by eg. Dutra et al. (2010)
trigger=namelist:jules_snow=a_snow_et: .true.;
       = namelist:jules_snow=b_snow_et: .true.;
       = namelist:jules_snow=c_snow_et: .true.;
       = namelist:jules_snow=rho_snow_et_crit: .true.;
type=logical

[namelist:jules_snow=l_rho_snow_corr]
compulsory=false
description=Switch for using a correction to the density of the snow pack
help=Switch for using a correction to the density of the snow pack when nsnow=0
    =when relayering in the new snow scheme.
    =
    =Has no effect for nsmax < 1.
type=logical

[namelist:jules_snow=l_snow_infilt]
compulsory=true
description=Switch for infiltration of rain and canopy melting into the snowpack
type=logical

[namelist:jules_snow=l_snow_nocan_hc]
compulsory=true
description=Switch to ignore heat capacity of the canopy above the snowpack on tiles where a canopy model is not used.
help=The original coding of the multilayer scheme leaves the heat capacity
    = of the canopy in place at the top of the snow pack. This is not
    = ideal. This option sets it to 0.
type=logical

[namelist:jules_snow=l_snowdep_surf]
compulsory=true
description=Use equivalent canopy snow depth for surface calculations on tiles with a snow canopy
type=logical

[namelist:jules_snow=lai_alb_lim_sn]
compulsory=true
description=Minimum LAI applied to plant canopies in the presence of snow.
help=A minimum albedo is imposed when calculating the albedo of
    = plant canopies (historically 0.5). This parameter allows it
    = to be set for each PFT in the presence of snow. A separate variable,
    =lai_alb_lim_io is used in the absence of snow.
length=:
type=real

[namelist:jules_snow=maskd]
compulsory=false
description=Used in exponent of equation weighting snow-covered and snow-free albedo
type=real

[namelist:jules_snow=n_lai_exposed]
compulsory=true
description=Shape parameter for distribution of leaf area within canopies used in calculation of snow albedo.
help=A power-law distribution of leaf area density is assumed within
    = the canopy for calculating masking of snow by vegetation using
    = the embedded scheme. Larger values imply greater densities
    = towardw the base of the canopy.
length=:
type=real

[namelist:jules_snow=nsmax]
compulsory=true
description=Maximum number of layers in the snow pack
help=If nsmax = 0,
    =a composite soil/snow layer is used.
    =
    =If nsmax > 0,
    =the state of up to nsmax separate snow layers
    =is modelled. Values of nsmax = 3 or more are recommended.
range=0:
trigger=namelist:jules_snow=l_rho_snow_corr: this > 0;
       =namelist:jules_snow=dzsnow: this > 0;
type=integer

[namelist:jules_snow=r0]
compulsory=false
description=Grain size for fresh snow (um)
help=Only used if namelist:jules_radiation=l_snow_albedo = TRUE.
type=real

[namelist:jules_snow=rho_snow_const]
compulsory=false
description=Constant density of lying snow (kg m-3)
help=This value is used if nsmax = 0,
    =in which case all snow is modelled as a single layer of constant density.
    =If nsmax > 0,
    =snow density is prognostic.
type=real

[namelist:jules_snow=rho_snow_et_crit]
compulsory=true
description=Constant in Parametrization of equitemperature metamorphism
help=See help for l_et_metamorph
type=real

[namelist:jules_snow=rho_snow_fresh]
compulsory=false
description=Density of fresh snow (kg m-3)
help=This value is only used if nsmax > 0.
type=real

[namelist:jules_snow=rmax]
compulsory=false
description=Maximum snow grain size (um)
help=Only used if namelist:jules_radiation=l_snow_albedo = TRUE.
type=real

[namelist:jules_snow=snow_ggr]
compulsory=false
description=Snow grain area growth rates (um2 s-1)
help=The 3 values are for melting snow,
    =cold fresh snow and cold aged snow respectively.
    =
    =Only used if namelist:jules_radiation=l_snow_albedo = TRUE.
length=3
type=real

[namelist:jules_snow=snow_hcap]
compulsory=false
description=Thermal capacity of lying snow (J K-1 m-3)
type=real

[namelist:jules_snow=snow_hcon]
compulsory=false
description=Thermal conductivity of lying snow (W m-1 K-1)
type=real

[namelist:jules_snow=snowinterceptfact]
compulsory=false
description=Constant in relationship between mass of intercepted snow and snowfall rate
help=Only used if namelist:jules_vegetation=can_model == 4.
type=real

[namelist:jules_snow=snowliqcap]
compulsory=false
description=Liquid water holding capacity of lying snow,
           =as a fraction of snow mass
help=Only used if nsmax > 0.
type=real

[namelist:jules_snow=snowloadlai]
description=
help=Only used if namelist:jules_vegetation=can_model == 4.
type=real

[namelist:jules_snow=snowunloadfact]
description=Constant in relationship between canopy snow unloading and canopy snow melt rate
help=Only used if namelist:jules_vegetation=can_model == 4.
type=real

[namelist:jules_snow=unload_rate_cnst]
compulsory=true
description=Constant term in background unloading rate of snow on canopies
help=Only used if namelist:jules_vegetation=can_model == 4.
    =This gives a contribution to unloading of the canopy equal
    =to this parameter times the canopy snow mass
length=:
type=real

[namelist:jules_snow=unload_rate_u]
compulsory=true
description=Term proportional to wind speed in background unloading rate of snow on canopies
help=Only used if namelist:jules_vegetation=can_model == 4.
    =This gives a contribution to unloading of the canopy equal
    =to this parameter times the wind speed times the canopy snow mass
length=:
type=real

[namelist:jules_soil]
compulsory=true
ns=namelist/JULES Science Settings/soil
title=JULES soil options

[namelist:jules_soil=confrac]
compulsory=false
description=Fraction of the gridbox assumed to be covered by convective precipitation
type=real

[namelist:jules_soil=cs_min]
compulsory=false
description=Minimum allowed soil carbon (kg m-2)
type=real

[namelist:jules_soil=dzsoil_io]
compulsory=true
description=The soil layer depths (m),starting with the uppermost layer
length=:
type=real

[namelist:jules_soil=l_dpsids_dsdz]
compulsory=true
description=Calculate vertical gradient of soil suction with the assumption of linearity only for
           =fractional saturation (consistent with the calculation of hydraulic conductivity)
type=logical

[namelist:jules_soil=l_soil_sat_down]
compulsory=true
description=Direction of water in excess of saturation
help=If a soil layer becomes supersaturated,
    =the water in excess of saturation will be put into the
    =layer above or below according to this switch
    =
    =Down  => Excess is put into the layer below. Excess from the bottom layer becomes subsurface runoff
    =Up    => Excess is put into the layer above. Excess from the top layer becomes surface runoff
value-titles=Down,Up
values=.true.,.false.

[namelist:jules_soil=l_vg_soil]
compulsory=true
description=Choose soil hydraulic model
value-titles=van Genuchten model,Brooks and Corey model
values=.true.,.false.

[namelist:jules_soil=soilhc_method]
compulsory=true
description=Choice of soil thermal conductivity model
value-titles=Cox et al (1999),Simplified Johansen (1975)
values=1,2

[namelist:jules_soil=zsmc]
compulsory=false
description=Depth of layer over which soil moisture diagnostic is averaged (m)
type=real

[namelist:jules_soil=zst]
compulsory=false
description=Depth of layer over which soil temperature diagnostic is averaged (m)
type=real

[namelist:jules_surface]
compulsory=true
ns=namelist/JULES Science Settings/surface
title=JULES surface options

[namelist:jules_surface=all_tiles]
compulsory=true
description=Do calculations of tile properties on all tiles (except land ice)
           =for all gridpoints even when the tile fraction is zero
value-titles=Off,On
values=0,1

[namelist:jules_surface=beta1]
compulsory=false
description=Coupling coefficient for co-limitation
type=real

[namelist:jules_surface=beta2]
compulsory=false
description=Coupling coefficient for co-limitation
type=real

[namelist:jules_surface=cor_mo_iter]
compulsory=true
description=Corrections to Monin-Obukhov surface exchange calculation
value-titles=No correction,Correct convective gustiness in low winds,
            =Correct U* in dust scheme,
            =Correct Obukhov length in low winds
values=0,1,2,3

[namelist:jules_surface=fd_stab_dep]
compulsory=true
description=Use stability dependence of orographic form drag
value-titles=Off,On
values=0,1

[namelist:jules_surface=formdrag]
compulsory=true
title=Orographic form drag option
trigger=namelist:jules_surface=orog_drag_param: 1,
       =2;
       =namelist:jules_surface=fd_stab_dep: 1,2;
value-titles=No orographic stress,Effective roughness,Explicit stress
values=0,1,2

[namelist:jules_surface=fwe_c3]
compulsory=false
description=Factor in expressions for limitation of photosynthesis
           =by transport of products for C3 grass
type=real

[namelist:jules_surface=fwe_c4]
compulsory=false
description=Factor in expressions for limitation of photosynthesis
           =by transport of products for C4 grass
type=real

[namelist:jules_surface=hleaf]
compulsory=false
description=Specific heat capacity of leaves (J / K / kg Carbon)
type=real

[namelist:jules_surface=hwood]
compulsory=false
description=Specific heat capacity of wood (J / K / kg Carbon)
type=real

[namelist:jules_surface=i_aggregate_opt]
compulsory=true
description=Method of aggregating tiled properties
value-titles=Original option,Separate aggregation
values=0,1

[namelist:jules_surface=i_modiscopt]
compulsory=true
value-titles=Off,On
values=0,1

[namelist:jules_surface=iscrntdiag]
compulsory=true
description=Method of diagnosing the screen temperature
help=0 => Original method
    =1 => Diagnose the screen temperature using surface similarity theory,
    =but
    =     allow decoupling in very stable conditions based on the
    =     quasi-equilibrium radiative solution
    =2 => Diagnose the screen temperature including transient effects and
    =     radiative cooling
values=0,1,2

[namelist:jules_surface=isrfexcnvgust]
compulsory=true
description=Include effect of convective downdrafts on surface exchange
help=Surface exchange is affected by the mean wind,
    =eddies spanning the depth
    =of the boundary layer and eddies driven by convective downdraughts.
    =Originally in the UM only boundary layer eddies were considered. If
    =convective downdraughts are included,
    =the impact of boundary-layer
    =eddies on surface exchange is reduced and convective eddies are
    =explicitly included using a parametrization due to Redelsperger
    =et al. (2000),
    =J. Climate,13,p. 402.
value-titles=Off,On
values=0,1

[namelist:jules_surface=kaps]
compulsory=false
description=Specific soil respiration rate at 25 degC and optimum soil moisture (/s)
type=real

[namelist:jules_surface=kaps_roth]
compulsory=false
description=Specific soil respiration rates for the four pools of RothC
length=4
type=real

[namelist:jules_surface=l_aggregate]
compulsory=true
description=Use aggregate surface scheme
trigger=namelist:recon=l_canopy_snow_throughfall: .false.;
       =namelist:jules_surface=i_aggregate_opt: .true.;
       =namelist:jules_elevate=surf_hgt_io: .false.;
       =namelist:jules_elevate=l_elev_absolute_height: .false.;
type=logical

[namelist:jules_surface=l_anthrop_heat_src]
compulsory=true
description=Use anthropogenic heat source on urban tile
type=logical

[namelist:jules_surface=l_elev_lw_down]
compulsory=true
description=Adjust downward longwave radiation for elevated tiles
type=logical

[namelist:jules_surface=l_epot_corr]
compulsory=true
description=Use correction to calculation of potential evaporation
type=logical

[namelist:jules_surface=l_flake_model]
compulsory=true
description=Use the Flake model to model lakes
type=logical

[namelist:jules_surface=l_land_ice_imp]
compulsory=true
description=Use implicit numerics to update land ice temperatures
type=logical

[namelist:jules_surface=l_point_data]
compulsory=true
description=Using point rainfall data
type=logical

[namelist:jules_surface=l_vary_z0m_soil]
compulsory=true
description=Allow z0(m) of soil to vary
help=Allows the bare soil momentum roughness length (z0(m)) to
    =vary. This field needs to be input/reconfigured in as an
    =ancillary field in the soil parameters file as STASH item 97.
type=logical

[namelist:jules_surface=orog_drag_param]
compulsory=true
description=Drag coefficient for orographic form drag
range=0.01:10.0
type=real

[namelist:jules_surface=q10_soil]
compulsory=false
description=Q10 factor for soil respiration
type=real

[namelist:jules_surface_types]
compulsory=true
help=To add a surface type please use "Add latent variable".
    =To remove a surface type simply "Remove" the variable.
ns=namelist/JULES Science Settings/surface_types
title=JULES surface types

[namelist:jules_surface_types=brd_leaf]
description=Pseudo level of broadleaf PFT
fail-if=this > namelist:jules_surface_types=npft; # Pseudo level must be less than or equal to npft
help=Must have value <= npft
range=1:
sort-key=c
type=integer

[namelist:jules_surface_types=c3_grass]
description=Pseudo level of C3 grass PFT
fail-if=this > namelist:jules_surface_types=npft; # Pseudo level must be less than or equal to npft
help=Must have value <= npft
range=1:
sort-key=e
type=integer

[namelist:jules_surface_types=c4_grass]
description=Pseudo level of C4 grass PFT
fail-if=this > namelist:jules_surface_types=npft; # Pseudo level must be less than or equal to npft
help=Must have value <= npft
range=1:
sort-key=f
type=integer

[namelist:jules_surface_types=ice]
compulsory=true
description=Pseudo level of ice surface type
fail-if=this > (namelist:jules_surface_types=npft + namelist:jules_surface_types=nnvg); # Pseudo level must be less than or equal to npft+nnvg
       =this <= namelist:jules_surface_types=npft; # PFTs must be grouped together first with non-vegetated tiles following
help=The ice surface type must be specified (although the fraction may be set to zero).
    =Must have value > npft & <= ntype
range=1:
sort-key=l
type=integer

[namelist:jules_surface_types=lake]
description=Pseudo level of lake surface type
fail-if=this > (namelist:jules_surface_types=npft + namelist:jules_surface_types=nnvg); # Pseudo level must be less than or equal to npft+nnvg
       =this <= namelist:jules_surface_types=npft; # PFTs must be grouped together first with non-vegetated tiles following
help=Must have value > npft & <= ntype
range=1:
sort-key=i
type=integer

[namelist:jules_surface_types=ndl_leaf]
description=Pseudo level of needleleaf PFT
fail-if=this > namelist:jules_surface_types=npft; # Pseudo level must be less than or equal to npft
help=Must have value <= npft
range=1:
sort-key=d
type=integer

[namelist:jules_surface_types=nnvg]
compulsory=true
description=The number of non-plant surface types to be modelled
help=The total number of surface types to be modelled is called 'ntype',
    =and is given by 'ntype = npft + nnvg'. In the standard setup,
    =JULES models 5 vegetation types and 4 non-vegetation types
    =('npft = 5',
    ='nnvg = 4').
    =Plant surfaces are always present first in any list of surfaces.
    =Currently nnvg has a minumum value of 2,
    =as soil and ice must be specified.
range=2:
sort-key=b
type=integer

[namelist:jules_surface_types=npft]
compulsory=true
description=The number of plant functional types to be modelled
help=The total number of surface types to be modelled is called 'ntype',
    =and is given by 'ntype = npft + nnvg'. In the standard setup,
    =JULES models 5 vegetation types and 4 non-vegetation types
    =('npft = 5',
    ='nnvg = 4').
    =Plant surfaces are always present first in any list of surfaces.
range=0:
sort-key=a
type=integer

[namelist:jules_surface_types=shrub]
description=Pseudo level of shrub PFT
fail-if=this > namelist:jules_surface_types=npft; # Pseudo level must be less than or equal to npft
help=Must have value <= npft
range=1:
sort-key=g
type=integer

[namelist:jules_surface_types=soil]
compulsory=true
description=Pseudo level of soil surface type
fail-if=this > (namelist:jules_surface_types=npft + namelist:jules_surface_types=nnvg); # Pseudo level must be less than or equal to npft+nnvg
       =this <= namelist:jules_surface_types=npft; # PFTs must be grouped together first with non-vegetated tiles following
help=The soil surface type must be specified (although the fraction may be set to zero).
    =Must have value > npft & <= ntype.
range=1:
sort-key=k
type=integer

[namelist:jules_surface_types=tile_map]
description=Tile mapping array from input to output dump surface type configuration
fail-if=len(this) != namelist:jules_surface_types=npft + namelist:jules_surface_types=nnvg
help=Mapping array used by the reconfiguration so that a user can specify a mapping array
    =Allows new tiles added (e.g. urban_canyon and urban_roof) to be initialised from existing
    =tiles (e.g. urban) or an old dump with the incorrect labelling to be used
length=:
range=1:
sort-key=p
type=integer

[namelist:jules_surface_types=urban]
description=Pseudo level of urban surface type
fail-if=this > (namelist:jules_surface_types=npft + namelist:jules_surface_types=nnvg); # Pseudo level must be less than or equal to npft+nnvg
       =this <= namelist:jules_surface_types=npft; # PFTs must be grouped together first with non-vegetated tiles following
help=Must have value > npft & <= ntype
range=1:
sort-key=h
type=integer

[namelist:jules_surface_types=urban_canyon]
description=Pseudo level of urban canyon surface type
fail-if=this > namelist:jules_surface_types=npft + namelist:jules_surface_types=nnvg; # Pseudo level must be less than or equal to npft+nnvg
       =this <= namelist:jules_surface_types=npft; # PFTs must be grouped together first with non-vegetated tiles following
help=Must have value > npft & <= ntype
range=1:
sort-key=m
type=integer

[namelist:jules_surface_types=urban_roof]
description=Pseudo level of urban roof surface type
fail-if=this > namelist:jules_surface_types=npft + namelist:jules_surface_types=nnvg; # Pseudo level must be less than or equal to npft+nnvg
       =this <= namelist:jules_surface_types=npft; # PFTs must be grouped together first with non-vegetated tiles following
help=Must have value > npft & <= ntype
range=1:
sort-key=n
type=integer

[namelist:jules_surface_types=usr_type]
description=Pseudo level of user surface types
fail-if=any(this > namelist:jules_surface_types=npft + namelist:jules_surface_types=nnvg); # Pseudo level must be less than or equal to npft+nnvg
help=Must have value less than or equal to ntype
length=:
range=1:
sort-key=o
type=integer

[namelist:jules_triffid]
compulsory=true
ns=namelist/JULES Science Settings/triffidparms
title=JULES TRIFFID parameters

[namelist:jules_triffid=crop_io]
description=Flag indicating whether the PFT is a crop
fail-if=len(this) != namelist:jules_surface_types=npft
help=Only crop PFTs are allowed to grow in the agricultural area.
length=:
value-titles=Not crop,Crop
values=0,1

[namelist:jules_triffid=g_area_io]
description=Disturbance rate (/360days)
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_triffid=g_grow_io]
description=Rate of leaf growth (/360days)
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_triffid=g_root_io]
description=Turnover rate for root biomass (/360days)
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_triffid=g_wood_io]
description=Turnover rate for woody biomass (/360days)
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_triffid=lai_max_io]
description=Maximum LAI
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_triffid=lai_min_io]
description=Minimum LAI
fail-if=len(this) != namelist:jules_surface_types=npft
length=:
type=real

[namelist:jules_vegetation]
compulsory=true
ns=namelist/JULES Science Settings/vegetation
title=JULES vegetation options

[namelist:jules_vegetation=can_model]
compulsory=true
description=Choice of canopy model for vegetation
help=1 => No distinct canopy (i.e. surface is represented as a single entity for radiative processes)
    =2 => Radiative canopy with no heat capacity
    =3 => Radiative canopy with heat capacity (deprecated,
    =4 preferred)
    =4 => As 3 but with a representation of snow beneath the canopy
range=1:4
type=integer

[namelist:jules_vegetation=can_rad_mod]
compulsory=true
description=Choice of treatment of canopy radiation
help=1 => A single canopy layer for which radiation absorption is calculated using Beer's law.
    =     Leaf-level photosynthesis is scaled to the canopy level using the 'big leaf' approach.
    =     Leaf nitrogen, photosynthetic capacity, i.e the Vcmax parameter, and leaf photosynthesis
    =     vary exponentially through the canopy with radiation.
    =
    =2 => Multi-layer approach for radiation interception following the 2-stream approach of Sellers et al. (1992).
    =     This approach takes into account leaf angle distribution, zenith angle, and differentiates absorption
    =     of direct and diffuse radiation. Leaf-level photosynthesis is calculated using a vertically-varying
    =     light-limited rate, and constant Rubisco and export velocities, consistent with the assumption of
    =     constant leaf N through the canopy. Canopy photosynthesis and conductance are calculated as the sum
    =     over all layers.
    =
    =3 => As 2, but photosynthesis calculated separately for sunlit and shaded leaves for the whole canopy
    =     (i.e. not at each layer). The definition of sunlit and shaded leaves is based on a threshold of
    =     absorbed radiation at each layer.
    =
    =4 => This is a modification of option 2. Instead of constant leaf N through the canopy, it has an exponential
    =     decline of leaf N with canopy height. Additionally includes inhibition of leaf respiration in the light.
    =
    =5 => This is an improvement of option 4, including sunfleck penetration though the canopy, division of sunlit
    =     and shaded leaves within each canopy level and a modified version of inhibition of leaf respiration
    =     in the light.
range=1:5
type=integer

[namelist:jules_vegetation=frac_min]
compulsory=false
description=Minimum fraction that a PFT is allowed to cover if TRIFFID is used
type=real

[namelist:jules_vegetation=frac_seed]
compulsory=false
description=Seed fraction for TRIFFID
type=real

[namelist:jules_vegetation=ilayers]
compulsory=false
description=Number of layers for canopy radiation model
range=1:100
type=integer

[namelist:jules_vegetation=l_bvoc_emis]
compulsory=true
description=Calculate BVOC emissions
sort-key=h
# This turns off iBVOC items when iBVOC is not on in JULES
trigger=namelist:jules_pftparm=ief_io: .true.;
       =namelist:jules_pftparm=tef_io: .true.;
       =namelist:jules_pftparm=mef_io: .true.;
       =namelist:jules_pftparm=aef_io: .true.;
       =namelist:jules_pftparm=ci_st_io: .true.;
       =namelist:jules_pftparm=gpp_st_io: .true.;
type=logical
url=http://www.jchmr.org/jules/documentation/user_guide/current/namelists/jules_vegetation.nml.html#JULES_VEGETATION::l_bvoc_emis

[namelist:jules_vegetation=l_ht_compete]
compulsory=true
description=Switch for using height based competition in TRIFFID
help=TRUE:  Use the new vegetation competition,
    =which is based solely on height and allows for a generic number of PFTs.
    =FALSE:      Use the standard competition,
    =which is hard-wired for 5 PFTs with co-competition for grasses and trees.
type=logical

[namelist:jules_vegetation=l_landuse]
compulsory=true
description=Switch for using landuse change in conjunction with TRIFFID
help=Land use change is implemented within TRIFFID. Litter fluxes are split between soil and wood product pools. Requires additional prognostics covering the product pools and the agricultural fraction from the previous TRIFFID call.
    =FALSE: All litter fluxes enter the soil
type=logical

[namelist:jules_vegetation=l_nrun_mid_trif]
compulsory=true
description=Start an NRUN mid way through a TRIFFID calling period
type=logical

[namelist:jules_vegetation=l_phenol]
compulsory=true
description=Include leaf phenology
trigger=namelist:jules_vegetation=phenol_period: .true.;
type=logical

[namelist:jules_vegetation=l_q10]
compulsory=true
description=Choose soil decomposition dependence on temperature
help=If namelist:jules_vegetation=l_triffid = F,
    =the Q10 temperature function
    =must be selected.
value-titles=Q10 temperature function,RothC temperature function
values=.true.,.false.

[namelist:jules_vegetation=l_trait_phys]
compulsory=true
description=Switch for using new trait-based physiology.
help=TRUE:  Vcmax is calculated based on observed leaf traits. Leaf nitrogen (nmass: kgN kgLeaf-1) and leaf mass (LMA: kgLeaf m-2) can be based on observations from the TRY database. Vcmax (umol CO2 m-2 s-1) is based on linear regressions as in Kattge et al. 2009. Two additional parameters are needed: vint and vsl - the intercept and slope,
    =respectively,
    =that relate the leaf nitrogen to vcmax. Sigl is replaced with LMA (sigl=LMA*Cmass,
    =where Cmass is the kgC/kgLeaf and is 0.4).
    =FALSE: Vcmax is calculated based on parameters nl0 (kgN kgC-1) and neff
type=logical

[namelist:jules_vegetation=l_trif_eq]
compulsory=true
description=Run TRIFFID in equilibrium mode
type=logical

[namelist:jules_vegetation=l_triffid]
compulsory=true
description=Use the TRIFFID scheme for interactive vegetation
help=Vegetation distribution refers to the fractions of each surface type
    =for each grid box,
    =which are input to the tiled land-surface model.
    =
    =If l_triffid = F,
    =then the vegetation distribution is fixed,
    =i.e. these
    =values do not vary from the inital values obtained from ancillaries.
    =This setting is appropriate for NWP.
    =
    =If l_triffid = T,
    =the vegetation distribution is interactive,
    =i.e. the
    =fractions are allowed to evolve with time. This behaviour is required
    =for some climate studies.
trigger=namelist:jules_vegetation=l_nrun_mid_trif: .true.;
       = namelist:jules_vegetation=l_trif_eq: .true.;
       = namelist:jules_vegetation=triffid_period: .true.;
type=logical

[namelist:jules_vegetation=l_vegcan_soilfx]
compulsory=true
description=Allow for conduction in the soil below the vegetative canopy.
type=logical

[namelist:jules_vegetation=phenol_period]
compulsory=true
description=Update frequency for leaf phenology (days)
range=1:365
type=integer

[namelist:jules_vegetation=pow]
compulsory=false
description=Power in sigmodial function used to get competition coefficients
help=See Hadley Centre Technical Note 24 Eq.3
type=real

[namelist:jules_vegetation=triffid_period]
compulsory=true
description=Update frequency for TRIFFID (days)
range=1:10000
type=integer

[namelist:lam_config]
compulsory=true
ns=namelist/Top Level Model Control/LAM Configuration

[namelist:lam_config=delta_lat]
compulsory=true
description=Latitudinal grid spacing
range=0.0:100.0
type=real

[namelist:lam_config=delta_lon]
compulsory=true
description=Longitudinal grid spacing
range=0.0:100.0
type=real

[namelist:lam_config=frstlata]
compulsory=true
description=Latitude of first row for limited area grid
help=Please note that on the ENDGame C-grid (V-at-poles)
    =that the definition of first row latitude is
    =half a grid spacing south when compared to the definition
    =of first row latitude for the New Dynamics grid.  This
    =will ensure that the P-points of both grids match.
    =
    =Due to this offset it is not possible to reconfigure from
    =a New Dynamics LAM to an ENDGame LAM with the same domain.
    =Please reconfigure the ENDGame LAM from the original larger
    =source domain rather than the LAM.
range=-90.0:90.0
type=real

[namelist:lam_config=frstlona]
compulsory=true
description=Longitude of first row for limited area grid
help=Please note that on the ENDGame C-grid (V-at-poles)
    =that the definition of first row longitude is
    =half a grid spacing west when compared to the definition
    =of first row longitude for the New Dynamics grid.  This
    =will ensure that the P-points of both grids match.
    =
    =Due to this offset it is not possible to reconfigure from
    =a New Dynamics LAM to an ENDGame LAM with the same domain.
    =Please reconfigure the ENDGame LAM from the original larger
    =source domain rather than the LAM.
range=0.0:360.0
type=real

[namelist:lam_config=n_rims_to_do]
compulsory=true
description=frame size
help=The number of pts around the edge where only driving model data
    = is used in model and solver.
ns=namelist/Top Level Model Control/LAM Configuration
range=1:
type=integer

[namelist:lam_config=polelata]
compulsory=true
description=North Pole Latitude
range=-90.0:180.0
type=real

[namelist:lam_config=polelona]
compulsory=true
description=North Pole Longitude
range=0.0:360.0
type=real

[namelist:lbc_options]
compulsory=true
ns=namelist/Top Level Model Control/LBC Related Options

[namelist:lbc_options=l_int_uvw_lbc]
compulsory=true
description=Use interpolated wind trajectories in LBCs
type=logical

[namelist:lbc_options=l_lateral_boundary]
compulsory=true
description=Is this limited area model using lateral boundary tendencies?
help=For limited-area runs,
    =the use of lateral boundary conditions is recommended.
    =However,
    =if you are doing a short test integration you can run without them.
    =In this case,
    =you will be running with fixed boundary conditions.
trigger=namelist:run_precip=l_mcr_qgraup_lbc: .true.;
       =namelist:run_precip=l_mcr_qrain_lbc: .true.;
       =namelist:run_murk=l_murk_lbc: .true.;
       =namelist:run_cloud=l_pc2_lbc: .true.;
       =namelist:lbc_options=l_int_uvw_lbc: .true.;
       =namelist:lbc_options=rimweightsa: .true.;
       =namelist:lbc_options=l_old_lbc_file: .true.;
       =namelist:lbc_options=nrim_timesa: .true.;
       =namelist:nlcfiles=alabcin1: .true.;
       =namelist:nlcfiles=alabcin2: .true.;
type=logical

[namelist:lbc_options=l_old_lbc_file]
compulsory=true
description=Select if using a legacy 13 compulsory field LBC file
help=The number of compulsory LBC fields was reduced to 10
    =when advected winds u,
    =v,
    =w became optional at UM9.1.
    =This option enables legacy LBCs to be used in the UM.
type=logical

[namelist:lbc_options=nrim_timesa]
compulsory=true
description=Maximum number of LBC sets (one per update period) in the LBC file
help=The number needs to be at least as large as the length of the
    =time dimension in the file (if it is being used). That is LBTs into,
    =not
    =out of the run.  The values can be an over-specification
type=integer

[namelist:lbc_options=rimweightsa]
compulsory=true
description=Rim weights from outside inwards
help=The rim width is the width of the region around the edge of the model
    = domain that will undergo a weighted relaxation back to the values in the
    = LBC file(s). The outer-most points in the rim need to have a weight of
    = 1,
    =and the values need to descend smoothly as we move inwards. A wider
    = rim will give a smoother relaxation,
    =but will reduce the area of the
    = domain that is running freely. The maximum length of this array is
    = set in the UM code.
length=:
type=real

[namelist:lustre_control]
compulsory=true
ns=namelist/IO System Settings/Lustre

[namelist:lustre_control=default_stripe_count]
compulsory=true
description=Set the default stripe count.
help=Sets the default Lustre stripe count to be used by new files.
    =The Lustre documentation indicates that the default configured for
    =a given filesystem can be inherited by setting this to 0.
range=0:
type=integer

[namelist:lustre_control=default_stripe_offset]
compulsory=true
description=Set the default stripe offset.
help=Sets the default Lustre stripe offset to be used by new files.
    =The Lustre documentation indicates that the default configured for
    =a given filesystem can be inherited by setting this to -1.
range=-1:
type=integer

[namelist:lustre_control=default_stripe_pattern]
compulsory=true
description=Set the default stripe pattern. Currently must be 0.
help=Sets the default Lustre stripe pattern to be used by new files.
    =The Lustre documentation indicates that this setting may possibly
    =be set to other values in the future,
    =but curently must be set to 0.
range=0
type=integer

[namelist:lustre_control=default_stripe_size]
compulsory=true
description=Set the default stripe size.
help=Sets the default Lustre stripe size to be used by new files.
    =The Lustre documentation indicates that the default configured for
    =a given filesystem can be inherited by setting this to 0.
range=0:
type=integer

[namelist:lustre_control=number_custom_files]
compulsory=true
description=number_custom_files
range=0:
trigger=namelist:lustre_control_custom_files: this > 0;
       =namelist:lustre_control_custom_files=stripe_size: this > 0;
       =namelist:lustre_control_custom_files=stripe_offset: this > 0;
       =namelist:lustre_control_custom_files=stripe_count: this > 0;
       =namelist:lustre_control_custom_files=stripe_pattern: this > 0;
       =namelist:lustre_control_custom_files=striped_file: this > 0
type=integer

[namelist:lustre_control_custom_files]
compulsory=true
ns=namelist/IO System Settings/Lustre

[namelist:lustre_control_custom_files=stripe_count]
compulsory=true
description=Array of stripe counts  for custom striped files.
fail-if=len(this) != namelist:lustre_control=number_custom_files
length=:
range=0:
type=integer

[namelist:lustre_control_custom_files=stripe_offset]
compulsory=true
description=Array of stripe offsets for custom striped files.
fail-if=len(this) != namelist:lustre_control=number_custom_files
length=:
range=-1:
type=integer

[namelist:lustre_control_custom_files=stripe_pattern]
compulsory=true
description=Array of stripe patterns for custom striped files.
fail-if=len(this) != namelist:lustre_control=number_custom_files
length=:
range=0
type=integer

[namelist:lustre_control_custom_files=stripe_size]
compulsory=true
description=Array of stripe sizes  for custom striped files.
fail-if=len(this) != namelist:lustre_control=number_custom_files
length=:
range=0:
type=integer

[namelist:lustre_control_custom_files=striped_file]
compulsory=true
description=Array of filenames for files which have custom striping.
fail-if=len(this) != namelist:lustre_control=number_custom_files
length=:
type=character

[namelist:model_domain]
compulsory=true
ns=namelist/Top Level Model Control/Model Domain and Timestep

[namelist:model_domain=l_regular]
compulsory=true
description=Is this model using a regular grid?
help=false use Variable Resolution
    = true use Regular Grid
ns=namelist/Top Level Model Control/Model Domain and Timestep
sort-key=a2
trigger=namelist:nlsizes=var_grid: .false.;
type=logical

[namelist:model_domain=model_type]
compulsory=true
description=Select model domain type
help=Models are allowed to be global,
    =limited area or single column.
    =
    =1 => Global Model
    =2 => Limited Area Model (Classic style)
    =3 => Limited Area Model (Cyclic boundary conditions - EW only)
    =4 => Limited Area Model (Cyclic boundary conditions - EW and NS)
    =5 => Single Column Model (see help)
    =6 => Site Specific Forecast Model (SSFM) (see help)
    =
    =Global model
    =----------------------------------------------------------
    =The grid for a global atmospheric model can be completely described by
    =the number of rows and columns and covers the whole globe (with full
    =grid-points at each pole). The first gridpoint is at the south pole
    =with the first column at 0 degrees West.
    =
    =Limited area model
    =----------------------------------------------------------
    =Limited area models can be on a rotated grid. Here the "pole" of the grid
    =should be chosen such that the centre of the area at the equator of the
    =rotated grid. See UMDP S1.
    =
    =Single Column Model (SCM)
    =----------------------------------------------------------
    =The gui only provides support in creating the executable file for the
    =SCM,
    =i.e. one can choose the PHYSICS sections one wants to use,
    =then
    =compile the source direct from the gui. Other information like,
    =say
    =the number of model levels,
    =whether the convective momentum
    =transport,
    =the rapidly-mixing boundary layer,
    =etc are on/off will not
    =automatically be passed to the SCM as they use UM namelists which are
    =not recognised by the SCM. Those items will have to be set up 'by hand'
    =in the namelists dedicated for the SCM.
    =
    =Site Specific Forecast model (SSFM)
    =----------------------------------------------------------
    =This is a version of the SCM code but with certain modifications which
    =help read and use other model data. Choosing this will allow the
    =user to compile the relevant code to run such a model.
ns=namelist/Top Level Model Control/Model Domain and Timestep
sort-key=a1
trigger=namelist:lbc_options=l_lateral_boundary: 2;
       =namelist:run_ukca=tc_lbc_ukca: 2;
       =namelist:lam_config=delta_lon: 2,
       =3,4;
       =namelist:lam_config=delta_lat: 2,3,
       =4;
       =namelist:lam_config=polelata: 2,3,
       =4;
       =namelist:lam_config=polelona: 2,3,
       =4;
       =namelist:lam_config=frstlona: 2,3,
       =4;
       =namelist:lam_config=frstlata: 2,3,
       =4;
       =namelist:lam_config=n_rims_to_do: 2,3,
       =4;
       =namelist:run_free_tracers=l_free_tracer_lbc: 2,3,
       =4;
       =namelist:nlcfiles: this != 5;
value-titles=Global Model,LAM (Classic style),
            =LAM (Cyclic boundary conditions - EW only),
            =LAM (Cyclic boundary conditions - EW and NS),
            =Single Column Model (see help),
            =Site Specific Forecast Model (SSFM)
values=1,2,3,4,5,6
widget[rose-config-edit]=rose.config_editor.valuewidget.radiobuttons.RadioButtonsValueWidget

[namelist:nlcfiles]
compulsory=true
ns=namelist/Model Input and Output

[namelist:nlcfiles=alabcin1]
compulsory=true
description=First LBC input file
help=The full path to the first lateral boundary conditions file
ns=namelist/Top Level Model Control/LBC Related Options
type=character

[namelist:nlcfiles=alabcin2]
compulsory=true
description=Second LBC input file
help=The full path to the second lateral boundary conditions file
ns=namelist/Top Level Model Control/LBC Related Options
type=character

[namelist:nlcfiles=astart]
compulsory=true
description=Reconfiguration output/atmosphere input dump
fail-if=this == "''" or this == "'unset'" or this == "" # No start dump specified
help=The full path the to reconfiguration output dump and/or
    =the atmosphere model input dump
ns=namelist/Model Input and Output/Dumping and Meaning
sort-key=a00
type=character

[namelist:nlcfiles=atmanl]
compulsory=true
description=Atmospheric analysis dump
help=The full path to the atmospheric analysis dump
ns=namelist/Model Input and Output/Dumping and Meaning
sort-key=a02
type=character

[namelist:nlcfiles=iau_inc]
compulsory=true
description=First IAU input file
help=The full path to the first IAU input file
ns=namelist/Data Assimilation/iau
sort-key=a2a
type=character

[namelist:nlcfiles=obs01]
compulsory=true
description=First observations files directory
help=The full path to the first directory containing observation files for the
    =AC scheme. This directory should contain ".acobs" files created by OPS
    =and which can be read in by the UM
ns=namelist/Data Assimilation/Analysis Correction Scheme
sort-key=2a
type=character

[namelist:nlcfiles=obs02]
compulsory=true
description=Second observations files directory
help=The full path to the second directory containing observation files for the
    =AC scheme. This directory should contain ".acobs" files created by OPS
    =and which can be read in by the UM
ns=namelist/Data Assimilation/Analysis Correction Scheme
sort-key=2b
type=character

[namelist:nlcfiles=obs03]
compulsory=true
description=Third observations files directory
help=The full path to the third directory containing observation files for the
    =AC scheme. This directory should contain ".acobs" files created by OPS
    =and which can be read in by the UM
ns=namelist/Data Assimilation/Analysis Correction Scheme
sort-key=2c
type=character

[namelist:nlcfiles=obs04]
compulsory=true
description=Fourth observations files directory
help=The full path to the fourth directory containing observation files for the
    =AC scheme. This directory should contain ".acobs" files created by OPS
    =and which can be read in by the UM
ns=namelist/Data Assimilation/Analysis Correction Scheme
sort-key=2d
type=character

[namelist:nlcfiles=obs05]
compulsory=true
description=Fifth observations files directory
help=The full path to the fifth directory containing observation files for the
    =AC scheme. This directory should contain ".acobs" files created by OPS
    =and which can be read in by the UM
ns=namelist/Data Assimilation/Analysis Correction Scheme
sort-key=2e
type=character

[namelist:nlcfiles=rpseed]
compulsory=true
description=File containing random seed
help=The full path to the file containing a random seed for the stochastic
    =model
ns=namelist/UM Science Settings/section35
sort-key=35b
type=character

[namelist:nlcfiles=streqlog]
compulsory=true
description=File for stash requests log
help=The full path to the file which will contain the STASH requests output log
ns=namelist/Model Input and Output/STASH Requests and Profiles
type=character

[namelist:nlcfiles=ukcaaclw]
compulsory=true
description=LW file: aitken and insol acc mode
help=The full path to the file containing the look-up table for aitken modes
    =and insoluble accumulation-mode aerosol optical properties in the
    =longwave
ns=namelist/UM Science Settings/section34
sort-key=f03
type=character

[namelist:nlcfiles=ukcaacsw]
compulsory=true
description=SW file: aitken and insol acc mode
help=The full path to the file containing the look-up table for aitken modes
    =and insoluble accumulation-mode aerosol optical properties in the
    =shortwave
ns=namelist/UM Science Settings/section34
sort-key=f02
type=character

[namelist:nlcfiles=ukcaanlw]
compulsory=true
description=LW file: soluble acc mode
help=The full path to the file containing the look-up table for soluble
    =accumulation-mode aerosol optical properties in the longwave
ns=namelist/UM Science Settings/section34
sort-key=f05
type=character

[namelist:nlcfiles=ukcaansw]
compulsory=true
description=SW file: soluble acc mode
help=The full path to the file containing the look-up table for soluble
    =accumulation-mode aerosol optical properties in the shortwave
ns=namelist/UM Science Settings/section34
sort-key=f04
type=character

[namelist:nlcfiles=ukcacrlw]
compulsory=true
description=LW file: coarse-mode
help=The full path to the file containing the look-up table for coarse-mode
    =aerosol optical properties in the longwave
ns=namelist/UM Science Settings/section34
sort-key=f07
type=character

[namelist:nlcfiles=ukcacrsw]
compulsory=true
description=SW file: coarse-mode
help=The full path to the file containing the look-up table for coarse-mode
    =aerosol optical properties in the shortwave
ns=namelist/UM Science Settings/section34
sort-key=f06
type=character

[namelist:nlcfiles=ukcaprec]
compulsory=true
description=File of pre-computed values
help=The full path to the file containing UKCA pre-computed values
    =
    =Data for interaction between UKCA-MODE aerosols and radiation are
    =generated by a separate pre-processing package and are stored in seven
    =files. The first file contains precomputed constants that only depend on
    =the choice of spectral files for the radiation code. The remaining six
    =files contain look-up tables of aerosol optical properties for
    =accumulation- and coarse-mode aerosols in the shortwave and longwave
    =spectra.
    =
    =Generating these files is not a simple matter and users will not normally
    =generate their own files.
    =
    =Note: The seven additional files are NOT ancillary files. They are more
    =akin to the radiation code spectral files. Therefore,
    =they do not require
    =entries in ANCILmaster files.
ns=namelist/UM Science Settings/section34
sort-key=f01
type=character

[namelist:nlsizes]
compulsory=true
ns=namelist/Reconfiguration and Ancillary Control/sizes
sort-key=a5
title=Output dump grid sizes and levels

[namelist:nlsizes=bl_levels]
description=Number of boundary layer levels
fail-if=this > namelist:nlsizes=model_levels;
help=Typically only the levels in the lowest few kilometres of the
    =atmosphere are passed to the boundary layer scheme,
    =in order to save on
    =CPU time.  Depending on the choices in the Boundary Layer panel,
    =the
    =local scheme can be applicable to mixing processes in the free atmosphere
    =above the boundary layer.
range=1:
sort-key=b3
type=integer

[namelist:nlsizes=cloud_levels]
description=Number of cloud levels used in radiation
fail-if=this > namelist:nlsizes=model_levels;
help=The number of cloud levels used in radiation should not exceed the number
    =of model levels.
range=1:
sort-key=b4
type=integer

[namelist:nlsizes=global_row_length]
description=Number of columns in the model,x-direction
fail-if=this < 0; # Needs to be positive
       =this % 2 == 1; # Needs to be even
       =this > 2048; # Needs to be less than row_length_max
help=The number of columns in the model should be even.
range=1:
sort-key=a1
type=integer

[namelist:nlsizes=global_rows]
description=Number of rows in the model,y-direction
fail-if=this > 1600 # Needs to be less than rows_max
help=The ENDGame staggered grid has one less P row than the equivalent
    =resolution New Dynamics grid.
range=1:
sort-key=a2
type=integer

[namelist:nlsizes=land_field]
description=Number of land points
help=The number of land points is required for STASH addressing.
    =Values on the standard ancillary files are:
    =Global(1024x769)= 267049
    =Global(192x144)= 10663
    =Global( 96x73 )= 2381
    =However,
    =if you are changing resolution without an ancillary file the
    =value can be obtained by estimating and submitting a reconfiguration
    =run. The true number is given in your output.
range=0:
sort-key=a3
type=integer

[namelist:nlsizes=model_levels]
description=Number of model levels
help=The number of model levels chosen must be consistent with the information
    =specified in the vertical levels namelist (VERTLEVS).  Common VERTLEVS
    =namelists are located in the AUX repository and are generally installed
    =into $UMDIR as part of the UM installation process
    =(e.g. $UMDIR/ctldata/vert/vertlevs_L85_50t_35s_85km).
range=1:
sort-key=b1
type=integer

[namelist:nlsizes=ozone_levels]
description=Number of ozone levels
fail-if=this > namelist:nlsizes=model_levels;
help=The choice of ozone levels needs to be consistent with the number of levels
    =specified in the ozone ancillary file. Missing levels are at the bottom and
    =assumed to have the same values as the lowest specified level. This saves
    =memory and disk-space.
range=1:
sort-key=b2
type=integer

[namelist:nlsizes=st_levels]
description=Number of deep soil levels (excluding surface)
fail-if=this > namelist:nlsizes=model_levels;
help=Soil levels are numbered from the surface downward.  Thickness of
    =the soil levels is specified by the JULES namelist item DZSOIL_IO.
range=1:
sort-key=b6
type=integer

[namelist:nlsizes=var_grid]
description=Variable resolution grid file
help=The full path to the file containing the horizontal grid resolution
    =namelist,
    =horizgrid,
    =connected to unit 153. This namelist is required
    =when reconfiguring a dump for a variable resolution horizontal grid.
sort-key=a0
type=character

[namelist:nlsizes=vert_lev]
description=Vertical levels file
help=The full path to the file containing the vertical levels namelist,
    =vertlevs,
    =connected to unit 90. This namelist is required by all
    =reconfiguration tasks.
sort-key=b0
type=character

[namelist:nlst_mpp]
compulsory=true
ns=namelist/Top Level Model Control/Parallel Communication Options

[namelist:nlst_mpp=extended_halo_size_ew]
compulsory=true
description=Extended halo size in the East-West direction.
help=The extended halo size determines the number of grid cells each PE uses
    = to communicate with its neighbours. The size of the extended halo should
    = be determined by the choice of:
    = i) interpolation order used in the semi-lagrangian advection,
    =and
    = ii) the maximum wind speed (CFL) which you want to allow.
    = (The maximum CFL determines how much communication on demand
    = will be done in the E-W direction.)
    =
    = In the E-W direction the number is chosen as
    = (interpolation order+1)/2 + max CFL wanted in E-W (usually 2).
    =
    = When using cubic interpolation this number is typically set to 4.
range=1:10
type=integer

[namelist:nlst_mpp=extended_halo_size_ns]
compulsory=true
description=Extended halo size in the North-South direction.
help=The extended halo size determines the number of grid cells each PE uses
    = to communicate with its neighbours. The size of the extended halo should
    = be determined by the choice of:
    = i) interpolation order used in the semi-lagrangian advection,
    =and
    = ii) the maximum wind speed (CFL) which you want to allow.
    = (The maximum CFL determines how much communication on demand
    = will be done in the E-W direction.)
    =
    = In the N-S direction the number is chosen as
    = (interpolation order+1)/2 + 0.5 + max CFL wanted in N-S (either 1.5 or 2.5).
    =
    = When using cubic interpolation this number is typically set to 4 or 5.
range=1:10
type=integer

[namelist:nlst_mpp=gcom_coll_limit]
compulsory=true
description=Upper limit for using GCOM routines to perform all-to-all
           =gathers and scatters
help=The maximum number of atmosphere processors a job can have while still
    = using GCOM all-to-all routines for collective gathers and scatters.
    = A job with more atmosphere processors than this number will use MPI
    = gathers and scatters instead. The optimal value of this limit may
    = vary by both machine architecture and job configuration.
    =
    = Setting this to zero will force the UM to always use MPI gathers and scatters.
range=0:
type=integer

[namelist:nlst_mpp=global_sum_method]
compulsory=true
description=Global summation method for summing distributed arrays
           =held across multiple processors.
help=The choice of method for summing distributed arrays held across multiple
    =processors. None of the methods will reproduce with each other as they
    =perform summations in different orders.
    =
    =Old reproducible: this method gives the same answers irrespective of
    =processor decomposition but does not scale well.
    =
    =Double-double precision reproducible: this method gives the same answers
    =irrespective of processor decomposition but scales much better.
    =This method should normally be used for reproducible model runs.
    =
    =Fast non-reproducible: this is the fastest method but can give different
    =results when used with different processor configurations.
    =
    =If switching from fast non-reproducible to double-double reproducible or
    =old reproducible please note that the ENDGame single precision solver is
    =not compatible with the latter two options.  If the associated fcm-make
    =app was configured to use the single precision solver then this must be
    =turned off by adding C_DP_HLM=c_dp_hlm to the list of cpp keys specified
    =in keys_atmos_app.
value-titles=Old reproducible,Double-double precision reproducible,
            =Fast non-reproducible
values=1,2,3

[namelist:nlstcall]
compulsory=true
ns=namelist/Top Level Model Control/Run Control and Time Settings

[namelist:nlstcall=albc2_starttime_mins]
compulsory=true
description=First time in second LBC file
help=Time of the first block of data in the second LBC file,
    =in minutes from the start of the run.
sort-key=5b
type=integer

[namelist:nlstcall=ancil_reftime]
compulsory=true
description=Ancilliary reference time
help=Set by a six element array in the following order:
    =Years, Months, Days, Hours, Minutes, Seconds
    =Set all elements to 0 for a reference time equal to basis
    =time, this is not normally recommended for climate model runs,
    =see below for more details
    =
    =The reference time can be set to a true date or each
    =element can be set to 0. By setting each element to 0,
    =the reference time will be set to the same as the basis/start
    =time. This can give problems with bit-comparison if you are
    =forced to re-start a run as a new run and forget to set the
    =reference time to the date of the original NRUN.
    =
    =Climate model users are advised to set a true date. Such users
    =who are generally doing long integrations will almost certainly
    =be using updating of ancillary fields. So setting a true date
    =ensures that new runs starting from part way through an existing
    =run will give bit comparison. Usually the climate mean reference
    =time is a good choice for the ancillary reference time.
    =
    =The following describes why an ancillary reference time is
    =required:
    =
    =Using the items namelist the user can specify a period
    =of updating for ancillary fields. This is not enough to define
    =the actual point of updating. If the ancil reference time is
    =set to the basis/start time the first point of updating was
    =always the beginning of a new run, and subsequent updates
    =occurred at the specified frequency after that. This
    =would mean that if the run were restarted as an NRUN at a
    =time that was not an updating point of the original run, the
    =updating points of the new run would be different and the
    =results would therefore not bit compare with the original run.
    =
    =The following explains this further. The data in the ancillary
    =file is time-interpolated at each of the update points based
    =on a date mid-way through the updating period. This makes
    =the data suitable (on average) for the whole period.
    =
    =Consider a run, producing restart dumps daily, but
    =updating an ancillary field every 5 days. If using a an ancil
    =reference equal to the basis time. Updating at timestep zero
    =uses a time-interpolation to day 2.5 and the ancillary field
    =is in use from 0 <= day < 5.
    =
    =Clearly, a similar new run starting from a dump at day 3
    =will use different dates for the updating and base them on
    =different time-interpolation days. Time interpolation used
    =would be day 5.5 and the ancillary field would be in use
    =from 3 <= day < 8. This will not give the same result as
    =the first run.
    =
    =If an ancillary reference time is provided, all updating
    =points (and consequently, the time-interpolation dates) will
    =be an integral number of updating periods from this reference
    =time regardless of the time of the NRUN.
    =
    =In this case, updating does occur as the run starts up.
    =However, the time-interpolation date used is relative half way
    =between the fixed updating dates (which have been determined
    =from the ancil reference time) that are nearest to the start
    =of the run. Hence, you always get the same result.
    =
length=6
sort-key=2c
type=integer

[namelist:nlstcall=lcal360]
compulsory=true
description=Use 360 day calendar
help=Climate users normally use a 360 day calendar to keep months and seasons a
    =standard length. Others will use a normal Gregorian calendar to define the time
    =information in model headers etc.
    =
    =The Gregorian calendar can be used with the coupled atmosphere-ocean
    =climate model. When running the coupled model with the Gregorian calendar
    =ancillaries created for the correct calendar must be used. If the
    ="Use 360 day calendar" option is not selected and the UM atmosphere
    =is not running (i.e. NEMO,
    =CICE,or NEMO-CICE runs),
    =then the model
    =will use a fixed 365-day calendar (no leap days).
ns=namelist/Top Level Model Control/Run Control and Time Settings
sort-key=4b
trigger=namelist:run_aerosol=l_temporal_emi: .false.
type=logical
warn-if=this==".true." and namelist:nlstcall=lclimrealyr==".true."

[namelist:nlstcall=lclimrealyr]
compulsory=true
description=Climate Real Year
help=Are real Gregorian years being used in the climate run
sort-key=4a
trigger=namelist:nlstcgen=greg_monthly_dump: .true.;
       =namelist:nlstcgen=end_of_run_dump: .true.;
       =namelist:nlstcall=lcal360: .false.;
       =namelist:nlstcgen=meanfreqim: .false.;
type=logical
warn-if=this==".true." and namelist:nlstcall=lcal360==".true."

[namelist:nlstcall=ltimer]
compulsory=true
description=Timer diagnostic
help=The version of the timer is defined by the C97 cpp flag.  This will need to
    =be modified separately in the fcm_make app.
    =
    =Version 1A is the standard UM timer,
    =but cannot be used on MPP machines.
    =Version 3A is an upgraded version of the standard timer. It can be used all
    =types of machines,
    =and will give useful timing information on MPP machines.
    =It is computationally more expensive than version 1A. As well as giving timing
    =information for individual routines (as version 1A does),
    =version 3A also
    =gives timing information for larger model components - for example the total
    =time spent in the dynamics or physics.
type=logical

[namelist:nlstcall=model_analysis_mins]
compulsory=true
description=Model analyis time (minutes)
help=If Analysis-Correction (AC),
    =or Incremental Analysis Update (IAU) schemes are required,
    =this is the number of minutes after the start of the run at which the data time should be reset to the current validity time. The value chosen should be a multiple of the timestep.
sort-key=3d
type=integer

[namelist:nlstcall=model_basis_time]
compulsory=true
description=Model Basis Time
help=The basis time of the current model run. Set by a six element array
    =in the following order:
    =Years,
    =Months,Days,Hours,Minutes,Seconds
length=6
sort-key=2a
type=integer

[namelist:nlstcall=num_albcs]
compulsory=true
help=The number of atmospheric boundary files
sort-key=5a
trigger=namelist:nlstcall=albc2_starttime_mins : this == 2;
       =namelist:nlcfiles=alabcin2: this == 2;
type=integer

[namelist:nlstcall=run_target_end]
compulsory=true
description=Target run length (relative to basis time)
help=The run time for the current model run. Set by a six element array
    =in the following order:
    =Years,
    =Months,Days,Hours,Minutes,Seconds
length=6
sort-key=2b
type=integer

[namelist:nlstcall_pp]
description=These namelists define the output streams to which STASH diagnostics may be sent
duplicate=true
macro=output_streams.OutputStreamValidate
ns=namelist/Model Input and Output/Model Output Streams

[namelist:nlstcall_pp=file_id]
compulsory=true
description=The unique file identifier string for this output stream
help=This string will be used by various parts of the code to retrieve and
    =interact with this stream,
    =each stream must have a unique identifier.
    =The file_id values provided in the stash request namelists should be
    =directed to the desired output stream using the corresponding identifier
    =
    =A note on special streams:
    =
    =There are two streams which have special behaviour inside the code; the
    =stream used later by the VAR system,
    =and the stream which was previously
    =the makeBC macro.  If you wish to access the non-standard behaviour of
    =either of these streams you must ensure that the ID used is either
    ="ppvar" for the VAR stream or "ppmbc" for the makeBC macro stream
pattern=(?# Must be between 1 and 20 characters)^'.{1,20}'$
sort-key=01
type=character

[namelist:nlstcall_pp=filename]
compulsory=true
description=The filename for the output stream file
help=This provides the filename to attach to the stream.  Note that if periodic
    =re-initialisation is being used the filenames will be generated
    =automatically,
    =and therefore this value will be ignored
sort-key=02
type=character

[namelist:nlstcall_pp=filename_base]
compulsory=true
description=Filename base for reinitialised stream files
fail-if="%C" in this and namelist:nlstcgen=steps_per_periodim % 24 != 0;
       =# Model step must coincide with whole hours for legacy Absolute naming
help=This gives the name for the generated output stream files,
    =it supports
    =special characters (see the top level panel for "Model Input and Output"
    =for details).
sort-key=02
type=character

[namelist:nlstcall_pp=l_reinit]
compulsory=true
description=Periodic reinitialisation for diagnostic PP files
help=In long runs the amount of data or number of fields that would be written
    =to a given stream becomes too large to hold in one file. Periodically,
    =when
    =this flag is active,
    =a new file is created and the stream pointer is
    =changed to write to this new file. In short runs the files may not be very
    =large and so this functionality may not be needed
sort-key=05
trigger=namelist:nlstcall_pp=filename : .false. ;
       =namelist:nlstcall_pp=reinit_end : .true. ;
       =namelist:nlstcall_pp=reinit_step : .true. ;
       =namelist:nlstcall_pp=reinit_start : .true. ;
       =namelist:nlstcall_pp=reinit_unit : .true. ;
       =namelist:nlstcall_pp=filename_base : .true. ;
type=logical

[namelist:nlstcall_pp=packing]
compulsory=true
description=Packing profile
help=Packing profile for diagnostic stream files. Each STASH item has 10 packing
    =profiles defined. These are numbers that define the accuracy to which the
    =field will be packed when written to PP files. Each of the ten profiles can
    =be defined as the standard packing for a particular configuration. Using
    =packing reduces the space requirement to about one third the unpacked size.
    =The following packing profiles are currently defined:
    =
    = 0 -> unpacked
    = 1 -> packed as required for operational output streams
    = 2 -> packed as required for standard climate output
    = 4 -> packed as required for stratosphere model output
    = 5 -> New standard climate packing
    = 6 -> Simple GRIB packing
    = 7 -> Packing suitable for 1-4km res regional runs
sort-key=03
value-titles='Unpacked','Operational','Standard Climate','Stratosphere',
            ='New Climate','Simple GRIB','Convective-scale (<5km)'
values=0,1,2,4,5,6,7

[namelist:nlstcall_pp=reinit_end]
compulsory=true
description=End time for reinitialisation of diagnostic stream files
help=The end time for the generation of diagnostic PP files in units of
    =namelist:nlstcall_pp=reinit_unit.  After this time the stream will be
    =closed to any future STASH requests
sort-key=08
type=integer

[namelist:nlstcall_pp=reinit_start]
compulsory=true
description=Start for periodic reinitialisation of diagnostic stream files
help=The start time for the generation of diagnostic PP files in units of
    =namelist:nlstcall_pp=reinit_unit.  This gives the time of the first
    =timestep where an output file for this stream should be created
sort-key=07
type=integer

[namelist:nlstcall_pp=reinit_step]
compulsory=true
description=Period for periodic reinitialisation of diagnosic stream files
help=Period for periodic reinitialisation of diagnositc stream files in units
    =of namelist:nlstcall_pp=reinit_unit. Starting from the time given by
    =namelist:nlstcall_pp=reinit_start this controls the absolute time until
    =the current file is closed and a new one is initialised to take its place
sort-key=09
type=integer

[namelist:nlstcall_pp=reinit_unit]
compulsory=true
description=Time unit for periodic reinitialisation
fail-if=this == 1 and namelist:nlstcgen=steps_per_periodim % 24 != 0;
       =# Model step must coincide with whole hours to use Hours unit
       =this == 2 and namelist:nlstcgen=steps_per_periodim % 24 != 0;
       =# Model step must coincide with whole hours to use Days unit
       =this == 4 and namelist:nlstcgen=steps_per_periodim % 24 != 0;
       =# Model step must coincide with whole hours to use Months unit
       =this == 4 and namelist:nlstcall=lcal360 == ".true.";
       =# Time units of Real Months not allowed if using 360-day calendar
help=Time unit for periodic reinitialisation used by
    =namelist:nlstcall_pp=reinit_start,
    =namelist:nlstcall_pp=reinit_end and
    =namelist:nlstcall_pp=reinit_step. Takes values of hours,
    =days,timesteps or real months
sort-key=06
value-titles='None','Hours','Days','Timesteps','Real Months'
values=0,1,2,3,4

[namelist:nlstcall_pp=reserved_headers]
compulsory=true
description=Override size for header reservations
help=Fieldsfiles usually contain 4096 fields. The recommended way to work around
    =this restriction is to use periodic re-initialisation of the fieldsfiles.
    =In the rare case that this is not a suitable option (e.g. for analysis time
    =in a forecast) it is possible to extend the 4096 field restriction by
    =overriding the default size. Be careful not to override the size by too
    =much - large numbers of fieldsfile headers can be inefficient for both
    =runtime and memory use and may cause problems with some small executables
sort-key=04
type=integer

[namelist:nlstcgen]
compulsory=true
ns=namelist/Model Input and Output/Dumping and Meaning

[namelist:nlstcgen=dump_filename_base]
compulsory=true
description=Base name for dump output files
help=This gives the name for generated dump files,
    =it supports
    =special characters (see the top level panel for "Model Input and Output"
    =for details).
sort-key=a01
type=character

[namelist:nlstcgen=dump_frequency_units]
compulsory=true
description=Select units for dumping frequency (dumpfreqim/dumptimesim)
fail-if=this == 1 and namelist:nlstcgen=steps_per_periodim % 24 != 0;
       =# Model steps must coincide with whole hours to use Hours unit
       =this == 2 and namelist:nlstcgen=steps_per_periodim % 24 != 0;
       =# Model steps must coincide with whole hours to use Days unit
sort-key=a3a
value-titles=Hours,Days,Timesteps
values=1,2,3

[namelist:nlstcgen=dump_packim]
compulsory=true
description=Select dump packing option
fail-if=this != namelist:recon=dump_pack # Select same dump packing for both recon and UM run
help=A note on dump packing
    =
    =The packing option allows you to specify if primary (prognostic and
    =ancillary) fields get packed to 32-bits or not.
    =
    =Dumps are comprised of two parts. The prognostic fields and  diagnostic
    =storage areas. The latter being used for holding partial result fields
    =(often partial-sums) for STASH time processed data.
    =
    =Using packed dumps can significantly improve the performance of a model.
    =IO time implies wasted CPU resources. Hence packing often improves the
    =both speed of a run and the total throughput of the machine.
    =
    =Separately,
    =for both prognostics and diagnostics,
    =the user can choose to
    =have the data unpacked,
    =or packed if so indicated by the STASHmaster
    =file. Most fields are marked as packable.
    =
    =It is possible to override the packing settings in the STASHmaster file
    =in a branch. Typically,
    =this would be to change a
    =setting to force a field to remain unpacked to gain extra precision or
    =number range.
    =
    =The down side of using packed fields:
    =
    =Packed prognostics can cause problems with restarting in
    =a bit comparable way when you are force to restart with an NRUN.
    =This is because ancillary fields do not get packed until the
    =first dump is written and the sequence is different in NRUNS
    =and CRUNS.
    =
    =Packed data is less accurate and has a smaller range of values.
    =Prognostic fields should be marked through the STASHmaster file
    =if they are unsuitable for packing. However,
    =diagnostic fields will depend on the time processing in use and so
    =the standard marking may be inappropriate.
    =
    =Given that most people will be viewing data on workstations with
    =32-bit IEEE numbers,
    =this should not be a big problem,
    =but
    =remember that if you do means over long periods  (particularly
    =STASH means rather than climate means where intermediate means
    =are used),
    =the partial-sums will require more accuracy and
    =range than the final result. However,
    =long period STASH meaning
    =should be avoided as it is ill-conditioned.
    =
    =However,
    =the savings to be gained may be considerable.
sort-key=a2
value-titles=STASHmaster controlled packing for diagnostic and primary fields,
            =Unpacked primary fields - STASHmaster-packed diagnostics,
            =Unpacked primary and diagnostic fields
values=1,2,3

[namelist:nlstcgen=dumpfreqim]
compulsory=true
description=Dump period - number of frequency units between production of restart dumps
help=Frequency of dumping depends on the balance between:
    =
    =1. Costs of writing out dumps more or less frequently.
    =2. The amount of repetition required should a run fail between dumping
    =periods or should a section of a run need to be repeated.
    =
    =To choose a dumping interval consider
    =1. the frequency of events that cause a model to stop on your system.
    =2. the amount of disk-space available (if you are not deleting superseded
    =re-start dumps).
    =3. the archive requirements of the job.
    =4. the climate meaning sequence required (if any).
sort-key=a3b
type=integer

[namelist:nlstcgen=dumptimesim]
compulsory=true
description=Irregular dumping - frequency units at which to produce dumps
help=Frequency of dumping depends on the balance between:
    =
    =1. Costs of writing out dumps more or less frequently.
    =2. The amount of repetition required should a run fail between dumping
    =periods or should a section of a run need to be repeated.
    =
    =To choose a dumping interval consider
    =1. the frequency of events that cause a model to stop on your system.
    =2. the amount of disk-space available (if you are not deleting superseded
    =re-start dumps).
    =3. the archive requirements of the job.
    =4. the climate meaning sequence required (if any).
length=40
sort-key=a4
type=integer

[namelist:nlstcgen=end_of_run_dump]
compulsory=true
description=Produce a dump at the end of a cycle
help=Writes a dump at the end of a cycle regardless of whether this time
    =is selected by greg_monthly_dump or dumpfreqim.
    =WARNING! If this option is selected the run will not necessarily bit
    =compare with an equivalent run where it is not selected,
    =owing to the
    =dump frequency dependence for the convergence of the Helmholtz solver
sort-key=a3d
type=logical

[namelist:nlstcgen=greg_monthly_dump]
compulsory=true
description=Dump at the end of a month for Gregorian climate runs.
help=Produce a restart dump at the end of a month during runs using the Gregorian calendar.
    =These dumps are produced in addition to those specified using dumpfreqim
sort-key=a3c
type=logical

[namelist:nlstcgen=i_dump_output]
compulsory=true
help=1. No dumping or climate meaning - Short runs (low CPU cost) often do
    =not need to dump at all if there are no climate mean requirements.
    =
    =2. Regular frequency dumps with possible meaning sequence - Periodic
    =dumping is normal on longer period runs to reduce the amount of rerunning
    =in case there is a computer crash or model failure.
    =
    =Periodic dumping is also required if the climate mean system is to be
    =used.
    =
    =The climate meaning system allows long period means to be calculated,
    =such as monthly,seasonal,
    =annual and decadal means. Theoretically,
    =STASH is capable of calculating such means,
    =but limits in numerical
    =precision of the computer reduces the accuracy of STASH meaning; when
    =there are too many samples (eg. if you were to sample a quantity every
    =timestep for a decade),
    =then there is an increased loss of precision
    =as the accumulated sum becomes much greater than the samples towards
    =the end of the period. The climate mean works by calculating,
    =for
    =example,monthly means,
    =then calculating seasonal means from three
    =monthly means and annual means from four seasonal means and so on. See
    =the Basic User Guide for a more complete discussion of climate
    =meaning.
    =
    =Climate mean intervals need to be input in units of dump
    =period. Therefore:
    =
    = - If the dumping period is changed,
    =the meaning period lengths should
    =be reviewed.
    =
    = - The basic dumping frequency should divide into the first climate
    =mean interval exactly.
    =
    =3. Irregular dumping is used operationally because delays in the early
    =part of the run are more serious that those later on.
sort-key=a1
trigger=namelist:nlstcgen=dump_packim: this > 1 ;
       =namelist:nlstcgen=dump_frequency_units: this > 1;
       =namelist:nlstcgen=dump_filename_base: this > 1;
       =namelist:nlstcgen=dumpfreqim: 2;
       =namelist:nlstcgen=greg_monthly_dump: 2;
       =namelist:nlstcgen=end_of_run_dump: 2;
       =namelist:nlstcgen=l_meaning_sequence: 2;
       =namelist:nlstcgen=dumptimesim: 3;
value-titles=No dumping or climate meaning,
            =Regular frequency dumps with possible meaning sequence,
            =Irregular dump times - no climate meaning possible
values=1,2,3

[namelist:nlstcgen=l_meaning_sequence]
compulsory=true
description=Turn on climate meaning of output fields
fail-if=this == ".true." and namelist:nlstcgen=secs_per_periodim / namelist:nlstcgen=steps_per_periodim > 3600 and namelist:nlstcgen=steps_per_periodim % 24 != 0;
       =# Model time must coincide with whole hours if timestep is greater than 1 hour for LBTIM to be encoded correctly for mean files
help=The climate meaning system allows long period means to be calculated,
    =such as monthly,seasonal,
    =annual and decadal means. Theoretically,
    =STASH is capable of calculating such means,
    =but limits in numerical
    =precision of the computer reduces the accuracy of STASH meaning; when
    =there are too many samples (eg. if you were to sample a quantity every
    =timestep for a decade),
    =then there is an increased loss of precision
    =as the accumulated sum becomes much greater than the samples towards
    =the end of the period. The climate mean works by calculating,
    =for
    =example,monthly means,
    =then calculating seasonal means from three
    =monthly means and annual means from four seasonal means and so on. See
    =the Basic User Guide for a more complete discussion of climate
    =meaning.
sort-key=b1
trigger=namelist:nlstcgen=mean_reftimeim: .true.;
       =namelist:nlstcgen=ppselectim: .true.;
       =namelist:nlstcgen=meanfreqim: .true.;
       =namelist:nlstcgen=psum_filename_base: .true.;
type=logical

[namelist:nlstcgen=mean_1_filename_base]
compulsory=true
description=Base name for mean-level 1 filename
fail-if="%C" in this and namelist:nlstcgen=steps_per_periodim % 24 != 0;
       =# Model step must coincide with whole hours for legacy Absolute naming
help=This gives the name for generated mean file for period 1,
    =it supports
    =special characters (see the top level panel for "Model Input and Output"
    =for details).
sort-key=b5a
type=character

[namelist:nlstcgen=mean_2_filename_base]
compulsory=true
description=Base name for mean-level 2 filename
fail-if="%C" in this and namelist:nlstcgen=steps_per_periodim % 24 != 0;
       =# Model step must coincide with whole hours for legacy Absolute naming
help=This gives the name for generated mean file for period 2,
    =it supports
    =special characters (see the top level panel for "Model Input and Output"
    =for details).
sort-key=b6
type=character

[namelist:nlstcgen=mean_3_filename_base]
compulsory=true
description=Base name for mean-level 3 filename
fail-if="%C" in this and namelist:nlstcgen=steps_per_periodim % 24 != 0;
       =# Model step must coincide with whole hours for legacy Absolute naming
help=This gives the name for generated mean file for period 3,
    =it supports
    =special characters (see the top level panel for "Model Input and Output"
    =for details).
sort-key=b7
type=character

[namelist:nlstcgen=mean_4_filename_base]
compulsory=true
description=Base name for mean-level 4 filename
fail-if="%C" in this and namelist:nlstcgen=steps_per_periodim % 24 != 0;
       =# Model step must coincide with whole hours for legacy Absolute naming
help=This gives the name for generated mean file for period 4,
    =it supports
    =special characters (see the top level panel for "Model Input and Output"
    =for details).
sort-key=b8
type=character

[namelist:nlstcgen=mean_reftimeim]
compulsory=true
description=Mean reference time for production of means
help=Mean reference time for production of means,
    =where
    =1st element is year
    =2nd element is month
    =3rd element is day
    =4th to 6th elements are hours,
    =minutes,
    =seconds and
    =have to be 0.
    =The reference date/time is used as a basis time for the meaning
    =sequence. For example,
    =set the date to 1st December if you just need
    =to be sure that your seasonal means align on December-January-February
    =(DJF),
    =March-April-May (MAM) etc. If you started the run in,say,
    =January,
    =then calculation of seasonal means will not start till the
    =beginning of March and the annual mean will not start till next
    =December.
    =
    =Set to all zeroes to use the start date/time. "True date" settings
    =allow comparison between runs starting at different times and are
    =recommended. When using Gregorian-calendar meaning,
    =the day must be 1
    =and the hour must be 0.
length=6
range=0:
sort-key=b2

[namelist:nlstcgen=meanfreqim]
compulsory=true
description=Meaning period length - up to four meaning periods can be selected
           =Each array element represents a meaning period length.
           =First period calculated in units of dump period (dumpfreqim). Each subsequent
           =period is calculated in units of previous period. See help for example.
fail-if=namelist:nlstcall=lclimrealyr==".true." and this(4)>0
       = # The 4th mean period input is not currently used with
       = # real climate years (i.e. Gregorian calendar)
help=For those using a climate meaning sequence:
    =The climate mean period lengths are best explained with an example.
    =1.  For 360-day calendar
    =
    =a)  Dumping every day,
    =If climate means at 10,
    =30 and 90 days are required:
    =Set number of climate mean periods to 3,
    =and the period length
    =to be 10,3 and 3 (10x1day,
    =3x10days and 3x30days).
    =
    =b)  Dumping every 10 days,
    =If climate means at 30 and 90 days,
    =and also annual and decadal
    =required:
    =Set number of climate mean periods to 4,
    =and the period length
    =to be 3,3,4,10 (3x10 days,
    =3x30 days and 4x90 days and 10x360 days).
    =
    =Also note that diagnostic requests may need to be altered if the
    =dumping frequency is changed. Climate meaning a STASH daily mean only
    =makes sense with daily dumping; with 10-day dumping the first 9 daily
    =means in each dumping period would be ignored. Therefore it is advised
    =that meaning periods in STASH are specified in terms of dump periods.
    =
    =Up to four meaning periods can be selected. Note that all individual
    =STASH requests use the same four periods to calculate means. However,
    =selection in the STASH request's usage profile can allow a diagnostic
    =to be output only on some of the climate mean periods. For example,
    =you might require monthly, seasonal and annual means of some
    =diagnostics but only annual means of other diagnostics. See the help
    =for the Usage profile panel in STASH.
length=4
range=0:
sort-key=b3
type=integer

[namelist:nlstcgen=ppselectim]
compulsory=true
description=PP files required?
           =Use 1 or 0 to indicate if PP files required for each of the dump
           =meaning periods. The 4th value is not used if the Gregorian
           =calendar is in use.
fail-if=namelist:nlstcall=lclimrealyr==".true." and this(4)>0
       = # The 4th mean period input is not currently used with
       = # real climate years (i.e. Gregorian calendar)
help=PP field selectors
    =
    =The values for ppselectim work together with the values in meanfreqim.
    =To activate a meaning period,
    =the value of ppselectim corresponding to
    =to the mean period set in meanfreqim should be set to 1. If a value of
    =ppselectim is set to 0,
    =that particular mean will not be output,
    =but
    =the value in meanfreqim may still be be used for calculating other mean
    =periods.
    =
    =If the Gregorian calendar option is active,
    =then the mean periods are
    =fixed rather than user defined and meanfreqim is ignored. The 1st period
    =is monthly,
    =the 2nd seasonally and the 3rd annually. The 4th value is not
    =used. So if the user wants to output a seasonal and annual mean for
    =example,
    =the 1st value of ppselectim should 0 and the 2nd and 3rd values
    =should be set to 1.
    =
    =More information on mean calculation can be found in the UM documentation
    =page C05 "Control of Means Calculation".
length=4
sort-key=b4
trigger=namelist:nlstcgen=mean_1_filename_base: this(1) == 1;
       =namelist:nlstcgen=mean_2_filename_base: this(2) == 1;
       =namelist:nlstcgen=mean_3_filename_base: this(3) == 1;
       =namelist:nlstcgen=mean_4_filename_base: this(4) == 1;
       =namelist:nlstcgen=ppxm: any(this == 1);
values=0,1

[namelist:nlstcgen=ppxm]
compulsory=true
description=Packing profile for mean PP files
help=Packing profile for mean PP files. Each STASH item has 10 packing profiles defined. These are numbers that define the accuracy to which the field will be packed when written to PP files. Each of the ten profiles can be defined as the standard packing for a particular configuration. Using packing reduces the space requirement to about one third the unpacked size. The following packing profiles are currently defined:
    = 0 -> unpacked
    = 1 -> packed as required for operational output streams
    = 2 -> packed as required for standard climate output
    = 4 -> packed as required for stratosphere model output
    = 5 -> New standard climate packing
    = 6 -> Simple GRIB packing
sort-key=b5
value-titles='Unpacked','Operational','Standard Climate','Stratosphere',
            ='New Climate','Simple GRIB'
values=0,1,2,4,5,6

[namelist:nlstcgen=psum_filename_base]
compulsory=true
description=Base name for partial sum files
help=This appears as part of the automatically generated filenames for any
    =requested partial sum files - it will have an indicator of which meaning
    =period each file corresponds appended to it.  For example with a basename
    =of: "/path/to/psum_" possible output files produced would include:
    =
    =  1st Partial sum file for 1st period mean:
    =    "/path/to/psum_1a"
    =
    =  2nd Partial sum file for 1st period mean:
    =    "/path/to/psum_1b"
    =
    =  1st Partial sum file for 3rd period mean:
    =    "/path/to/psum_3a"
    =
    =  2nd Partial sum file for 4th period mean:
    =    "/path/to/psum_4b"
sort-key=b1a
type=character

[namelist:nlstcgen=secs_per_periodim]
compulsory=true
description=Number of seconds per period,typically 1 day (86400 sec).
fail-if=this % 86400 != 0 #Must be a whole number of days
help=Period must be a whole number of days. Seconds in one day are 86400.
ns=namelist/Top Level Model Control/Model Domain and Timestep
range=86400:1036800
type=integer

[namelist:nlstcgen=steps_per_periodim]
compulsory=true
description=Number of time steps per period
fail-if=namelist:nlstcgen=secs_per_periodim % this != 0;
       =# Number of seconds in period must be a multiple of the number of steps
help=Number of time steps must divide into one hour
ns=namelist/Top Level Model Control/Model Domain and Timestep
range=1:86400
type=integer

[namelist:planet_constants]
compulsory=true
ns=namelist/UM Science Settings/Planet Constants

[namelist:planet_constants=cp]
compulsory=true
description=Specific heat of dry planet air at constant pressure
range=0:
sort-key=23
type=real

[namelist:planet_constants=g]
compulsory=true
description=Mean acceleration due to gravity at the planet surface
range=0:
sort-key=09a
type=real

[namelist:planet_constants=i_eqt]
compulsory=true
description=Formulation of the equation of time in the astronomy
help=The equation of time relates to the difference between apparent and
    =mean solar time and can amount to 16 minutes in November for the Earth.
    =The formulation from Smart (Text-Book on Spherical Astronomy,
    =CUP,4th edition 1944,page 149,
    =equation 29) is sufficient for the Earth.
    =More complicated orbits may require the formulation from Mueller (Acta
    =Physica Polonica A 88 Supplement,
    =S-49,1995) which includes higher
    =order terms.
sort-key=01b
value-titles=Not included,Smart (1944),Mueller (1995)
values=0,1,2

[namelist:planet_constants=i_planet]
compulsory=true
description=Choose planet or user defined constants
help=Various planets have predefined parameters that can be chosen here.
    =Select "User defined" to set parameters individually.
sort-key=01a
trigger=namelist:planet_constants=l_planet_grey_surface: 0;
       =namelist:planet_constants=l_planet_aerosol: 0;
       =namelist:planet_constants=planet_radius: 0;
       =namelist:planet_constants=g: 0;
       =namelist:planet_constants=r: 0;
       =namelist:planet_constants=cp: 0;
       =namelist:planet_constants=pref: 0;
       =namelist:planet_constants=sclht: 0;
       =namelist:planet_constants=lapse: 0;
value-titles=User defined,Earth
values=0,3

[namelist:planet_constants=l_fix_solang]
compulsory=true
description=Fix the sun at a particular zenith and azimuth angle
help=Fix the sun at solar_zenith_angle and solar_azimuth_angle at all
    =points for idealised tests.
sort-key=06a
trigger=namelist:planet_constants=solar_zenith_angle: .true.;
       =namelist:planet_constants=solar_azimuth_angle: .true.;
type=logical

[namelist:planet_constants=l_planet_aerosol]
compulsory=true
description=Use a constant aerosol mixing ratio for idealised tests
sort-key=07a
trigger=namelist:planet_constants=planet_aerosol_mmr: .true.;
type=logical

[namelist:planet_constants=l_planet_g]
compulsory=true
description=Use variation of g with height
help=Use the acceleration due to gravity on model levels when
    =calculating layer masses for radiative heating.
sort-key=09b
type=logical

[namelist:planet_constants=l_planet_grey_surface]
compulsory=true
description=Treat surface as grey
help=Grey surface with constant temperature or net flux,
    =albedo and emissivity.
sort-key=04a
trigger=namelist:planet_constants=planet_t_surface: .true.;
       =namelist:planet_constants=l_planet_intrinsic_flux: .true.;
       =namelist:planet_constants=planet_t_intrinsic: .true.;
type=logical

[namelist:planet_constants=l_planet_intrinsic_flux]
compulsory=true
description=Use an intrinsic thermal flux at the lower boundary.
help=The net upwards LW flux at the lower boundary is kept constant at a
    =value equal to (Stefan-Boltzmann constant)*planet_t_intrinsic^4
    =by adjusting for the downwards LW flux from the previous timestep.
sort-key=05a
trigger=namelist:planet_constants=planet_t_intrinsic: .true.
type=logical

[namelist:planet_constants=l_planet_orbit]
compulsory=true
description=Set orbital parameters
help=Set orbital parameters if .true.
    =If .false. the original parameters for the Earth's orbit
    =are used.
sort-key=02a
trigger=namelist:planet_constants=planet_epoch: .true.;
       =namelist:planet_constants=planet_e: .true.;
       =namelist:planet_constants=planet_de: .true.;
       =namelist:planet_constants=planet_lph: .true.;
       =namelist:planet_constants=planet_dlph: .true.;
       =namelist:planet_constants=planet_oblq: .true.;
       =namelist:planet_constants=planet_doblq: .true.;
       =namelist:planet_constants=planet_a: .true.;
       =namelist:planet_constants=planet_da: .true.;
       =namelist:planet_constants=planet_m: .true.;
       =namelist:planet_constants=planet_dm: .true.;
       =namelist:planet_constants=planet_ha: .true.;
       =namelist:planet_constants=planet_dha: .true.;
type=logical

[namelist:planet_constants=l_set_planet_rotation]
compulsory=true
description=Set planet rotation rate (radians/second)
help=Set planet rotation rate if .true.
    =If .false. the default value for the planet is used
    =(zero for a user defined planet).
sort-key=03
trigger=namelist:planet_constants=omega: .true.;
type=logical

[namelist:planet_constants=lapse]
compulsory=true
description=Near surface environmental lapse rate
sort-key=26
type=real

[namelist:planet_constants=omega]
compulsory=true
description=Angular speed of planet rotation (radians/second)
range=0:
sort-key=03a
type=real

[namelist:planet_constants=planet_a]
compulsory=true
description=Semi-major axis in AU
range=0:
sort-key=02i
type=real

[namelist:planet_constants=planet_aerosol_mmr]
compulsory=true
description=Constant aerosol mixing ratio (kg/kg)
help=This mixing ratio will be used for all aerosols present in the
    =spectral file.
range=0:
sort-key=07b
type=real

[namelist:planet_constants=planet_da]
compulsory=true
description=Increment to semi-major axis per day number from epoch
sort-key=02j
type=real

[namelist:planet_constants=planet_de]
compulsory=true
description=Increment to eccentricity per day number from epoch
sort-key=02d
type=real

[namelist:planet_constants=planet_dha]
compulsory=true
description=Increment to planet hour angle per day number from epoch
sort-key=02n
type=real

[namelist:planet_constants=planet_dlph]
compulsory=true
description=Increment to longitude of perihelion per day number from epoch
sort-key=02f
type=real

[namelist:planet_constants=planet_dm]
compulsory=true
description=Increment to mean anomaly per day number from epoch
sort-key=02l
type=real

[namelist:planet_constants=planet_doblq]
compulsory=true
description=Increment to obliquity of the orbit per day number from epoch
sort-key=02h
type=real

[namelist:planet_constants=planet_e]
compulsory=true
description=Eccentricity of the orbit
range=0:
sort-key=02c
type=real

[namelist:planet_constants=planet_epoch]
compulsory=true
description=Epoch in Julian Days for orbital parameters
sort-key=02b
type=real

[namelist:planet_constants=planet_ha]
compulsory=true
description=Planet hour angle at epoch in radians
sort-key=02m
type=real

[namelist:planet_constants=planet_lph]
compulsory=true
description=Longitude of perihelion in radians
range=0:
sort-key=02e
type=real

[namelist:planet_constants=planet_m]
compulsory=true
description=Mean anomaly at epoch in radians
range=0:
sort-key=02k
type=real

[namelist:planet_constants=planet_oblq]
compulsory=true
description=Obliquity of the orbit in radians
sort-key=02g
type=real

[namelist:planet_constants=planet_radius]
compulsory=true
description=Planet radius in metres
range=0:
sort-key=08
type=real

[namelist:planet_constants=planet_t_intrinsic]
compulsory=true
description=Intrinsic planet temperature
help=Intrinsic planet temperature used to set the thermal flux at the
    =lower boundary if l_planet_intrinsic_flux is .true.
range=0:
sort-key=05b
type=real

[namelist:planet_constants=planet_t_surface]
compulsory=true
description=Temperature of grey surface
help=Set a constant temperature for the planet surface in Kelvin.
    =If l_planet_intrinsic_flux is also set this will be used as
    =the initial surface temperature.
range=0:
sort-key=04b
type=real

[namelist:planet_constants=pref]
compulsory=true
description=Reference surface pressure
range=0:
sort-key=24
type=real

[namelist:planet_constants=r]
compulsory=true
description=Gas constant for dry air of planet
range=0:
sort-key=22
type=real

[namelist:planet_constants=sc]
compulsory=true
description=Solar irradiance at 1 astronomical unit (W/m2)
help=Mean total solar radition flux at Earth's mean orbital distance.
    =Recent estimates for the Sun show this to be about 1361W/m2
    =(Kopp and Lean, 2011).
range=0:
sort-key=11
type=real

[namelist:planet_constants=sclht]
compulsory=true
description=Mean scale height for pressure
range=0:
sort-key=25
type=real

[namelist:planet_constants=solar_azimuth_angle]
compulsory=true
description=Fixed solar azimuth angle in radians
help=Fixed solar azimuth angle measured clockwise from grid north (radians)
range=0:
sort-key=06b
type=real

[namelist:planet_constants=solar_zenith_angle]
compulsory=true
description=Fixed solar zenith angle in radians
range=0:
sort-key=06b
type=real

[namelist:prnt_control]
compulsory=true
ns=namelist/IO System Settings/Print Manager Control

[namelist:prnt_control=prnt_force_flush]
compulsory=true
description=True => Output will be immediately flushed
help=Some fortran implementatiosn and operating systems may buffer output
    =for performance reasons. Enabling this requests output is flushed
    =immediately,
    =improving chances of having meaningful output in case
    =of a failure.
type=logical

[namelist:prnt_control=prnt_paper_width]
compulsory=true
description=Specifies the number of columns to use for output
help=This value will be used to break lines to a certain length if selected
    =and to report overly long output lines
type=integer

[namelist:prnt_control=prnt_split_lines]
compulsory=true
description=True => Overly long lines will be broken up
help=The prnt_paper_width option specifies the maximum line length
type=logical

[namelist:prnt_control=prnt_src_pref]
compulsory=true
description=True => Prefix output with the originating source files name
help=Output will be prefixed with the name passed to the message handler
    = as the src argument.
type=logical

[namelist:prnt_control=prnt_writers]
compulsory=true
description=Selects which tasks in a parallel job write output.
help=
value-titles=All tasks write output,
            =Only the first task (rank 0) writes output,
            =Only the first task (rank 0) and all head IO servers write output
values=1,2,3

[namelist:r2lwclnl]
compulsory=true
ns=namelist/UM Science Settings/section01/lw/r2lwclnl

[namelist:r2lwclnl=i_cnv_ice_lw]
compulsory=true
description=Type number for ice crystals in convective clouds
help=See i_st_water_lw
range=1:99
sort-key=08

[namelist:r2lwclnl=i_cnv_ice_lw2]
compulsory=true
description=Type number for ice crystals in convective clouds
help=See i_st_water_lw2
ns=namelist/UM Science Settings/section01/lw/r2lwclnl_2
range=1:99
sort-key=08

[namelist:r2lwclnl=i_cnv_water_lw]
compulsory=true
description=Type number for water droplet in convective clouds
help=See i_st_water_lw
range=1:99
sort-key=06

[namelist:r2lwclnl=i_cnv_water_lw2]
compulsory=true
description=Type number for water droplet in convective clouds
help=See i_st_water_lw2
ns=namelist/UM Science Settings/section01/lw/r2lwclnl_2
range=1:99
sort-key=06

[namelist:r2lwclnl=i_gas_overlap_lw]
compulsory=true
description=Treatment of overlapping gaseous absorption
help="Random Overlap" is the most accurate but is very expensive.
    =The approximate method of "Equivalent Extinction" is available.
    =As a modification to the method of Equivalent Extinction for the LW,
    =it is possible to use the modulus of the fluxes to weight the minor
    =gas k-terms. This may reduce the bias associated with this method.
    =A further correction is required where the scaling is different for
    =each k-term in the spectral file. Option 4 is recommended.
sort-key=02
value-titles=Random Overlap,Equivalent Extinction (corrected scaling),
            =Equivalent Extinction (original),
            =Equivalent Extinction (modulus of fluxes)
values=2,4,5,6

[namelist:r2lwclnl=i_gas_overlap_lw2]
compulsory=true
description=Treatment of overlapping gaseous absorption
help="Random Overlap" is the most accurate but is very expensive.
    =The approximate method of "Equivalent Extinction" is available.
    =As a modification to the method of Equivalent Extinction for the LW,
    =it is possible to use the modulus of the fluxes to weight the minor
    =gas k-terms. This may reduce the bias associated with this method.
    =A further correction is required where the scaling is different for
    =each k-term in the spectral file. Option 4 is recommended.
ns=namelist/UM Science Settings/section01/lw/r2lwclnl_2
sort-key=02
value-titles=Random Overlap,Equivalent Extinction (corrected scaling),
            =Equivalent Extinction (original),
            =Equivalent Extinction (modulus of fluxes)
values=2,4,5,6

[namelist:r2lwclnl=i_scatter_method_lw]
compulsory=true
description=Treatment of scattering for optical properties
help=Treatment of scattering for optical properties.
    =Approximate and hybrid methods are faster but less accurate.
    =The hybrid method uses a different treatment of scattering for each
    =k-term and requires the methods to be set in the spectral file.
sort-key=04
value-titles=Full,None,Approximate,Hybrid
values=1,2,4,5

[namelist:r2lwclnl=i_scatter_method_lw2]
compulsory=true
description=Treatment of scattering for optical properties
help=Treatment of scattering for optical properties
    =Approximate and hybrid methods are faster but less accurate.
    =The hybrid method uses a different treatment of scattering for each
    =k-term and requires the methods to be set in the spectral file.
ns=namelist/UM Science Settings/section01/lw/r2lwclnl_2
sort-key=04
value-titles=Full,None,Approximate,Hybrid
values=1,2,4,5

[namelist:r2lwclnl=i_st_ice_lw]
compulsory=true
description=Type number for ice crystals in stratiform clouds
help=See i_st_water_lw
range=1:99
sort-key=07

[namelist:r2lwclnl=i_st_ice_lw2]
compulsory=true
description=Type number for ice crystals in stratiform clouds
help=See i_st_water_lw2
ns=namelist/UM Science Settings/section01/lw/r2lwclnl_2
range=1:99
sort-key=07

[namelist:r2lwclnl=i_st_water_lw]
compulsory=true
description=Type number for water droplet in stratiform clouds
help=Cloud in the model is divided into convective and layer cloud. The
    =spectral file may contain data for a number of different populations
    =of droplets or ice crystals,
    =described as types. Appropriate types
    =must be selected for all components within a cloud. Information on
    =which types are available in the standard files may be found in the
    =supporting documentation. For the GA3 spectral files (used for Global
    =Atmosphere configurations 3-6) we recommend type 5 droplets (Pade
    =fits with thick averaging) and type 8 crystals (ice aggregates with
    =thin averaging).
range=1:99
sort-key=05

[namelist:r2lwclnl=i_st_water_lw2]
compulsory=true
description=Type number for water droplet in stratiform clouds
help=Cloud in the model is divided into convective and layer cloud. The
    =spectral file may contain data for a number of different populations
    =of droplets or ice crystals,
    =described as types. Appropriate types
    =must be selected for all components within a cloud. Information on
    =which types are available in the standard files may be found in the
    =supporting documentation. For the GA3 spectral files (used for Global
    =Atmosphere configurations 3-6) we recommend type 5 droplets (Pade
    =fits with thick averaging) and type 8 crystals (ice aggregates with
    =thin averaging).
ns=namelist/UM Science Settings/section01/lw/r2lwclnl_2
range=1:99
sort-key=05

[namelist:r2lwclnl=l_cfc113_lw]
compulsory=true
description=Include absorption by CFC-113
help=See l_ch4_lw
sort-key=14
type=logical

[namelist:r2lwclnl=l_cfc113_lw2]
compulsory=true
description=Include absorption by CFC-113
help=See l_ch4_lw2
ns=namelist/UM Science Settings/section01/lw/r2lwclnl_2
sort-key=14
type=logical

[namelist:r2lwclnl=l_cfc114_lw]
compulsory=true
description=Include absorption by CFC-114
help=See l_ch4_lw
sort-key=15
type=logical

[namelist:r2lwclnl=l_cfc114_lw2]
compulsory=true
description=Include absorption by CFC-114
help=See l_ch4_lw2
ns=namelist/UM Science Settings/section01/lw/r2lwclnl_2
sort-key=15
type=logical

[namelist:r2lwclnl=l_cfc11_lw]
compulsory=true
description=Include absorption by CFC-11
help=See l_ch4_lw
sort-key=12
type=logical

[namelist:r2lwclnl=l_cfc11_lw2]
compulsory=true
description=Include absorption by CFC-11
help=See l_ch4_lw2
ns=namelist/UM Science Settings/section01/lw/r2lwclnl_2
sort-key=12
type=logical

[namelist:r2lwclnl=l_cfc12_lw]
compulsory=true
description=Include absorption by CFC-12
help=See l_ch4_lw
sort-key=13
type=logical

[namelist:r2lwclnl=l_cfc12_lw2]
compulsory=true
description=Include absorption by CFC-12
help=See l_ch4_lw2
ns=namelist/UM Science Settings/section01/lw/r2lwclnl_2
sort-key=13
type=logical

[namelist:r2lwclnl=l_ch4_lw]
compulsory=true
description=Include absorption by methane (CH4)
help=Absorption by a number of trace gases may be included in the calculation,
    =provided that appropriate spectral data are contained in the spectral
    =file,
    =and that mass mixing ratios are available (either specified as fixed
    =or time-varying values).
sort-key=11
type=logical

[namelist:r2lwclnl=l_ch4_lw2]
compulsory=true
description=Include absorption by methane (CH4)
help=Absorption by a number of trace gases may be included in the calculation,
    =provided that appropriate spectral data are contained in the spectral
    =file,
    =and that mass mixing ratios are available (either specified as fixed
    =or time-varying values).
ns=namelist/UM Science Settings/section01/lw/r2lwclnl_2
sort-key=11
type=logical

[namelist:r2lwclnl=l_co2_lw]
compulsory=true
description=Include absorption by carbon dioxide (CO2)
type=logical

[namelist:r2lwclnl=l_co2_lw2]
compulsory=true
description=Include absorption by carbon dioxide (CO2)
ns=namelist/UM Science Settings/section01/lw/r2lwclnl_2
type=logical

[namelist:r2lwclnl=l_co_lw]
compulsory=true
description=Include absorption by carbon monoxide (CO)
type=logical

[namelist:r2lwclnl=l_co_lw2]
compulsory=true
description=Include absorption by carbon monoxide (CO)
ns=namelist/UM Science Settings/section01/lw/r2lwclnl_2
type=logical

[namelist:r2lwclnl=l_extra_top_lw]
compulsory=true
description=Include extra top level in radiation
help=An extra top layer is added in the radiation taking into account
    =radiation absorbed/emitted above the dynamical domain. Temperatures
    =in the extra layer are calculated by linear extrapolation in log
    =pressure.
ns=namelist/UM Science Settings/section01/lw/r2lwclnl
sort-key=08
type=logical

[namelist:r2lwclnl=l_extra_top_lw2]
compulsory=true
description=Include extra top level in radiation for second call
help=An extra top layer is added in the second call to radiation taking
    =into account radiation absorbed/emitted above the dynamical domain.
    =Temperatures in the extra layer are calculated by linear extrapolation
    =in log pressure.
ns=namelist/UM Science Settings/section01/lw/r2lwclnl_2
sort-key=08
type=logical

[namelist:r2lwclnl=l_h2_lw]
compulsory=true
description=Include H2-H2 collision induced absorption
type=logical

[namelist:r2lwclnl=l_h2_lw2]
compulsory=true
description=Include H2-H2 collision induced absorption
ns=namelist/UM Science Settings/section01/lw/r2lwclnl_2
type=logical

[namelist:r2lwclnl=l_hcfc22_lw]
compulsory=true
description=Include absorption by HCFC-22
help=See l_ch4_lw
sort-key=16
type=logical

[namelist:r2lwclnl=l_hcfc22_lw2]
compulsory=true
description=Include absorption by HCFC-22
help=See l_ch4_lw2
ns=namelist/UM Science Settings/section01/lw/r2lwclnl_2
sort-key=16
type=logical

[namelist:r2lwclnl=l_he_lw]
compulsory=true
description=Include H2-He collision induced absorption
type=logical

[namelist:r2lwclnl=l_he_lw2]
compulsory=true
description=Include H2-He collision induced absorption
ns=namelist/UM Science Settings/section01/lw/r2lwclnl_2
type=logical

[namelist:r2lwclnl=l_hfc125_lw]
compulsory=true
description=Include absorption by HFC-125
help=See l_ch4_lw
sort-key=17
type=logical

[namelist:r2lwclnl=l_hfc125_lw2]
compulsory=true
description=Include absorption by HFC-125
help=See l_ch4_lw2
ns=namelist/UM Science Settings/section01/lw/r2lwclnl_2
sort-key=17
type=logical

[namelist:r2lwclnl=l_hfc134a_lw]
compulsory=true
description=Include absorption by HFC-134a
help=See l_ch4_lw
sort-key=18
type=logical

[namelist:r2lwclnl=l_hfc134a_lw2]
compulsory=true
description=Include absorption by HFC-134a
help=See l_ch4_lw2
ns=namelist/UM Science Settings/section01/lw/r2lwclnl_2
sort-key=18
type=logical

[namelist:r2lwclnl=l_k_lw]
compulsory=true
description=Include absorption by potassium (K)
type=logical

[namelist:r2lwclnl=l_k_lw2]
compulsory=true
description=Include absorption by potassium (K)
ns=namelist/UM Science Settings/section01/lw/r2lwclnl_2
type=logical

[namelist:r2lwclnl=l_microphysics_lw]
compulsory=true
description=Use microphysics in long wave radiation
help=Selecting cloud microphysics invokes code to relate the effective radius
    =of cloud droplets to the liquid water content and the concentration of
    =cloud condensation nuclei.
    =The microphysical parameterization is of more importance in the
    =shortwave,
    =but it has been made available in the longwave to enable
    =consistency in the treatment of clouds in both spectral regions to be
    =maintained.
sort-key=03
type=logical

[namelist:r2lwclnl=l_microphysics_lw2]
compulsory=true
description=Use microphysics in long wave radiation
help=Selecting cloud microphysics invokes code to relate the effective radius
    =of cloud droplets to the liquid water content and the concentration of
    =cloud condensation nuclei.
    =The microphysical parameterization is of more importance in the
    =shortwave,
    =but it has been made available in the longwave to enable
    =consistency in the treatment of clouds in both spectral regions to be
    =maintained.
ns=namelist/UM Science Settings/section01/lw/r2lwclnl_2
sort-key=03
type=logical

[namelist:r2lwclnl=l_n2o_lw]
compulsory=true
description=Include absorption by N2O
help=Absorption by a number of trace gases may be included in the calculation,
    =provided that appropriate spectral data are contained in the spectral
    =file,
    =and that mass mixing ratios are available (either specified as fixed
    =or time-varying values).
sort-key=10
type=logical

[namelist:r2lwclnl=l_n2o_lw2]
compulsory=true
description=Include absorption by N2O.
help=Absorption by a number of trace gases may be included in the calculation,
    =provided that appropriate spectral data are contained in the spectral
    =file,
    =and that mass mixing ratios are available (either specified as fixed
    =or time-varying values).
ns=namelist/UM Science Settings/section01/lw/r2lwclnl_2
sort-key=10
type=logical

[namelist:r2lwclnl=l_na_lw]
compulsory=true
description=Include absorption by sodium (Na)
type=logical

[namelist:r2lwclnl=l_na_lw2]
compulsory=true
description=Include absorption by sodium (Na)
ns=namelist/UM Science Settings/section01/lw/r2lwclnl_2
type=logical

[namelist:r2lwclnl=l_nh3_lw]
compulsory=true
description=Include absorption by ammonia (NH3)
type=logical

[namelist:r2lwclnl=l_nh3_lw2]
compulsory=true
description=Include absorption by ammonia (NH3)
ns=namelist/UM Science Settings/section01/lw/r2lwclnl_2
type=logical

[namelist:r2lwclnl=l_solar_tail_flux]
compulsory=true
description=Include tail of solar flux in LW
help=The infra-red tail of the solar flux extends into the LW region
    =of the spectrum and may be treated as incoming diffuse LW radiation.
    =This is only possible with certain spectral files (the SES2 spectral
    =files with names beginning "ses"). For other spectral files this
    =flux is generally included with the SW direct flux.
type=logical

[namelist:r2lwclnl=l_solar_tail_flux_2]
compulsory=true
description=Include tail of solar flux in LW
help=The infra-red tail of the solar flux extends into the LW region
    =of the spectrum and may be treated as incoming diffuse LW radiation.
    =This is only possible with certain spectral files (the SES2 spectral
    =files with names beginning "ses"). For other spectral files this
    =flux is generally included with the SW direct flux.
ns=namelist/UM Science Settings/section01/lw/r2lwclnl_2
type=logical

[namelist:r2lwclnl=l_tio_lw]
compulsory=true
description=Include absorption by titanium oxide (TiO)
type=logical

[namelist:r2lwclnl=l_tio_lw2]
compulsory=true
description=Include absorption by titanium oxide (TiO)
ns=namelist/UM Science Settings/section01/lw/r2lwclnl_2
type=logical

[namelist:r2lwclnl=l_vo_lw]
compulsory=true
description=Include absorption by vanadium oxide (VO)
type=logical

[namelist:r2lwclnl=l_vo_lw2]
compulsory=true
description=Include absorption by vanadium oxide (VO)
ns=namelist/UM Science Settings/section01/lw/r2lwclnl_2
type=logical

[namelist:r2lwclnl=spectral_file_lw]
compulsory=true
description=Long wave spectral file
help=Long wave spectral file.
    =If a relative path is given the base directory must be specified in
    =the environment variable SPECTRAL_FILE_DIR.
sort-key=01
type=character

[namelist:r2lwclnl=spectral_file_lw2]
compulsory=true
description=Long wave spectral file for second call
help=Long wave spectral file for second call.
    =If a relative path is given the base directory must be specified in
    =the environment variable SPECTRAL_FILE_DIR.
ns=namelist/UM Science Settings/section01/lw/r2lwclnl_2
sort-key=01
type=character

[namelist:r2swclnl]
compulsory=true
ns=namelist/UM Science Settings/section01/sw/r2swclnl

[namelist:r2swclnl=i_cnv_ice_sw]
compulsory=true
description=Type number for ice crystals in convective clouds
help=See i_st_water_sw.
range=1:99
sort-key=07

[namelist:r2swclnl=i_cnv_ice_sw2]
compulsory=true
description=Type number for ice crystals in convective clouds
help=See i_st_water_sw2.
ns=namelist/UM Science Settings/section01/sw/r2swclnl_2
range=1:99
sort-key=07

[namelist:r2swclnl=i_cnv_water_sw]
compulsory=true
description=Type number for water droplet in convective clouds
help=See i_st_water_sw.
range=1:99
sort-key=05

[namelist:r2swclnl=i_cnv_water_sw2]
compulsory=true
description=Type number for water droplet in convective clouds
help=See i_st_water_sw2.
ns=namelist/UM Science Settings/section01/sw/r2swclnl_2
range=1:99
sort-key=05

[namelist:r2swclnl=i_gas_overlap_sw]
compulsory=true
description=Treatment of overlapping gaseous absorption
help="Random Overlap" is the most accurate but is very expensive.
    = The approximate method of "Equivalent Extinction" is available.
    = A correction to this method is required where the scaling is
    = different for each k-term in the spectral file. Option 4 is
    = recommended.
sort-key=02
value-titles=Random Overlap,Equivalent Extinction (corrected scaling),
            =Equivalent Extinction (original)
values=2,4,5

[namelist:r2swclnl=i_gas_overlap_sw2]
compulsory=true
description=Treatment of overlapping gaseous absorption
help="Random Overlap" is the most accurate but is very expensive.
    = The approximate method of "Equivalent Extinction" is available.
    = A correction to this method is required where the scaling is
    = different for each k-term in the spectral file. Option 4 is
    = recommended.
ns=namelist/UM Science Settings/section01/sw/r2swclnl_2
sort-key=02
value-titles=Random Overlap,Equivalent Extinction (corrected scaling),
            =Equivalent Extinction (original)
values=2,4,5

[namelist:r2swclnl=i_st_ice_sw]
compulsory=true
description=Type number for ice crystals in stratiform clouds
help=See i_st_water_sw.
range=1:99
sort-key=06

[namelist:r2swclnl=i_st_ice_sw2]
compulsory=true
description=Type number for ice crystals in stratiform clouds
help=See i_st_water_sw2.
ns=namelist/UM Science Settings/section01/sw/r2swclnl_2
range=1:99
sort-key=06

[namelist:r2swclnl=i_st_water_sw]
compulsory=true
description=Type number for water droplet in stratiform clouds
help=Cloud in the model is divided into convective and layer cloud. The
    =spectral file may contain data for a number of different populations
    =of droplets or ice crystals,
    =described as types. Appropriate types
    =must be selected for all components within a cloud. Information on
    =which types are available in the standard files may be found in the
    =supporting documentation. For the GA3 spectral files (used for Global
    =Atmosphere configurations 3-6) we recommend type 5 droplets (Pade
    =fits with thick averaging) and type 8 crystals (ice aggregates with
    =thin averaging).
range=1:99
sort-key=04

[namelist:r2swclnl=i_st_water_sw2]
compulsory=true
description=Type number for water droplet in stratiform clouds
help=Cloud in the model is divided into convective and layer cloud. The
    =spectral file may contain data for a number of different populations
    =of droplets or ice crystals,
    =described as types. Appropriate types
    =must be selected for all components within a cloud. Information on
    =which types are available in the standard files may be found in the
    =supporting documentation. For the GA3 spectral files (used for Global
    =Atmosphere configurations 3-6) we recommend type 5 droplets (Pade
    =fits with thick averaging) and type 8 crystals (ice aggregates with
    =thin averaging).
ns=namelist/UM Science Settings/section01/sw/r2swclnl_2
range=1:99
sort-key=04

[namelist:r2swclnl=l_ch4_sw]
compulsory=true
description=Include absorption by methane (CH4)
help=Absorption by a number of trace gases may be included in the calculation,
    =provided that appropriate spectral data are contained in the spectral
    =file,
    =and that mass mixing ratios are available (either specified as fixed
    =or time-varying values).
sort-key=11
type=logical

[namelist:r2swclnl=l_ch4_sw2]
compulsory=true
description=Include absorption by methane (CH4)
help=Absorption by a number of trace gases may be included in the calculation,
    =provided that appropriate spectral data are contained in the spectral
    =file,
    =and that mass mixing ratios are available (either specified as fixed
    =or time-varying values).
ns=namelist/UM Science Settings/section01/sw/r2swclnl_2
sort-key=11
type=logical

[namelist:r2swclnl=l_co2_sw]
compulsory=true
description=Include absorption by carbon dioxide (CO2)
type=logical

[namelist:r2swclnl=l_co2_sw2]
compulsory=true
description=Include absorption by carbon dioxide (CO2)
ns=namelist/UM Science Settings/section01/sw/r2swclnl_2
type=logical

[namelist:r2swclnl=l_co_sw]
compulsory=true
description=Include absorption by carbon monoxide (CO)
type=logical

[namelist:r2swclnl=l_co_sw2]
compulsory=true
description=Include absorption by carbon monoxide (CO)
ns=namelist/UM Science Settings/section01/sw/r2swclnl_2
type=logical

[namelist:r2swclnl=l_extra_top_sw]
compulsory=true
description=Include extra top level in radiation
help=An extra top layer is added in the radiation taking into account
    =radiation absorbed/emitted above the dynamical domain. Temperatures
    =in the extra layer are calculated by linear extrapolation in log
    =pressure.
ns=namelist/UM Science Settings/section01/sw/r2swclnl
sort-key=07
type=logical

[namelist:r2swclnl=l_extra_top_sw2]
compulsory=true
description=Include extra top level in radiation for second call
help=An extra top layer is added in the second call to radiation taking
    =into account radiation absorbed/emitted above the dynamical domain.
    =Temperatures in the extra layer are calculated by linear extrapolation
    =in log pressure.
ns=namelist/UM Science Settings/section01/sw/r2swclnl_2
sort-key=07
type=logical

[namelist:r2swclnl=l_h2_sw]
compulsory=true
description=Include H2-H2 collision induced absorption
type=logical

[namelist:r2swclnl=l_h2_sw2]
compulsory=true
description=Include H2-H2 collision induced absorption
ns=namelist/UM Science Settings/section01/sw/r2swclnl_2
type=logical

[namelist:r2swclnl=l_he_sw]
compulsory=true
description=Include H2-He collision induced absorption
type=logical

[namelist:r2swclnl=l_he_sw2]
compulsory=true
description=Include H2-He collision induced absorption
ns=namelist/UM Science Settings/section01/sw/r2swclnl_2
type=logical

[namelist:r2swclnl=l_k_sw]
compulsory=true
description=Include absorption by potassium (K)
type=logical

[namelist:r2swclnl=l_k_sw2]
compulsory=true
description=Include absorption by potassium (K)
ns=namelist/UM Science Settings/section01/sw/r2swclnl_2
type=logical

[namelist:r2swclnl=l_n2o_sw]
compulsory=true
description=Include absorption by nitrous oxide (N2O)
help=Absorption by a number of trace gases may be included in the calculation,
    =provided that appropriate spectral data are contained in the spectral
    =file,
    =and that mass mixing ratios are available (either specified as fixed
    =or time-varying values).
sort-key=10
type=logical

[namelist:r2swclnl=l_n2o_sw2]
compulsory=true
description=Include absorption by nitrous oxide (N2O)
help=Absorption by a number of trace gases may be included in the calculation,
    =provided that appropriate spectral data are contained in the spectral
    =file,
    =and that mass mixing ratios are available (either specified as fixed
    =or time-varying values).
ns=namelist/UM Science Settings/section01/sw/r2swclnl_2
sort-key=10
type=logical

[namelist:r2swclnl=l_na_sw]
compulsory=true
description=Include absorption by sodium (Na)
type=logical

[namelist:r2swclnl=l_na_sw2]
compulsory=true
description=Include absorption by sodium (Na)
ns=namelist/UM Science Settings/section01/sw/r2swclnl_2
type=logical

[namelist:r2swclnl=l_nh3_sw]
compulsory=true
description=Include absorption by ammonia (NH3)
type=logical

[namelist:r2swclnl=l_nh3_sw2]
compulsory=true
description=Include absorption by ammonia (NH3)
ns=namelist/UM Science Settings/section01/sw/r2swclnl_2
type=logical

[namelist:r2swclnl=l_o2_sw]
compulsory=true
description=Include absorption by oxygen
help=Absorption by O2 may be included if it is present in the spectral file and
    =a mass mixing ratio has been specified.
sort-key=12
type=logical

[namelist:r2swclnl=l_o2_sw2]
compulsory=true
description=Include absorption by oxygen
help=Absorption by O2 may be included if it is present in the spectral file and
    =a mass mixing ratio has been specified.
ns=namelist/UM Science Settings/section01/sw/r2swclnl_2
sort-key=12
type=logical

[namelist:r2swclnl=l_tio_sw]
compulsory=true
description=Include absorption by titanium oxide (TiO)
type=logical

[namelist:r2swclnl=l_tio_sw2]
compulsory=true
description=Include absorption by titanium oxide (TiO)
ns=namelist/UM Science Settings/section01/sw/r2swclnl_2
type=logical

[namelist:r2swclnl=l_vo_sw]
compulsory=true
description=Include absorption by vanadium oxide (VO)
type=logical

[namelist:r2swclnl=l_vo_sw2]
compulsory=true
description=Include absorption by vanadium oxide (VO)
ns=namelist/UM Science Settings/section01/sw/r2swclnl_2
type=logical

[namelist:r2swclnl=spectral_file_sw]
compulsory=true
description=Short wave spectral file
help=Short wave spectral file.
    =If a relative path is given the base directory must be specified in
    =the environment variable SPECTRAL_FILE_DIR.
sort-key=01
type=character

[namelist:r2swclnl=spectral_file_sw2]
compulsory=true
description=Short wave spectral file for second call.
help=Short wave spectral file for second call
    =If a relative path is given the base directory must be specified in
    =the environment variable SPECTRAL_FILE_DIR.
ns=namelist/UM Science Settings/section01/sw/r2swclnl_2
sort-key=01
type=character

[namelist:radfcdia]
compulsory=true
ns=namelist/UM Science Settings/section01/radfcdia

[namelist:radfcdia=c2c_aerosol]
compulsory=true
description=Use aerosol SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_all]
compulsory=true
description=Use all SW/LW forcings
length=4
type=logical

[namelist:radfcdia=c2c_biog_d]
compulsory=true
description=Use biogenic SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_bmb_d]
compulsory=true
description=Use biomass SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_c113]
compulsory=true
description=Use C113 SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_cfc11]
compulsory=true
description=Use CFC11 SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_cfc12]
compulsory=true
description=Use CFC12 SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_ch4]
compulsory=true
description=Use CH4 SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_co2]
compulsory=true
description=Use CO2 SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_dust_d]
compulsory=true
description=Use dust SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_hcfc22]
compulsory=true
description=Use HCFC22 SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_hfc125]
compulsory=true
description=Use HFC125 SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_hfc134]
compulsory=true
description=Use HFC134 SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_land_s]
compulsory=true
description=Use land use SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_n2o]
compulsory=true
description=Use N2O SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_nitr_d]
compulsory=true
description=Use nitrate SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_o3]
compulsory=true
description=Use O3 SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_ocff_d]
compulsory=true
description=Use OCFF SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_seas_d]
compulsory=true
description=Use sea salt SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_soot_d]
compulsory=true
description=Use soot SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_sulpc_d]
compulsory=true
description=Use sulphur SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_ukca_d]
compulsory=true
description=Use UKCA SW/LW forcing
length=4
type=logical

[namelist:radfcdia=c2c_wmg]
compulsory=true
description=Use GHG SW/LW forcing
length=4
type=logical

[namelist:recon]
compulsory=true
ns=namelist/Reconfiguration and Ancillary Control/recon
sort-key=a1
title=General reconfiguration options

[namelist:recon=ainitial]
compulsory=true
description=Input dump location
help=Full path of the reconfiguration input dump.
sort-key=a0
type=character

[namelist:recon=coast_adj_method]
compulsory=true
description=Select which method is used to assign values to newly resolved
           =coastal points
help=1 => Use the standard method (equivalent to lspiral_s = .false. < vn10.2)
    =2 => Use the spiral method (equivalent to lspiral_s = .true. < vn10.2):
    =     Spiral coastal adjustment: attempts to set a value at points which are
    =     unresolved when interpolating between one grid and another. A value is
    =     set by finding the mean of surrounding points which do have data set
    =     within a search radius determined by NSEARCH.
    =3 => Use the spiral circle method (new method vn10.2+):
    =     Finds the closest resolved point distance in m,
    =with a constraint of
    =     200 km for newly resolved land in fields which are not land only (i.e.
    =     will assign the closest resolved sea point value if there is no
    =     resolved land point within 200km).
sort-key=c4
value-titles=Standard,Spiral,Circle
values=1,2,3

[namelist:recon=dump_pack]
compulsory=true
description=Select dump packing option
help=A note on dump packing
    =
    =The packing option allows you to specify if primary (prognostic and
    =ancillary) fields get packed to 32-bits or not.
    =
    =Dumps are comprised of two parts. The prognostic fields and  diagnostic
    =storage areas. The latter being used for holding partial result fields
    =(often partial-sums) for STASH time processed data.
    =
    =Using packed dumps can significantly improve the performance of a model.
    =IO time implies wasted CPU resources. Hence packing often improves the
    =both speed of a run and the total throughput of the machine.
    =
    =Separately,
    =for both prognostics and diagnostics,
    =the user can choose to
    =have the data unpacked,
    =or packed if so indicated by the STASHmaster
    =file. Most fields are marked as packable.
    =
    =It is possible to override the packing settings in the STASHmaster file
    =in a branch. Typically,
    =this would be to change a
    =setting to force a field to remain unpacked to gain extra precision or
    =number range.
    =
    =The down side of using packed fields:
    =
    =Packed prognostics can cause problems with restarting in
    =a bit comparable way when you are force to restart with an NRUN.
    =This is because ancillary fields do not get packed until the
    =first dump is written and the sequence is different in NRUNS
    =and CRUNS.
    =
    =Packed data is less accurate and has a smaller range of values.
    =Prognostic fields should be marked through the STASHmaster file
    =if they are unsuitable for packing. However,
    =diagnostic fields
    =will depend on the time processing in use and so the standard
    =marking may be inappropriate.
    =
    =Given that most people will be viewing data on workstations with
    =32-bit IEEE numbers,
    =this should not be a big problem,
    =but
    =remember that if you do means over long periods  (particularly
    =STASH means rather than climate means where intermediate means
    =are used),
    =the partial-sums will require more accuracy and
    =range than the final result. However,
    =long period STASH meaning
    =should be avoided as it is ill-conditioned.
    =
    =However,
    =the savings to be gained may be considerable.
sort-key=a2
value-titles=STASHmaster controlled packing for diagnostic and primary fields,
            =Unpacked primary fields - STASHmaster-packed diagnostics,
            =Unpacked primary and diagnostic fields
values=1,2,3

[namelist:recon=input_dump_type]
compulsory=true
description=Format of input dump
help=1 => Input dump is in standard UM format
    =2 => Input dump is in ECMWF GRIB format
    =3 => Input dump is an output file from the GRIB2FF program
sort-key=a1
value-titles=UM,GRIB,GRIB2FF
values=1,2,3

[namelist:recon=l_adj_t_soil]
compulsory=true
description=Adjust soil temperature to new orography
help=When reconfiguring to a higher resolution orography dataset,
    =the surface can move to a significantly different height
    = than that in the driving model. Simply moving the soil
    = temperature to this height can have nasty consequences,
    =e.g. very warm soil on a cold mountain top.
    =
    =Therefore,
    =if selected,
    =this option adjusts the soil temperature
    = to the new orography height,
    =based on a simple lapse-rate
    = warming/cooling.
sort-key=c6
type=logical

[namelist:recon=l_canopy_snow_throughfall]
compulsory=true
description=Perform canopy snow throughfall
sort-key=c5
type=logical

[namelist:recon=l_force_relayer]
compulsory=true
description=Force a relayering of the snowpack.
help=This option forces reconfiguration to relayer the snowpack. This may
    =be useful to tidy fields in conjunction with regularization of the
    =ice sheets,
    =but is required to force relayering of the vertical
    =resolution of the snowpack is altered without changing the number
    =of layers.
sort-key=c5a
type=logical

[namelist:recon=l_rcf_init_flexi]
compulsory=true
description=Use the reconfiguration to initialise all present land surface types in a general way
help=When the input dump and the land surface configuration are different
    =this switch can be used to initialise all the present land surface tiles
    =in a predefined way. Please see:
    =https://code.metoffice.gov.uk/trac/jules/wiki/FlexiTiles#Reconfiguration
    =for more information.
sort-key=e
type=logical

[namelist:recon=l_regularize_landice]
compulsory=true
description=Adjust the snow fields when changing between ice and ice-free points
help=When horizontal reconfiguration changes an ice point into an ice-free
    =point,
    =the snow loading may be reduced to a more realistic value as
    =set by snow_icefree_max. Conversely,
    =the minimum loading of an ice point
    =is increased to snow_landice_min.
sort-key=c5b
trigger=namelist:recon=snow_landice_min: .true.;
       =namelist:recon=snow_icefree_max: .true.;
type=logical

[namelist:recon=l_snow_tile_gbm_ancil_fix]
compulsory=true
description=Triggers snow on tiles to be initialised from gbm snow when it is read from an ancil in aggregate case
help=Prevents inconsistencies arising between gbm snow and snow on tiles
type=logical

[namelist:recon=l_trans]
compulsory=true
description=Define transplanting of data
help=The transplant facility allows users to copy data out of one dump and put
    =it into the dump at reconfiguration. The fields must be prognostic and the
    =dumps must be on the same domain. This facility is used for certain types
    =of problem investigation. Most users will never use this.
ns=namelist/Reconfiguration and Ancillary Control/Transplant Data
trigger=namelist:trans: .true.;
       =namelist:recon=transp: .true.;
type=logical

[namelist:recon=l_use_zero_frac_tile_temp]
compulsory=true
description=Use surface temperature from tiles with zero fraction
help=When reconfiguring to a different surface dataset,
    =surface
    = tile types can be introduced in locations where there was
    = previously no fraction of that tile type. The driving model
    = is likely to have uninitialised data in this field,
    =hence,if FALSE,
    =the grid-box mean temperature is assigned to tiles
    = that previously had zero fraction.
    =
    =However,
    =if the user is aware that the input dump has
    = sensible data in the zero fraction tiles,
    =for example if
    = namelist:jules_surface=all_tiles was on in the driving model,
    =selecting TRUE will allow this to be used.
sort-key=c7
type=logical

[namelist:recon=l_validity_lookup_u]
compulsory=true
description=Validity time for output dump lookup headers
           =is taken from input U field
help=If reconfiguring for VAR then need to make sure date and time is from an
    =instantaneous field (problem when time accumulated fields are at
    =the beginning) therefore will use U wind.  If the U wind is not present in
    =the input dump then the first field in the dump will be used.
sort-key=b1a
type=logical

[namelist:recon=polar_check]
compulsory=true
description=Check output dump for non-uniform polar rows
help=Checking for non-uniform polar data will cause the reconfiguration
    =to scan the polar rows of every ancillary file using the P grid. If
    =any polar row contains non-uniform data the job will be aborted and an
    =error message will identify the field responsible.
sort-key=c3
type=logical

[namelist:recon=q_min]
compulsory=true
description=Reset the specific humidity (or mixing ratio) to a minimum value.
help=Raises all sub minima values to the specified minimum.
range=0.0:1.0
sort-key=d1
type=real

[namelist:recon=reset_data_time]
compulsory=true
description=Reset data time to validity time
help=If you choose to reset the data time this will affect the
    =values of the records in the dump header. This is useful when you want
    =the start date of all dumps to relative to a starting dump produced from
    =an integration rather than an analysis.
sort-key=c1
type=logical

[namelist:recon=select_output_fields]
compulsory=true
description=Select how the reconfiguration decides which
           =fields to include in the output dump
help=Standard:
    =
    =The standard option allows the tstmsk routine to decided which
    =fields should be put into the output dump.  tstmsk cross references
    =the science schemes and options selected from the namelists
    =against the option codes and version masks for each field's
    =STASHmaster entry.  If a field tstmsk decides should be in the
    =output dump is not found in the input dump or provided with an
    =explicit source, via the items namelist or logic in rcf_set_data_source,
    =then the run will abort.
    =When producing a dump intended as a start dump to a UM atmosphere
    =run the standard option should always be selected.
    =
    =All fields (basic):
    =
    =The reconfiguration will attempt to interpolate all fields that it
    =finds in the input dump.  Pre and post interpolation processing of
    =the field data will NOT be performed, for example, setting certain
    =fields to a minimum value and vertical rebalancing of the atmosphere.
    =This option could be used for the interpolation of increment files
    =where the rebalancing of the atmosphere is not required.
    =
    =All fields (rebalance):
    =
    =The reconfiguration will attempt to interpolate all fields that it
    =finds in the input dump.  Pre and post interpolation processing of
    =the field data will be performed, for example, setting certain fields
    =to a minimum value and vertical rebalancing of the atmosphere. This
    =options can be used for the interpolation of fieldsfiles for VAR.
    =Some fields require orography for their pre/post processing. If these
    =fields are being processed the reconfiguration will abort should
    =orography not be present.
    =
    =When using either of the "all input fields" options the initialisation of
    =dump fields to zero/mdi or a specific value and configuring of
    =ancillaries is turned off, the "items" namelists will not be read in
    =and processed. These options should NOT be used for creation of a UM
    =atmosphere start dump.  This also turns off the filtering of exner when
    =moving between New Dynamics and ENDGame as it is not possible to guarantee
    =that the fields required to perform this action will be present in the
    =input dump.
sort-key=c2
value-titles=Standard - based on science setup and STASHmaster version,
            =All fields (basic) - interpolate all fields found in
            =dump with no pre/post processing,
            =All fields (rebalance) - interpolate all fields found in dump
            =and perform pre/post processing of fields
values=0,1,2

[namelist:recon=snow_icefree_max]
compulsory=true
description=Maximum snow loading of ice-free points (kgm-2).
help=Applied only when l_regularize_landice (qv.) is .T.
sort-key=c5b2
type=real

[namelist:recon=snow_landice_min]
compulsory=true
description=Minimum snow loading of land ice points (kgm-2).
help=Applied only when l_regularize_landice (qv.) is .T.
sort-key=c5b1
type=real

[namelist:recon=transp]
compulsory=true
description=Transplanted data input file
help=The full path to the file containing the data to be transplanted into
    =the start dump produced by the reconfiguration,
    =connected to unit 97.
ns=namelist/Reconfiguration and Ancillary Control/Transplant Data
sort-key=a2
type=character

[namelist:recon=use_smc_stress]
compulsory=true
description=Use soil moisture stress for interpolating soil moisture
sort-key=c2
type=logical

[namelist:recon=var_recon]
compulsory=true
description=Run the reconfiguration in the VAR suite
help=Running the reconfiguration in the VAR suite allows the reconfiguration
    =to pick up prognostics and diagnostics used by VAR.
sort-key=b1
type=logical

[namelist:recon=w_zero_end]
compulsory=true
description=Reset w-components of wind to zero - end level
help=Resetting w-components of wind to zero resets w-component of wind
    =(Stash Code 150) and advected w-component of wind (Stash Code 258) to
    =zero. Start and end level enables a range or all the levels of w-components
    =to be set to zero. Level 0 (surface) and top model level are always set
    =to zero. Set both w_zero_start and w_zero_end to -1 to disable resetting
    =of wind to zero.
range=-1:999
sort-key=d3
type=integer

[namelist:recon=w_zero_start]
compulsory=true
description=Reset w-components of wind to zero - start level
help=Resetting w-components of wind to zero resets w-component of wind
    =(Stash Code 150) and advected w-component of wind (Stash Code 258) to
    =zero. Start and end level enables a range or all the levels of w-components
    =to be set to zero. Level 0 (surface) and top model level are always set
    =to zero. Set both w_zero_start and w_zero_end to -1 to disable resetting
    =of wind to zero.
range=-1:999
sort-key=d2
type=integer

[namelist:run_aerosol]
compulsory=true
description=run_aerosol
ns=namelist/UM Science Settings/section17
title=Section 17 - Aerosol (Classic,dust and murk)

[namelist:run_aerosol=bmass_high_level_1]
description=Lowest level to emit biomass burning emissions into
fail-if=this < 1 or this > namelist:nlsizes=model_levels
help=This must be between 1 and the number of model levels and less than
    = or equal to the highest level for biomass emissions. It will be ignored
    = if the CLASSIC aerosol scheme is off,
    =or the biomass burning scheme
    = is off,
    =or there are no biomass burning emissions.
sort-key=c1
type=integer

[namelist:run_aerosol=bmass_high_level_2]
description=Highest level to emit biomass burning emissions into
fail-if=this < 1 or this > namelist:nlsizes=model_levels
help=This must be between 1 and the number of model levels and greater than
    = or equal to the lowest level for biomass emissions. It will be ignored
    = if the CLASSIC aerosol scheme is off,
    =or the biomass burning scheme is
    = off,
    =or there are no biomass burning emissions.
sort-key=c2
type=integer

[namelist:run_aerosol=i_dms_flux]
compulsory=true
description=Sulphur Cycle: scheme for Interactive DMS sea-air exchange
help=Use to select an Interactive DMS sea-air exchange scheme.
    =1 for Liss & _Merlivat scheme,
    =2 for Wanninkhof scheme,3 for Nightingale scheme.
values=1,2,3

[namelist:run_aerosol=l_biomass]
compulsory=true
description=Sulphur Cycle: Biomass scheme included
help=Set .true. to select Sulphur Cycle with Biomass active.
trigger=namelist:run_aerosol=l_bmass_surem: .true.;
       =namelist:run_aerosol=l_bmass_hilem: .true.;
       =namelist:run_precip=l_use_bmass_autoconv: .true.
type=logical

[namelist:run_aerosol=l_bmass_hilem]
compulsory=true
description=Sulphur Cycle: Biomass High Level Emissions
help=Set .true. to select Sulphur Cycle Biomass High Level Emissions.
trigger=namelist:run_aerosol=bmass_high_level_1: .true.;
       =namelist:run_aerosol=bmass_high_level_2: .true.
type=logical

[namelist:run_aerosol=l_bmass_lbc]
compulsory=true
description=Classic aerosol: Biomass scheme LBCs included
help=Set .true. to include Classic aerosol LBCs for biomass.
type=logical

[namelist:run_aerosol=l_bmass_surem]
compulsory=true
description=Sulphur Cycle: Biomass Surface Emissions
help=Set .true. to select Sulphur Cycle Biomass Surface Emissions.
type=logical

[namelist:run_aerosol=l_dms_em]
compulsory=true
description=Sulphur Cycle: DMS Emissions
help=Set .true. to select Sulphur Cycle Di-Methyl Sulphide Emissions.
type=logical

[namelist:run_aerosol=l_dms_em_inter]
compulsory=true
description=Sulphur Cycle: Interactive DMS Emissions
help=Set .true. to select Sulphur Cycle Interactive DMS Emissions.
trigger=namelist:run_aerosol=i_dms_flux: .true.;
type=logical

[namelist:run_aerosol=l_dms_lbc]
compulsory=true
description=Sulphur Cycle: dimethyl sulphide LBCs included
help=Set .true. to include Sulphur Cycle LBCs for dimethyl sulphide.
type=logical

[namelist:run_aerosol=l_nh3_em]
compulsory=true
description=Sulphur Cycle: Ammonia emissions included
help=Set .true. to include Ammonia emissions
type=logical

[namelist:run_aerosol=l_nh3_lbc]
compulsory=true
description=Sulphur Cycle: ammonia LBCs included
help=Set .true. to include Sulphur Cycle LBCs for ammonia.
type=logical

[namelist:run_aerosol=l_nitr_lbc]
compulsory=true
description=Classic aerosol: Nitrate scheme LBCs included
help=Set .true. to include Classic aerosol LBCs for nitrates.
type=logical

[namelist:run_aerosol=l_nitrate]
compulsory=true
description=Sulphur Cycle: Ammonium nitrate aerosol
help=Set .true. to include ammonium nitrate aerosol.
    =Require both l_nh3 and valid ukca_chem scheme selected.
trigger=namelist:run_precip=l_use_nitrate_autoconv: .true.;
       =namelist:temp_fixes=l_fix_nh4no3_equilibrium: .true.
type=logical

[namelist:run_aerosol=l_ocff]
compulsory=true
description=Sulphur Cycle: Organic Carbon from Fossil Fuels scheme included
help=Set .true. to select Sulphur Cycle with OrganicCarbonFossilFuels active.
trigger=namelist:run_aerosol=l_ocff_surem: .true.;
       =namelist:run_aerosol=l_ocff_hilem: .true.;
       =namelist:run_precip=l_use_ocff_autoconv: .true.
type=logical

[namelist:run_aerosol=l_ocff_hilem]
compulsory=true
description=Sulphur Cycle: Organic Carbon from Fossil Fuels High Level Emissions
help=Set .true. to select Sulphur Cycle OCFF High Level Emissions.
type=logical

[namelist:run_aerosol=l_ocff_lbc]
compulsory=true
description=Classic aerosol: OCFF scheme LBCs included
help=Set .true. to include Classic aerosol LBCs for OCFF.
type=logical

[namelist:run_aerosol=l_ocff_surem]
compulsory=true
description=Sulphur Cycle: Organic Carbon from Fossil Fuels Surface Emissions
help=Set .true. to select Sulphur Cycle OCFF Surface Emissions.
type=logical

[namelist:run_aerosol=l_so2_hilem]
compulsory=true
description=Sulphur Cycle: SO2 High Level Emissions
help=Set .true. to select Sulphur Cycle Sulphur Dioxide High Level Emissions.
trigger=namelist:run_aerosol=so2_high_level: .true.;
type=logical

[namelist:run_aerosol=l_so2_lbc]
compulsory=true
description=Sulphur Cycle: LBCs included
help=Set .true. to include Sulphur Cycle LBCs for so4_aitken/accu/diss too.
type=logical

[namelist:run_aerosol=l_so2_natem]
compulsory=true
description=Sulphur Cycle: SO2 Natural Emissions
help=Set .true. to select Sulphur Cycle Sulphur Dioxide Natural Emissions.
type=logical

[namelist:run_aerosol=l_so2_surfem]
compulsory=true
description=Sulphur Cycle: SO2 Surface Emissions
help=Set .true. to select Sulphur Cycle Sulphur Dioxide Surface Emissions.
trigger=namelist:run_aerosol=l_temporal_emi: .true.;
type=logical

[namelist:run_aerosol=l_soot]
compulsory=true
description=Sulphur Cycle: Soot scheme included
help=Set .true. to select Sulphur Cycle with Soot active.
trigger=namelist:run_aerosol=l_soot_surem: .true.;
       =namelist:run_aerosol=l_soot_hilem: .true.
type=logical

[namelist:run_aerosol=l_soot_hilem]
compulsory=true
description=Sulphur Cycle: Soot High Level Emissions
help=Set .true. to select Sulphur Cycle Soot High Level Emissions.
trigger=namelist:run_aerosol=soot_high_level: .true.;
type=logical

[namelist:run_aerosol=l_soot_lbc]
compulsory=true
description=Classic aerosol: Soot scheme LBCs included
help=Set .true. to include Classic aerosol LBCs for soot.
type=logical

[namelist:run_aerosol=l_soot_surem]
compulsory=true
description=Sulphur Cycle: Soot Surface Emissions
help=Set .true. to select Sulphur Cycle Soot Surface Emissions.
type=logical

[namelist:run_aerosol=l_sulpc_2_way_coupling]
compulsory=true
description=Sulphur Cycle: Two way coupling UKCA-CLASSIC
help=Set .true. to enable two way coupling of oxidant
    =fields between UKCA and CLASSIC
type=logical

[namelist:run_aerosol=l_sulpc_dms]
compulsory=true
description=Sulphur Cycle: DMS MMR included
help=Set .true. to select Sulphur Cycle with Di-Methyl Sulphide active.
    =Require this switch to be .true. before most other DMS options
    =can be selected.
trigger=namelist:run_aerosol=l_dms_em: .true.;
       =namelist:run_aerosol=l_dms_em_inter: .true.
type=logical

[namelist:run_aerosol=l_sulpc_nh3]
compulsory=true
description=Sulphur Cycle: Ammonia included
help=Set .true. to include Ammonia tracer
trigger=namelist:run_aerosol=l_nh3_em: .true.;
       =namelist:run_aerosol=l_sulpc_so2_o3_nonbuffered: .true.
type=logical

[namelist:run_aerosol=l_sulpc_online_oxidants]
compulsory=true
description=Sulphur Cycle: Online oxidants
help=Set .true. to select depleted oxidants passed back to UKCA.
    =Require both l_sulpc_so2 and valid ukca_chem scheme selected.
trigger=namelist:run_aerosol=l_sulpc_2_way_coupling: .true.
type=logical

[namelist:run_aerosol=l_sulpc_ozone]
compulsory=true
description=Sulphur Cycle: Ozone oxidation included
help=Set .true. to include oxidation of DMS and SO2 by ozone
trigger=namelist:run_aerosol=l_sulpc_so2_o3_nonbuffered: .true.
type=logical

[namelist:run_aerosol=l_sulpc_so2]
compulsory=true
description=Sulphur Cycle: SO2 MMR included
help=Set .true. to select Sulphur Cycle with Sulphur Dioxide active.
    =Require this switch to be .true. before most other Sulphur Cycle options
    =can be selected.
trigger=namelist:run_aerosol=l_so2_surfem: .true.;
       =namelist:run_aerosol=l_so2_hilem: .true.;
       =namelist:run_aerosol=l_so2_natem: .true.;
       =namelist:run_aerosol=l_sulpc_dms: .true.;
       =namelist:run_aerosol=l_sulpc_ozone: .true.;
       =namelist:run_aerosol=l_sulpc_online_oxidants: .true.;
       =namelist:run_aerosol=l_sulpc_nh3: .true.;
       =namelist:run_aerosol=l_use_sulphate_sulpc: .true.;
       =namelist:run_precip=l_use_sulphate_autoconv: .true.;
       =namelist:run_ukca=l_ukca_classic_hetchem: .true.;
       =namelist:run_ukca=i_so2_hi_level: .false.;
       =namelist:run_ukca=i_ukca_dms_flux: .false.
type=logical

[namelist:run_aerosol=l_sulpc_so2_o3_nonbuffered]
compulsory=true
description=Sulphur Cycle: SO2+O3 reaction NOT buffered by NH3
help=Set .true. for SO2+O3 reaction NOT buffered by Ammonia
type=logical

[namelist:run_aerosol=l_temporal_emi]
compulsory=true
description=Apply diurnal and weekly cycles to emissions
help=This option applies temporal cycles to the low level emissions
    =of sulfur dioxide,
    =soot and OCFF. The emisisons
    =are scaled by a factor to reflect the day of the week,
    =and
    =one to reflect the time of day,
    =based on the local solar time.
    =Cannot be used with 360 day calendar.
type=logical

[namelist:run_aerosol=l_use_bmass_sulpc]
compulsory=true
description=Sulphur Cycle: Use biomass aerosol number
help=Set .true. to include biomass aerosol number in Sulphur Cycle.
type=logical

[namelist:run_aerosol=l_use_nitrate_sulpc]
compulsory=true
description=Sulphur Cycle: Use ammonium nitrate aerosol number
help=Set .true. to include ammonium nitrate aerosol number in Sulphur Cycle.
type=logical

[namelist:run_aerosol=l_use_ocff_sulpc]
compulsory=true
description=Sulphur Cycle: Use organic carbon fossil fuel aerosol number
help=Set .true. to include OCFF aerosol number in Sulphur Cycle.
type=logical

[namelist:run_aerosol=l_use_seasalt_pm]
compulsory=true
description=Sulphur Cycle: Use sea-salt aerosol number in PM diagnostics
help=Set .true. to include sea-salt aerosol number in PM diagnostics.
    =This is an unconditional choice.
type=logical

[namelist:run_aerosol=l_use_seasalt_sulpc]
compulsory=true
description=Sulphur Cycle: Use sea-salt aerosol number
help=Set .true. to include sea-salt aerosol number in Sulphur Cycle.
type=logical

[namelist:run_aerosol=l_use_sulphate_sulpc]
compulsory=true
description=Sulphur Cycle: Use sulphate aerosol number
help=Set .true. to include sulphate aerosol number in Sulphur Cycle.
type=logical

[namelist:run_aerosol=ocff_high_level]
description=Model level to emit OCFF high level emissions into
fail-if=this < 1 or this > namelist:nlsizes=model_levels
help=This must be between 1 and the number of model levels. It will be
    = ignored if the CLASSIC aerosol scheme is off,
    =or the OCFF scheme is
    = off,
    =or there are no high level OCFF emissions.
sort-key=d1
type=integer

[namelist:run_aerosol=so2_high_level]
description=Model level to emit SO2 high level emissions into
fail-if=this < 1 or this > namelist:nlsizes=model_levels
help=This must be between 1 and the number of model levels. It will be
    = ignored if the CLASSIC aerosol scheme is off,
    =or the sulphur scheme is
    = off,
    =or there are no high level SO2 emissions.
sort-key=a1
type=integer

[namelist:run_aerosol=soot_high_level]
description=Model level to emit soot high level emissions into
fail-if=this < 1 or this > namelist:nlsizes=model_levels
help=This must be between 1 and the number of model levels. It will be
    = ignored if the CLASSIC aerosol scheme is off,
    =or the soot scheme is
    = off,
    =or there are no high level soot emissions.
sort-key=b1
type=integer

[namelist:run_bl]
compulsory=true
ns=namelist/UM Science Settings/section03
title=Section 03 - Boundary Layer

[namelist:run_bl=a_ent_shr_nml]
compulsory=true
description=Empirical constant multiplying ustar entrainment term
help=The entrainment parametrization includes a term dependent on the
    =friction velocity,
    =ustar.  The constant of proportionality had been
    =5.0 but the LES of Beare (2008),
    =together with UKV case studies
    =suggest a lower value would be more appropriate (Beare gives 1.6).
ns=namelist/UM Science Settings/section03/9b_9c_switches
range=0.0:10.0
sort-key=15
type=real

[namelist:run_bl=alpha_cd]
compulsory=true
description=Time weights for implicit solver
fail-if=len(this) < namelist:nlsizes=bl_levels #less levels than required
help=A time weight must be given for each boundary layer level. Note that
    = level 1 applies to the surface energy budget equation and a value of
    = 2 is recommended here,
    =with 1.5 recommended for all other levels.
length=:
ns=namelist/UM Science Settings/section03/Implicit
sort-key=01
type=real
warn-if=len(this) > namelist:nlsizes=bl_levels #more levels than required

[namelist:run_bl=bdy_tke]
compulsory=true
description=Type of TKE closure model
help=The 1A TKE schemes consists of the following three models.
    =  * The Mellor-Yamada level 3 model
    =  * The Mellor-Yamada level 2.5 model
    =  * The first order eddy-diffusive model based on Deardorff (1980)
    = The detailed formulations and implementations can be found in UMDP
    = 024A. Note that the level 3 scheme may need a shorter timestep than
    = usual. It is able to complete 12km and UKV standard jobs. For global
    = model,
    =12min (L70) is too long to run without computational
    = instability,
    =but it can run with a 5min timestep.
ns=namelist/UM Science Settings/section03/1a_switches
sort-key=01
trigger=namelist:run_bl=tke_cm_mx: 1;
       = namelist:run_bl=tke_cm_fa: 1;
       = namelist:run_bl=tke_dlen: 1;
       = namelist:run_bl=l_my_prod_adj: 3;
value-titles=First order eddy diffusive model based on Deardorff (1980),
            =Mellor-Yamada Level 2.5 model,Mellor-Yamada Level 3 model
values=1,2,3

[namelist:run_bl=bl_res_inv]
compulsory=true
description=Switch to resolve the entrainment flux profile across inversions
help=When selected,
    =the thickness of the capping inversion is diagnosed
    =and,
    =if it is thick enough to be resolved by the vertical grid,
    =the
    =turbulent fluxes across the top of the boundary layer are applied
    =across the layers within the inversion via the boundary layer diffusion
    = coefficients.
ns=namelist/UM Science Settings/section03/9b_9c_switches
sort-key=13
value-titles=None,Resolve convective boundary layer capping inversions
values=0,1

[namelist:run_bl=bl_segment_size]
compulsory=true
description=Block size to improve performance of BL code
help=Default value of 16 is tuned for Cray machine
    =
    =Other values may improve performance for other platforms
    =A value of 4 was suggested for the IBM Power7
    =
    =Only change this if you know what you are doing
ns=namelist/UM Science Settings/section03/9b_9c_switches
range=1:999
sort-key=16
type=integer

[namelist:run_bl=blending_option]
compulsory=true
description=Turbulence scheme blending options
help=Two blending options are available
    =0) no blending
    =1) original version,
    =applied everywhere with grey zone convection param
    =2) as 1 but without blending in cumulus layers and no convection param
ns=namelist/UM Science Settings/section03/9b_9c_switches
sort-key=14
value-titles=No blending,
            =Use blending everywhere with grey zone convection parametrization,
            =Only blend when not cumulus convection
values=0,1,2

[namelist:run_bl=calc_prob_of_vis]
compulsory=true
description=Cumulative probability at which to evaluate visibility
help=This value represents the fraction of a grid-box with visibility
    = less than X required to give a median visibility of X.
    = Therefore lower values tend to produce lower visibilities,
    =and higher values higher visibilities.
    = Theoretically it should take a value of 0.5.
ns=namelist/UM Science Settings/section03
range=0.0:1.0
sort-key=16
type=real

[namelist:run_bl=cbl_op]
compulsory=true
description=Convective BL stability function
help=Four options are available for the stability functions for unstable
    = Richardson numbers: the long-standing UM functions,
    =removing the
    = stability dependence entirely (so that the neutral value is used)
    = and those described as the "standard" and "conventional" subgrid
    = models in the LES of Brown (1999). The conventional model gives
    = significantly less mixing than the standard LEM,
    =and the standard
    = LEM gives very similar momentum mixing to the original UM but has a
    = significantly larger Prandtl number in the convective limit (0.44 vs
    = 0.14). Selection of any LEM stable or unstable function will also
    = impose a neutral Prandtl number of 0.7 (compared to 1.0 otherwise).
ns=namelist/UM Science Settings/section03
sort-key=06
value-titles=Original UM,Neutral stability for Ri<0,Conventional LEM,
            =Standard LEM
values=0,1,2,3

[namelist:run_bl=dec_thres_cloud]
compulsory=true
description=Buoyancy flux threshold for decoupling
help=Larger values make decoupling less likely,
    =suggested value 0.1.
ns=namelist/UM Science Settings/section03/9b_9c_switches
range=0.0:1.0
sort-key=08
type=real

[namelist:run_bl=dec_thres_cu]
compulsory=true
description=Buoyancy flux threshold for cumulus sub-cloud layers
help=Larger values extend sub-cloud layer mixing higher into the base
    =of the cloud layer,
    =suggested value 0.05
ns=namelist/UM Science Settings/section03/9b_9c_switches
range=0.0:1.0
sort-key=09
type=real

[namelist:run_bl=entr_enhance_by_cu]
compulsory=true
description=Enhance entrainment in decoupled stratocumulus over cumulus
help=Enhance the entrainment rate in stratocumulus when there are
    = cumulus clouds penetrating it from below.
ns=namelist/UM Science Settings/section03/9b_9c_switches
sort-key=06
value-titles=Off,On
values=0,1

[namelist:run_bl=entr_smooth_dec]
compulsory=true
description=Smoothly reduce surface-driven entrainment when decoupling
help=Reduce the surface-driven contribution to cloud-top entrainment
    = smoothly as the strength of the decoupling grows (currently linearly
    = dependent on the "svl" difference between cloud and sub-cloud layers
    = in the range 0.5 to 1K.
ns=namelist/UM Science Settings/section03/9b_9c_switches
sort-key=07
value-titles=Off,On
values=0,1

[namelist:run_bl=flux_grad]
compulsory=true
description=Flux-gradient relationships
help="Generic flux-gradient relationship" allows a generic treatment of
    = the scalar fluxes (heat and moisture) and includes new non-gradient
    = terms arising from cloud-top generated turbulence and entrainment.
ns=namelist/UM Science Settings/section03/9b_9c_switches
sort-key=05
value-titles=Surface-driven gradient adjustment for heat only,
            =Generic flux-gradient relationship
values=0,2

[namelist:run_bl=fric_heating]
compulsory=true
description=Apply heating source from turbulence dissipation
help=The drag on the resolved scale flow exerted by the boundary layer
    = turbulence parametrization should ultimately be dissipated as heat
    = but unless this option is selected this heating is ignored. It is
    = recommended to be implemented in all model versions.
ns=namelist/UM Science Settings/section03
sort-key=15
value-titles=Off,On
values=0,1

[namelist:run_bl=i_bl_vn]
compulsory=true
description=Boundary layer scheme version
help=Version 9 is the long-standing "diagnostic K-profile" scheme,
    =that uses the resolved state of the atmosphere and surface
    = to specify directly the turbulent diffusivities that are used
    = to calculated the turbulent fluxes.
    =
    = The 1A scheme calculates the diffusivities from prognostic equations
    = for the higher order moments of the turbulence,
    =including the turbulence kinetic energy (TKE).
ns=namelist/UM Science Settings/section03
sort-key=01
trigger=namelist:run_bl=sbl_op: 1,2,3;
       = namelist:run_bl=cbl_op: 1,2,
       =3;
       = namelist:run_bl=l_lambdam2: 1,2,
       =3;
       = namelist:run_bl=lambda_min_nml: 1,2,
       =3;
       = namelist:run_bl=l_use_surf_in_ri: 2,
       =3;
       = namelist:run_bl=l_full_lambdas: 1,2,
       =3;
       = namelist:run_bl=l_bl_mix_qcf: 1,2,
       =3;
       = namelist:run_bl=local_fa: 1,2,
       =3;
       = namelist:run_bl=keep_ri_fa: 1,2,
       =3;
       = namelist:run_bl=prandtl: 1,2,
       =3;
       = namelist:run_bl=ritrans: 1,2,
       =3;
       = namelist:run_bl=sg_orog_mixing: 1,2,
       =3;
       = namelist:run_bl=fric_heating: 1,2,
       =3;
       = namelist:run_bl=calc_prob_of_vis: 1,2,
       =3;
       = namelist:run_bl=nl_bl_levels: 2,
       =3;
       = namelist:run_bl=idyndiag: 2,
       =3;
       = namelist:run_bl=subs_couple_fix: 2,
       =3;
       = namelist:run_bl=flux_grad: 3;
       = namelist:run_bl=entr_enhance_by_cu: 3;
       = namelist:run_bl=entr_smooth_dec: 3;
       = namelist:run_bl=dec_thres_cloud: 3;
       = namelist:run_bl=l_reset_dec_thres: 3;
       = namelist:run_bl=bl_segment_size: 2,
       =3;
       = namelist:run_bl=relax_sc_over_cu: 3;
       = namelist:run_bl=kprof_cu: 3;
       = namelist:run_bl=blending_option: 2,
       =3;
       = namelist:run_bl=bl_res_inv: 3;
       = namelist:run_bl=a_ent_shr_nml: 3;
       = namelist:run_bl=puns: 1,
       =2,3;
       = namelist:run_bl=pstb: 1,2,
       =3;
       = namelist:run_bl=bdy_tke: 1;
       = namelist:run_bl=tke_levels: 1;
       = namelist:run_bl=l_local_above_tkelvs: 1;
       = namelist:run_bl=l_my_initialize: 1;
       = namelist:run_bl=l_my_ini_zero: 1;
       = namelist:run_bl=my_ini_dbdz_min: 1;
       = namelist:run_bl=l_adv_turb_field: 1;
       = namelist:run_bl=l_my_condense: 1;
       = namelist:run_bl=l_shcu_buoy: 1;
       = namelist:run_bl=my_lowest_pd_surf: 1;
       = namelist:run_bl=my_z_limit_elb: 1;
       = namelist:run_bl=l_print_max_tke: 1;
       = namelist:run_stochastic=g1_rp_max: 2,
       =3 ;
       = namelist:run_stochastic=g1_rp_min: 2,
       =3 ;
       = namelist:run_stochastic=g1_rp: 2,
       =3 ;
       = namelist:run_stochastic=a_ent_1_rp_max: 2,
       =3 ;
       = namelist:run_stochastic=a_ent_1_rp_min: 2,
       =3 ;
       = namelist:run_stochastic=a_ent_1_rp: 2,
       =3 ;
       = namelist:run_stochastic=ricrit_rp_max: 1,2,
       =3 ;
       = namelist:run_stochastic=ricrit_rp_min: 1,2,
       =3 ;
       = namelist:run_stochastic=ricrit_rp: 1,2,
       =3 ;
       = namelist:run_stochastic=lambda_min_rp_max: 1,2,
       =3 ;
       = namelist:run_stochastic=lambda_min_rp_min: 1,2,
       =3 ;
       = namelist:run_stochastic=lambda_min_rp: 1,2,
       =3 ;
       = namelist:run_stochastic=charnock_max: 1,2,
       =3 ;
       = namelist:run_stochastic=charnock_min: 1,2,
       =3 ;
       = namelist:run_stochastic=g0_rp_max: 1,2,
       =3 ;
       = namelist:run_stochastic=g0_rp_min: 1,2,
       =3 ;
       = namelist:run_stochastic=g0_rp: 1,2,
       =3 ;
       = namelist:run_stochastic=par_mezcla_max: 1,2,
       =3 ;
       = namelist:run_stochastic=par_mezcla_min: 1,2,
       =3 ;
       = namelist:run_stochastic=par_mezcla: 1,2,
       =3 ;
       = namelist:run_stochastic=lam_meta_rp_max: 1,2,
       =3 ;
       = namelist:run_stochastic=lam_meta_rp_min: 1,2,
       =3 ;
       = namelist:run_stochastic=lam_meta_rp: 1,2,3 ;
value-titles=No boundary layer scheme,
            =1A: Prognostic TKE-based turbulent closure,
            =9B: Non-local scheme with revised diagnosis
            =       of K-profile depths,
            =9C: Revised entrainment fluxes plus new scalar
            =       flux-gradient option
values=0,1,2,3

[namelist:run_bl=idyndiag]
compulsory=true
description=Shear driven BL diagnosis options
help=In situations where surface conditions are close to neutral and the
    = land fraction is less than a half,
    =the thermodynamic parcel ascent
    = diagnosis of both cumulus and non-local boundary layers are
    = over-ruled to leave turbulent mixing to be determined by the local
    = Richardson number scheme only.
    = "zi/L used over sea" gives problems when BL_LEVELS is high,
    =therefore "zi/L revised over sea" corrects this.
    = "zi/L used in Cumulus over sea" applies this only to points
    = diagnosed with Cumulus and strictly for sea points
    = (fland<0.01,
    =cf 0.5).
    = "Ri based" also overrides Cumulus diagnosis if
    =        Zh(Ri) > Zlcl+zhloc_depth_fac*(Zhpar-Zlcl).
    = Note that here Ri accounts for gradient adjustment by the
    = non-local scheme. This option further restricts a Cumulus diagnosis
    = to allow for disruption of cumulus formation through vertical wind
    = shear (diagnosed through a sub-critical Richardson number profile
    = extending well into the cloud layer). Under these circumstances the
    = non-local boundary layer scheme is allowed to mix up to the original
    = parcel ascent top.
    =
    = Additionally,
    =for all options (other than 0) the consistency of the
    = provisional diagnosis of an unstable boundary layer in CONV_DIAG is
    = checked against the surface flux diagnosed by the surface exchange
    = routines.
ns=namelist/UM Science Settings/section03/9b_9c_switches
sort-key=02
trigger=namelist:run_bl=zhloc_depth_fac: 4;
value-titles=zi/L not used,zi/L used over sea,zi/L revised over sea,
            =zi/L used in Cumulus over sea,Ri based
values=0,1,2,3,4

[namelist:run_bl=keep_ri_fa]
compulsory=true
description=Options for where to reduce the local diffusion coefficients
help=Switch to decide where to keep the diffusion coefficient calculated
    =by the local Richardson number scheme.  It is found beneficial to avoid
    =spurious mixing across well-defined inversions,
    =particularly for
    =stratocumulus-capped boundary layers,
    =by setting these to zero.
    =It can also be appropriate to remove this local mixing across the
    =lifting condensation level in cumulus-capped layers.
    =If the boundary layer mixing is blending with the Smagorinsky subgrid
    =turbulence scheme then the local coefficients are only reduced by
    =applying the 1D weighting function,
    =rather than set to zero.
ns=namelist/UM Science Settings/section03
sort-key=12
value-titles=Remove entirely above inversions and the LCL in cumulus,
            =Reduce in the levels spanning inversions and the LCL in cumulus,
            =Reduce in the levels spanning inversions
values=0,1,2

[namelist:run_bl=kprof_cu]
compulsory=true
description=Switch for non-local mixing across the LCL in cumulus
help=When this option is not used,
    =BL mixing is cut-off at the LCL leaving
    =the convection scheme to couple the cloud and sub-cloud layers.
    =The main advantages of using the BL scheme to couple the layers are
    =that it is diffusive and the solution is implicit.  Thus it responds
    =more effectively to processes acting to cause the layers to diverge.
    =Two alternative methods of generating the BL diffusion coefficients
    =across the LCL are available although the buoyancy flux integration
    =algorithm is currently recommended.
ns=namelist/UM Science Settings/section03/9b_9c_switches
sort-key=12
trigger=namelist:run_bl=dec_thres_cu: 2;
value-titles=None,Use standard PBL entrainment parametrization,
            =Use the buoyancy flux integration algorithm
values=0,1,2

[namelist:run_bl=l_adv_turb_field]
compulsory=true
description=Advect prognostic variables in TKE scheme
help=If this switch is turned on,
    =the prognostic variables are advected
    = through the Semi-Lagrangian scheme.
    = Suggested .TRUE.
ns=namelist/UM Science Settings/section03/1a_switches
sort-key=07
type=logical

[namelist:run_bl=l_bl_mix_qcf]
compulsory=true
description=Mix ice cloud water content in the vertical by the PBL scheme
help=Although small ice crystals will be susceptible to vertical mixing by
    = turbulence,
    =because we don't partition ice by size and qcf represents
    = the entire size distribution, it may be a worse error to spuriously
    = mix large crystals than to fail to mix small ones
ns=namelist/UM Science Settings/section03
sort-key=08
type=logical

[namelist:run_bl=l_full_lambdas]
compulsory=true
description=Do not reduce mixing lengths above the BL top
help=If this option is selected,Lambda = MAX(Lambda_min,
    =0.15*Zh) is
    = retained above Zh instead of reducing it to Lambda_min (40m).
ns=namelist/UM Science Settings/section03
sort-key=09
type=logical

[namelist:run_bl=l_lambdam2]
compulsory=true
description=Use enhanced mixing length in Richardson number scheme
help=For operational purposes it has been found best to enhance the
    = asymptotic momentum mixing length (LambdaM) in the Richardson number
    = scheme. This is done by changing
    = LambdaM = MAX(Lambda_min,
    =0.15*Zh) to
    = LambdaM = MAX(Lambda_min,0.30*Zh),
    =where Zh is the boundary layer depth and Lambda_min is 40m.
ns=namelist/UM Science Settings/section03
sort-key=08
type=logical

[namelist:run_bl=l_local_above_tkelvs]
compulsory=true
description=Use the local scheme above TKE levels
help=Diffusion coefficients between TKE_LEVELS + 1 and BL_LEVELS are not
    = calculated by default. If this option is turned on,
    =these diffusion coefficients are obtained through the local
    = BL scheme. This is compatible to the original UM BL scheme
    = with NL_BL_LEVELS different from BL_LEVELS.
ns=namelist/UM Science Settings/section03/1a_switches
sort-key=03
type=logical

[namelist:run_bl=l_my_condense]
compulsory=true
description=Use buoyancy parameters calculated from turbulent covariances
help=If this option is selected,
    =the buoyancy parameters are calculated
    = based on the assumption of the bi-normal distribution function for
    = fluctuation of heat and moisture. To evaluate the standard deviation
    = of the distribution function,
    =the predicted (in level 3) or
    = diagnosed (level 2.5) covariances are used.
    =
    = If this option is not selected,
    =buoyancy parameters calculated
    = in the large scale cloud scheme (Smith or PC2) will be used in
    = the TKE scheme. Suggested .TRUE.
ns=namelist/UM Science Settings/section03/1a_switches
sort-key=08
type=logical

[namelist:run_bl=l_my_ini_zero]
compulsory=true
description=Initialise prognostics to zero
help=If selected,
    =TKE and covariances are initialized to zero instead of
    = assuming the balance of production and dissipation. When the
    = non-gradient buoyancy flux is activated,
    =the height of the
    = mixed layer (which is used to restrict the height of the mixed
    = layer in the next time step) is set to be close to the top
    = of TKE_LEVELS.
    =
    = It is valid only when the initialisation is activated,
    =that is,
    ="Forced to initialise the prognostic variables"
    = is turned on,
    =or the start dump contains missing data for
    = the turbulent prognostic variables.
ns=namelist/UM Science Settings/section03/1a_switches
sort-key=05
type=logical

[namelist:run_bl=l_my_initialize]
compulsory=true
description=Force initialisation of the prognostic variables
help=The initial values of the turbulent prognostic variables are usually
    = obtained from start dumps. However,
    =if you would like to reset
    = them and start again,
    =this option should be turned on. When it
    = is turned on,
    =the initial fields are diagnosed by assuming balance
    = between production and dissipation.
    =
    = Note that if the initial values are generated through the recon,
    =missing values are stored. When the first grid of the TKE in start
    = dumps is missing,
    =the initialization is automatically conducted.
    = Suggested .TRUE.
ns=namelist/UM Science Settings/section03/1a_switches
sort-key=04
type=logical

[namelist:run_bl=l_my_prod_adj]
compulsory=true
description=Adjust production terms for computational stability on each level
help=This option is highly recommended to turn on,
    =especially when the timestep is large. A smaller factor
    = makes the adjustment activate more often,
    =but too strong
    = adjustment might adversely affect the accuracy of
    = forecasts. With the value 0.225,
    =sufficient computational
    = stability is secured in NAE and UKV. The factors can be set
    = on each level. Sometimes smaller values at the lower layer
    = could be better to ensure computational stability.
ns=namelist/UM Science Settings/section03/1a_switches
sort-key=13
trigger=namelist:run_bl=my_prod_adj_fact: .true.;
type=logical

[namelist:run_bl=l_print_max_tke]
compulsory=true
description=Print the maximum values of the prognostic variables
help=If this switch is turned on,
    =the maximum values of the integrated
    = prognostic variables in the whole domain are printed at each
    = timestep with grid indexes in local processors and processor IDs.
    = Note that for cov(<thetal'qw'>),
    =the maximum of ABS(cov) is printed.
ns=namelist/UM Science Settings/section03/1a_switches
sort-key=16
type=logical

[namelist:run_bl=l_reset_dec_thres]
compulsory=true
description=Reset the decoupling threshold to dec_thres_cloud for Ktop
help=This logical resets the decoupling threshold to dec_thres_cloud
    =for the iteration to diagnose the vertical extent of the top-driven
    =K profile.  This will apply to cases where it has been set to
    =the cumulus (dec_thres_cu) or clear sky (dec_thres_clear) values.
ns=namelist/UM Science Settings/section03/9b_9c_switches
sort-key=10
type=logical

[namelist:run_bl=l_shcu_buoy]
compulsory=true
description=Use non-gradient buoyancy flux associated with skewness
           = in shallow convection
help=If this switch is activated,
    =non-gradient buoyancy flux suggested by
    = Lock and Mailhot (2006) is added to the production term of TKE.
    = The main purpose of adding this flux is to represent shallow
    = convection. Therefore,
    =if the convection scheme is turned on,
    =conflicts between the convection scheme and this flux could occur.
    = Suggested .TRUE.
ns=namelist/UM Science Settings/section03/1a_switches
sort-key=09
trigger=namelist:run_bl=shcu_levels: .true.;
       = namelist:run_bl=wb_ng_max: .true.;
type=logical

[namelist:run_bl=l_use_surf_in_ri]
compulsory=true
description=Use surface variables in lowest level Ri
help=Option to use the surface variables in the calculation of the
    =lowest level Richardson number,
    =otherwise the gradients between
    =levels 1 and 2 are extrapolated.
ns=namelist/UM Science Settings/section03/9b_9c_switches
sort-key=04
type=logical

[namelist:run_bl=lambda_min_nml]
compulsory=true
description=Minimum mixing length
help=The minimum value,in metres,
    =allowed for the mixing length in the
    =Richardson number based turbulence scheme.  Note that in the PBL the
    =asymptotic mixing length (the value the mixing length will tend
    =towards away from the surface) is typically 0.15 times the PBL depth
    =and so a minimum value of,
    =say,40m will be used for PBLs shallower
    =than 266m
ns=namelist/UM Science Settings/section03
range=0.0:9999.0
sort-key=07
type=real

[namelist:run_bl=local_fa]
compulsory=true
description=Free atmospheric turbulent mixing option
help=Relax to SHARPEST: the stable stability function requested relaxes
    = towards the "SHARPEST" function with height above the surface,
    =with a fixed height scale of 1km. If "Do not reduce mixing lengths
    = above the BL top" is selected this option will also smoothly merge
    = to the asymptotic mixing length by 3km above the surface.
    =
    = Corrected NTML is as the original but corrects the level
    = (ntml_local) below which the boundary layer value is used.
    = The final option extends this version to use interactively diagnosed
    = turbulent layer depths throughout the atmospheric column.
ns=namelist/UM Science Settings/section03
sort-key=11
value-titles=Original,Relax to SHARPEST,Original with corrected NTML,
            =Original with diagnosed turbulent layer depths
values=0,1,2,3

[namelist:run_bl=my_ini_dbdz_min]
compulsory=true
description=Minimum limit of the buoyancy gradient at initialisation
help=If the initial fields have negative or close-to-neutral vertical
    = buoyancy gradient in the upper levels,
    =the initialised
    = prognostic variables tend to be much larger,
    =and this sometimes
    = leads to computational instability. To avoid this,
    =the minimum
    = limit of the vertical buoyancy gradient (in s^(-2)) is imposed
    = in the initialisation.
    = Suggested value 1.0e-5.
ns=namelist/UM Science Settings/section03/1a_switches
range=1.0e-10:1.0e+10
sort-key=06
type=real

[namelist:run_bl=my_lowest_pd_surf]
compulsory=true
description=Method for calculating production terms at the lowest level
help=The production terms of the prognostic variables at the lowest level
    = can be calculated with surface related quantities.
    = * Without surface fluxes and related quantities
    =   The production terms at the lowest levels are evaluated in the
    =   same way as the other levels (i.e. with vertical gradients in
    =   the atmosphere).
    = * With gradient functions by Businger(1971)
    = * With gradient functions by Beljaars and Holtslag(1991)
    =   If either of these is selected,
    =the production term at the
    =   lowest level is calculated using surface fluxes and gradient
    =   functions. It is usually recommended. However,
    =if the lowest
    =   level is close to the surface (like L70 in UKV),
    =the production
    =   term could be too large because it is in inverse proportion
    =   to the height of the lowest layer. This can also happen if
    =   "effective roughness" (see LAND_SURF panel) is used because
    =   the production term at the lowest level is proportional
    =   to the cube of the friction velocity,
    =which can be large
    =   with effective roughness lengths. In that case,
    =it could be better to try either another option for the
    =   roughness length or turn this option off.
    = Suggested Belijaars and Holtslag (1991).
ns=namelist/UM Science Settings/section03/1a_switches
sort-key=12
value-titles=Without surface fluxes and related quantities,
            =With gradient functions by Businger (1971),
            =With gradient functions by Belijaars and Holtslag (1991)
values=0,1,2

[namelist:run_bl=my_prod_adj_fact]
compulsory=true
description=Factors for adjustment of production terms
fail-if=len(this) < namelist:nlsizes=bl_levels #less levels than required
length=:
ns=namelist/UM Science Settings/section03/1a_switches
range=0.0:1.0
sort-key=14
type=real
warn-if=len(this) > namelist:nlsizes=bl_levels #more levels than required

[namelist:run_bl=my_z_limit_elb]
compulsory=true
description=Altitude above which the mixing length due to buoyancy
           = is restricted (m)
help=The mixing length associated with buoyancy is very large when a negative
    = buoyancy gradient is diagnosed. It is valid in the mixed layer,
    =but if it happens in the free troposphere (e.g. around 5000m or more),
    =the overall mixing length could end up very large because the other
    = element in the mixing length is proportional to height above the
    = surface. Too large a mixing length makes the turbulent variables
    = increase rapidly and could crash the computation. When TKE_LEVELS is set
    = to be large (i.e. the prognostic variables are integrated at upper
    = levels),
    =it is one option to adjust this height so that the
    = integration can proceed stably.
    = Suggested value 1.0e10 to not use.
ns=namelist/UM Science Settings/section03/1a_switches
range=0.0:1.0e+10
sort-key=15
type=real

[namelist:run_bl=nl_bl_levels]
compulsory=true
description=Number of non-local boundary layer levels
help=This should correspond to the vertical level approximately 6km
    = above the surface. Invalid entries will default to bl_levels.
ns=namelist/UM Science Settings/section03/9b_9c_switches
sort-key=01
type=integer

[namelist:run_bl=prandtl]
compulsory=true
description=Use stability dependent stable Prandtl number
help=Make the stable Prandtl number stability dependent based on Lock &
    = Mailhot (2004). This option also changes the neutral Prandtl number
    = to 0.7.
ns=namelist/UM Science Settings/section03
sort-key=13
value-titles=Off,On
values=0,1

[namelist:run_bl=pstb]
compulsory=true
description=Parameter for implicit solver in stable BL column
help=Using 2.0 is recommended. In general,
    =the higher these values are,
    =the more stable the scheme becomes. However,
    =running with great nonlinear stability at an
    = area which is not required (where a weakly
    = nonlinear is problem is solved) results in lower accuracy.
ns=namelist/UM Science Settings/section03/Implicit
range=0.0:100.0
sort-key=04
type=real

[namelist:run_bl=puns]
compulsory=true
description=Parameter for implicit solver in unstable BL column
help=Using 0.5 is recommended. In general,
    =the higher these values are,
    =the more stable the scheme becomes. However,
    =running with great nonlinear stability at an
    = area which is not required (where a weakly
    = nonlinear is problem is solved) results in lower accuracy.
ns=namelist/UM Science Settings/section03/Implicit
range=0.0:100.0
sort-key=03
type=real

[namelist:run_bl=relax_sc_over_cu]
compulsory=true
description=Allow stratocumulus to be diagnosed over deep convection
ns=namelist/UM Science Settings/section03/9b_9c_switches
sort-key=11
value-titles=Off,On
values=0,1

[namelist:run_bl=ritrans]
compulsory=true
description=Transition Ri for Sharpest function
help=The Sharpest function is written as a combination of a linear
    =function of Ri for 0<Ri<RiTrans and 1/Ri^2 for Ri>RiTrans.
    =The original Sharpest function uses RiTrans=0.1
ns=namelist/UM Science Settings/section03
range=0.0:1.0
sort-key=04
type=real

[namelist:run_bl=sbl_op]
compulsory=true
description=Stable BL stability function
help=The first nine options are variations on the Richardson number scheme
    = and reflect the range of tunings used in operational models. The
    = functions listed in increasing order of mixing strength are: SHARPEST,
    =Louis,
    =Long tails.
    =
    = Selecting the LEM stability functions enables the user to use a
    = stability dependence more relevant to Large-eddy simulation and can
    = be used if direct comparison with the Met Office LEM is desired.
    =
    = The Equilibrium stable boundary layer scheme is a complex research
    = formulation based on the second-moment equations with boundary layer
    = depth as a controlling parameter. The Boundary layer depth based
    = formulation option is a simpler scheme than the Equilibrium one
    = based on boundary layer depth derived from the turbulent kinetic
    = energy budget.
ns=namelist/UM Science Settings/section03
sort-key=02
trigger=namelist:run_bl=variable_ric: 1,2,6,7,8;
value-titles=Long tails,SHARPEST,SHARP-sea; Long-land,Mes tails,
            =Louis tails,Depth based,SHARP-sea; Mes-land,LEM stability,
            =SHARP-sea; Louis/Long-land,Equilibrium SBL
values=0,1,2,3,4,5,6,7,8,9

[namelist:run_bl=sg_orog_mixing]
compulsory=true
description=Option for treating unresolved drainage flows
help=Drainage flows often form in hilly areas as the air near the surface
    = cools at night.  Where these flows are on scales too small to be
    = resolved their effects on vertical mixing (through induced wind shear)
    = should be included. Two independent methods to do this have been coded.
    = Currently these require the orographic stress (LAND_SURF panel) and GWD
    = schemes to be switched on in order to have the necessary ancillary
    = fields loaded. The subgrid shear options currently convert these into
    = a mean slope using an empirical relationship derived for the UKV only,
    =and so this is not recommended for any other model. These options
    = include the shear in the calculation of the Richardson number and
    = diffusion coefficients,
    =with an additional option to enhance the
    = mixing lengths. The other option is to relate the length of the
    = SHARPEST tail to subgrid orography,
    =following McCabe and Brown (2007).
ns=namelist/UM Science Settings/section03
sort-key=14
value-titles=None,Extended tail (McCabe & Brown 2007),
            =Subgrid shear in Ri and diffusion coefficients,
            =Subgrid shear plus enhanced mixing lengths
values=0,1,2,3

[namelist:run_bl=shcu_levels]
compulsory=true
description=Levels at which to apply the non-gradient buoyancy flux
help=The maximum level to calculate and add the non-gradient buoyancy flux
    = can be set. It should correspond to a height of 3 to 5km.
    = Suggested -1 to set to TKE levels.
ns=namelist/UM Science Settings/section03/1a_switches
sort-key=10
type=integer

[namelist:run_bl=subs_couple_fix]
compulsory=true
description=Suppress entrainment-subsidence coupling when
           = the w-profile is complex
ns=namelist/UM Science Settings/section03/9b_9c_switches
sort-key=04
value-titles=Off,On
values=0,1

[namelist:run_bl=tke_cm_fa]
compulsory=true
description=Diffusion coefficient Cm in free atmosphere
help=Cm is a coefficient in Km = Cm l SQRT(E) with the mixing length l.
    = Suggested value 0.1.
ns=namelist/UM Science Settings/section03/1a_switches
range=0.0:9999.0
sort-key=18
type=real

[namelist:run_bl=tke_cm_mx]
compulsory=true
description=Diffusion coefficient Cm below the top of mixed layer
help=Cm is a coefficient in Km = Cm l SQRT(E) with the mixing length l.
    = Suggested value 0.1.
ns=namelist/UM Science Settings/section03/1a_switches
range=0.0:9999.0
sort-key=17
type=real

[namelist:run_bl=tke_dlen]
compulsory=true
description=Method for calculating the mixing length
help=Suggested Mellor-Yamada method.
ns=namelist/UM Science Settings/section03/1a_switches
sort-key=19
value-titles=Mellor-Yamada method,Original Deardorff method,
            =Original Deardorff method with non-local like correction
values=1,2,3

[namelist:run_bl=tke_levels]
compulsory=true
description=Number of TKE levels
help="TKE_LEVELS" is similar to "NL_BL_LEVELS" in the original UM boundary
    = layer scheme. Usually the prognostic variables related to the turbulent
    = schemes have the same number of levels as BL_LEVELS because these
    = schemes have been designed for turbulence in boundary layer. However,
    =the top of BL_LEVELS is sometimes set near the top of the model (e.g.
    = UKV). If the same formulation is applied to the upper troposphere or
    = stratosphere,
    =where wind velocity and its shear are much larger
    = than those in boundary layer,
    =computational instabilities may arise.
    = It is recommended to use a level around 6km over the sea (e.g. 30
    = in the current global L70 model). -1 will default to bl_levels.
ns=namelist/UM Science Settings/section03/1a_switches
sort-key=02
type=integer

[namelist:run_bl=variable_ric]
compulsory=true
description=Use RiC=0.25 for SHARPEST function
help=This option allows the use of a critical Richardson number of
    = 0.25 instead of the standard value of 1.
ns=namelist/UM Science Settings/section03
sort-key=03
value-titles=Off,On
values=0,1

[namelist:run_bl=wb_ng_max]
compulsory=true
description=Maximum limit of the non-gradient buoyancy flux
help=The typical order of the non-gradient buoyancy flux is 1.0e-3m^2s^(-3).
    = However,
    =sometimes the diagnosed flux becomes quite large,
    =and generates a large jump in time series of TKE. In order to
    = avoid this (for safety),
    =the maximum limit for the flux is
    = imposed in m^2s^(-3). Suggested value 0.05.
ns=namelist/UM Science Settings/section03/1a_switches
range=0.0:9999.0
sort-key=11
type=real

[namelist:run_bl=zhloc_depth_fac]
compulsory=true
description=Fractional cloud height reached by local BL depth calculation
ns=namelist/UM Science Settings/section03/9b_9c_switches
range=0.0:1.0
sort-key=03
type=real

[namelist:run_calc_pmsl]
compulsory=true
ns=namelist/UM Science Settings/General Physics Options/PMSL Calculations

[namelist:run_calc_pmsl=l_pmsl_sor]
compulsory=true
description=Select PMSL smoothing algorithm
help=True  => Use SOR algorithm (default prior to UM7.8).
    =False => Use Jacobi algorithm (more scalable at high node counts)
    =
    =The relaxation to geostrophic wind algorithm was originally coded
    =using an SOR algorithm after gathering to a single processor. To
    =improve the scalability we have coded up an procedure which uses a
    =Jacobi algorithm and swaps data between processors.
value-titles=SOR,Jacobi
values=.true.,.false.

[namelist:run_calc_pmsl=npmsl_height]
compulsory=true
description=Height threshold for PMSL geostrophic wind calculation
help=Height threshold above which the PMSL is calculated using relaxation to
    =geostrophic wind,
    =as described in UMDP 80,section 4.5.2.
range=0.0:99999.0
type=real

[namelist:run_cloud]
compulsory=true
description=run_cloud
ns=namelist/UM Science Settings/section09
title=Section 09 - Large Scale Cloud

[namelist:run_cloud=allicetdegc]
compulsory=true
description=All condensate is detrained as ice by (deg C)
help=When the method for coupling PC2 to convection scheme is 3 or later,
    =this sets the temperature at which all condensate has detrained
    = to ice.
ns=namelist/UM Science Settings/section09/PC2
range=-99.0:0.0
sort-key=18
type=real

[namelist:run_cloud=cff_spread_rate]
compulsory=true
description=Ice cloud fraction spreading rate
help=When the effects of shear on falling ice cloud are either ignored
    = or derived from model winds,
    =this controls the rate at which ice
    = cloud fraction spreads.
range=0.0:1.0e-1
sort-key=09
type=real

[namelist:run_cloud=dbsdtbs_turb_0]
compulsory=true
description=Value of cloud erosion / s-1
help=The "value of cloud erosion" represents the relative rate of change
    = of width of the moisture PDF by cloud erosion processes when RH=1.
    =
    = For the RH based method,
    =it should be a NEGATIVE value to represent
    = mixing within the gridbox. In HadGEM2,
    =the standard value was
    = -2.25E-5 for 38-level simulations and -9.0E-5 for 70 level
    = simulations. Changing the erosion and is a way of tuning shallow
    = cumulus cloud in PC2. A value of -4.5e-5 was used in GA3.0.
    =
    =For the surface area methods,
    =it should be POSITIVE. Values of
    = 5.0e-5,
    =1.0e-4 and 2.0e-4 were tried when developing GA4.0.
ns=namelist/UM Science Settings/section09/PC2
range=-1.0e-2:1.0e-2
sort-key=14
type=real

[namelist:run_cloud=falliceshear_method]
compulsory=true
description=Select how shear affects falling ice cloud fraction
help=Falling ice increases the ice cloud fraction in the layer it falls
    = into. There is the option to include the effects of the further
    = increase in the grid-box cloud fraction due to the lateral
    = displacement as the ice falls because of the vertical shear of
    = the horizontal wind. Either:
    = a) the effects of shear can be ignored,
    =b) a globally constant shear (not calculated from the actual wind)
    =    can be assumed or
    = c) the effects of shear are considered and the shear is calculated
    =    from the model wind.
    =
    =When not using the globally constant value an additional ice cloud
    = fraction source term is used to represent the lateral spreading out
    = of ice cloud fraction while maintaining the same grid-box mean
    = ice water content.
sort-key=08
trigger=namelist:run_cloud=cff_spread_rate: 0,2
value-titles=Ignore the effects of shear,
            =Assume a globally constant
            =shear,
            =Use shear derived from model winds
values=0,1,2

[namelist:run_cloud=forced_cu]
compulsory=true
description=Forced convective clouds option
help=This option allows the creation of forced convective cloudy by PC2.
    = These are clouds formed between the lifting condensation level and
    = level of free convection,
    =and so are too shallow to be treated
    = by the convection scheme. Their existance is diagnosed from the
    = boundary layer scheme.
ns=namelist/UM Science Settings/section09/PC2
sort-key=19
trigger=namelist:run_cloud=forced_cu_fac: 1,2
value-titles=No forced cumulus clouds,
            =Include forced cumulus clouds in convective boundary layers,
            =Also used forced cumulus cloud as a minimum in cumulus layers
values=0,1,2

[namelist:run_cloud=forced_cu_fac]
compulsory=true
description=Factor to tune in-cloud water content for forced cumulus cloud
help=Tuning factor applied to the diagnosed (adiabatic) in-cloud water
    = content of forced cumulus clouds
ns=namelist/UM Science Settings/section09/PC2
range=0.0:2.0
sort-key=20
type=real

[namelist:run_cloud=i_cld_area]
compulsory=true
description=Cloud area parametrization method
help=The cloud area parametrization produces an estimate of the area
    = cloud fraction (looking down on a gridbox from above). This area
    = estimate (rather than the volume estimate) is used by the
    = Edwards-Slingo radiation scheme in order to calculate the
    = radiative impact of the cloud. There are two ways of calculating
    = the area cloud fraction. The first is to assume subgrid vertical
    = gradients in T and q,
    =following the method of Cusack (this method
    = also slightly alters the volume cloud fraction). A similar method
    = using interpolation and extrapolation of T and q profiles has also
    = been developed for use with PC2 (Boutle and Morcrette,
    =2010).
    =
    =The second method is to diagnostically relate the volume cloud
    = fraction to the area cloud fraction,
    =following the method of
    = Brooks (although this is not applied when convection is active).
sort-key=04
value-titles=No parametrization,Vertical gradient method,
            =Brooks empirical method
values=0,1,2

[namelist:run_cloud=i_pc2_conv_coupling]
compulsory=true
description=Method for coupling PC2 to convection scheme
help=1) Original code as described in Wilson et al (2008a,b),
    =with no consistency checks.
    =
    = 2) As 1) but with checks to ensure convection does not create
    =    unrealistically high in-cloud condensate amounts.
    =
    = 3) As 2) but the condensate detrained by convection is allowed
    =    to change phase smoothly from liquid to ice depending on
    =    temperature of environment (rather than being detrained with
    =    the same phase as in the convective plume,
    =which changes
    =    abruptly). The range of temperatures over which the condensate
    =    changes phase can be entered below.
    =
    = 4) As 3) but with effects of detrainment and subsidence on cloud
    =    fraction being considered seperately,
    =and with cloud fraction
    =    increments calculated by assuming new cloud has a specified
    =     in-cloud condensate amount. This option is still experimental!
    =
    = 5) As 4) but with effects of detrainment and subsidence on mixed-phase
    =    cloud fraction considered explicitly. This option is still
    =     experimental!
    =
    =When using Options 3 onwards,
    =the range of temperatures over which the
    = condensate changes phase can be entered via the GUI.
ns=namelist/UM Science Settings/section09/PC2
sort-key=16
trigger=namelist:run_cloud=starticetkelvin: 3,4,
       =5;
       =namelist:run_cloud=allicetdegc: 3,4,5;
values=1,2,3,4,5

[namelist:run_cloud=i_pc2_erosion_method]
compulsory=true
description=Method for doing PC2 cloud erosion
help=RH based method as described in Wilson et al (2008). A relative rate of
    = narrowing of the moisture PDF is calculated from the relative humidity.
    = Self consistent changes in qcl and CFL are then inferred from the change
    = in the PDF width.
    =
    =Surface area-Tiedtke-PC2 hybrid method: cloud erosion reduces qcl in a
    = manner similar to the Tiedtke formulation,
    =but with an additional
    = dependence on the exposed surface area,
    =inferred from the cloud
    = fraction and the vertical overlap. The relative rate of narrowing
    = which would have led to the same reduction of qcl is then used to
    = infer the change in CFL in a manner consistent with the PC2 moisture
    = PDF assumptions. This method is still experimental.
    =
    =The third option is similar,
    =but the exposed surface area depends
    = on the lateral sides only and not on the top and bottom faces.
ns=namelist/UM Science Settings/section09/PC2
sort-key=13
value-titles=RH based method,Surface area method using all faces,
            =Surface area method using lateral faces
values=1,2,3

[namelist:run_cloud=i_rhcpt]
compulsory=true
description=RHCrit parametrization method
help=If no parametrization is selected,
    =the values in the table below
    = are used.
    =
    =The horizontal variability method diagnoses RHcrit from the
    = variability in moisture and temperature in the grid-boxes
    = around each grid-box. The parameters for this option were
    = originally hard-wired to N48 values but now vary according
    = to the mean horizontal size of the gridbox.
    =
    =The boundary layer TKE based method predicts the sub-grid
    = variability based on the gradients,
    =eddy diffusivities and
    = TKE predicted by the boundary layer scheme. It does still
    = make use of the table values in the microphysics code for
    = parametrizing the RH of the clear sky portion of the grid-box.
sort-key=02
trigger=namelist:run_cloud=rhcrit: 0,2
value-titles=No parametrization,Horizontal variability method,
            =Boundary layer TKE based method
values=0,1,2

[namelist:run_cloud=ice_width]
compulsory=true
description=Width of vapour distribution in liquid-free part of gridbox
help=Ice width specifies the ice content (in terms of a fraction of
    = qsat_liq) that corresponds to a factor of two reduction in the
    = width of the vapour distribution in the liquid-free part of the
    = gridbox. This is only available if a subgrid partitioning of
    = out-of-liquid-cloud water vapor is requested (l_subgrid_qv=true).
range=0.0:1.0
sort-key=10
type=real

[namelist:run_cloud=l_add_cca_to_mcica]
compulsory=true
description=Include convective cloud in cloud generator
help=Allows radiation to "see" convective cloud when McICA
    = scheme is in use by adding the convective cloud directly
    = to the cloud generator.
    =
    = If this option is selected,
    =appropriate settings for CCA
    = and CCW tunings in the Convective Cloud panel must be set.
sort-key=07
type=logical

[namelist:run_cloud=l_ceil_cld_filter]
compulsory=true
description=Remove clouds above max detectable range of ceilometers
help=To ensure a fair comparison between the model-produced cloud
    =diagnostics and the ceilometer-based observations used to verify
    =the model,
    =it is sometimes necessary to remove from the diagnostics
    =the contributions due to clouds which are located above the maximum
    =height that a ceilometer could detect them. That is to remove the
    =clouds that the model produces but that the observational instrument
    =would never see.
sort-key=05b
type=logical

[namelist:run_cloud=l_eacf]
compulsory=true
description=Use empirically adjusted cloud fraction parametrization
help=This option will provide an artificial boost to the cloud fractions
    = (although not the condensate contents) to better agree with
    = observations of cloud fraction and water contents. It is included
    = as a fix to underprediction of cloud in the forecast models and is
    = not physically consistent with the Smith PDF.
sort-key=12
type=logical

[namelist:run_cloud=l_ensure_min_in_cloud_qcf]
compulsory=true
description=Ensure a minimum in-cloud ice water content
help=Ensures that the model does not have very high ice cloud fractions
    = with very little ice water content in them by reducing the ice
    = cloud fraction to ensure a minimum in-cloud ice water content of
    = 1.0e-6.
ns=namelist/UM Science Settings/section09/PC2
sort-key=20
type=logical

[namelist:run_cloud=l_fixbug_pc2_mixph]
compulsory=true
description=Use consistent formulation of mixed phase cloud fraction
help=Selecting this option removes a number of inconsistencies with the
    = treatment of mixed phase cloud fraction that were present in the
    = code pre vn8.2. These are:
    = 1) Advect the mixed phase cloud fraction instead of the bulk cloud
    =    fraction,
    =which gives better behaved numerics of the advection
    =    scheme.
    = 2) Use minimum overlap for ice and liquid cloud fraction everywhere,
    =rather than a mixture of minimum and random.
    = 3) Use two different equations for the boundary layer ice cloud
    =    fraction change,
    =depending on whether the ice water content has
    =    increased or decreased,
    =rather than one equation that assumes an
    =    increase only.
    = 4) Treat points where cloud fraction > 1 as if cloud fraction = 1,
    =rather than treating them as if cloud fraction = 0.
ns=namelist/UM Science Settings/section09/PC2
sort-key=21
type=logical

[namelist:run_cloud=l_micro_eros]
compulsory=true
description=Include Erosion prior to Microphysics
help=Standard PC2 settings implement the erosion parametrization as part
    = of the homogeneous response to convection. However,
    =if PC2 is being
    = used in a convection-permitting configuration of the UM,
    =where the convection parametrization is not active,
    =then
    = this means that the erosion process would be missed out. This
    = option calculates the erosion process prior to the microphysics
    = instead.
ns=namelist/UM Science Settings/section09/PC2
sort-key=15
type=logical

[namelist:run_cloud=l_od_cld_filter]
compulsory=true
description=Filter optically-thin ice clouds from diagnostics
help=The model can sometimes have grid-boxes where the cloud fraction
    = is high,
    =but where the ice water content is so small that the
    = cloud is unlikely to have a significant radiative impact and
    = counting that layer as cloudy would be misleading when it comes
    = to verifying the model against observations when the sky appears
    = relatively clear. Selecting this option leads to a simple optical
    = depth calculating being done and setting cloud fraction to zero
    = if the optical depth is below a user-specified threshold.
    =This is done using a simple approach,
    =neglecting the fact that
    = multiple thin layers could add up to an optically thick layer.
    = Additionally,
    =this option does not make use of sub-grid
    = heterogeneity information,
    =such as is used for McICA. This option
    = only modifies the diagnostics and does not affect the evolution
    = of the model.
sort-key=05a
trigger=namelist:run_cloud=tau_thresh: .true.
type=logical

[namelist:run_cloud=l_pc2]
compulsory=true
description=Use prognostic cloud scheme PC2 (T) or diagnostic Smith scheme (F)
help=Choosing the PC2 scheme creates Prognostic Cloud and Prognostic
    = Condensate variables,
    =which are incremented as a result of
    = each process that occurs in the model.
    =
    =Choosing the Smith scheme uses the diagnostic cloud fraction
    = and condensate variables,
    =based on a symmetric triangular
    = PDF of subgrid variability.
sort-key=01
trigger=namelist:run_cloud=l_eacf: .false.;
       =namelist:run_cloud=i_pc2_erosion_method: .true.;
       =namelist:run_cloud=dbsdtbs_turb_0: .true.;
       =namelist:run_cloud=l_micro_eros: .true.;
       =namelist:run_cloud=i_pc2_conv_coupling: .true.;
       =namelist:run_cloud=forced_cu: .true.;
       =namelist:run_cloud=l_ensure_min_in_cloud_qcf: .true.;
       =namelist:run_cloud=l_fixbug_pc2_mixph: .true.;
       =namelist:run_cloud=l_pc2_lbc: .true.;
       =namelist:run_cloud=l_pc2_check_init: .true.;
type=logical

[namelist:run_cloud=l_pc2_check_init]
compulsory=true
description=Always run pc2_checks when the model starts
help=The pc2_checks subroutine ensures that the model cloud and moisture
    =variables are physically consistent with the pc2 cloud scheme. Switching
    =this to true ensures that pc2_checks is always run when the model starts.
ns=namelist/UM Science Settings/section09/PC2
sort-key=23
type=logical

[namelist:run_cloud=l_pc2_lbc]
compulsory=true
description=Use PC2 lateral boundary conditions
help=Switch on the use of lateral boundary conditions for PC2 variables
ns=namelist/UM Science Settings/section09/PC2
sort-key=22
type=logical

[namelist:run_cloud=l_sharpen_cbh_diags]
compulsory=true
description=Sharpen the cloud profile used for diags
help=Modify the CBH diagnostics in a manner
    =consistent with sharpening the humidity PDF
    =and with sharpening the clear/cloud boundary
sort-key=05c
type=logical

[namelist:run_cloud=l_subgrid_qv]
compulsory=true
description=Calculate a partitioning of water vapor outside of liquid cloud
help=Setting this option to true partitions the out-of-liquid-cloud water vapor
    =in each gridbox between clear-sky and sublimating and depositing ice-cloud
    =regions. If this is turned off then qv is the same throughout the
    =clear-sky and ice-cloud parts of each gridbox. Which means that the ice
    =is either entirely sublimating of entirely growing,
    =depending on the value of
    =the in-ice-cloud relative humidity.
sort-key=12
trigger=namelist:run_cloud=ice_width: .true.
type=logical

[namelist:run_cloud=rhcrit]
compulsory=true
description=Critical relative humidity
help=The critical relative humidity is used in the cloud scheme to define the
    = ratio at which cloud starts to form. Different values are used in
    = different configurations and you are advised to look at standard jobs
    = to see the settings.
    = The number of values must match the number of wet levels in the model.
length=:
sort-key=03
type=real

[namelist:run_cloud=starticetkelvin]
compulsory=true
description=Start detraining condensate as ice at (Kelvin)
help=When the method for coupling PC2 to convection scheme is 3 or later,
    =this sets the temperature at which detraining condensate as
    = ice begins.
ns=namelist/UM Science Settings/section09/PC2
range=0.01:999.99
sort-key=17
type=real

[namelist:run_cloud=tau_thresh]
compulsory=true
description=Optical-depth threshold
help=Threshold of optical depth below which the cloud fraction will
    = be set to zero when l_filter_cloud is true.
range=0.000:1.000
sort-key=06
type=real

[namelist:run_convection]
compulsory=true
description=run_convection
ns=namelist/UM Science Settings/section05
title=Section 05 - Convection

[namelist:run_convection=a_convect_seg_size]
compulsory=true
description=Size of convection segments (alternative to No. of convection segments)
help=Method of optimising convectioncode use this or a_convect_segments
    = Seek help from local experts as what is best for your supercomputer.
ns=namelist/UM Science Settings/section05
range=1:999999,-99
sort-key=5a-03
type=integer

[namelist:run_convection=a_convect_segments]
compulsory=true
description=No of batches (or "segments") used in convection
help=Method of optimising convection code use this or a_convect_seg_size
    = Seek help from local experts as what is best for your supercomputer.
ns=namelist/UM Science Settings/section05
range=1:99,-99
sort-key=5a-04
type=integer

[namelist:run_convection=adapt]
compulsory=true
description=Adaptive detrainment option
help=This makes the proportion cloudy air detrained on a given model level
    = depend on the rate at which the buoyancy of the plume decreases with
    = height,
    =giving smoother mass flux profiles.
    = Operational models and HadGEM1a apply this to both mid and deep convection.
    = 0: 4A Scheme (Default)
    = 1: Adaptive detrainment: mid and deep convection
    = 2: experimental
    = 3: Adaptive detrainment,
    =deep convection
    = 4: Ditto,shallow,
    =mid and deep convection
    = 5: Smoothed adaptive detrainment,
    =mid and deep convection
    = 6: Ditto,shallow,
    =mid and deep convection;
    = 7,8: improved versions of 5,6
ns=namelist/UM Science Settings/section05/updraughts
range=0:8
sort-key=5d-up-fdet-01
type=integer

[namelist:run_convection=amdet_fac]
compulsory=true
description=Deep mixing entrainment control parameter.
help=Deep mixing detrainment
    = If some form of adaptive forced detrainment is chosen then
    = deep mixing detrainment is
    = amdet_fac*(1-RH)*E
    = where RH=rel. humidity,
    =E=entrainment rate. Usually =1.5
ns=namelist/UM Science Settings/section05/updraughts
range=0:10
sort-key=5d-up-mdet-01
type=real

[namelist:run_convection=anv_opt]
compulsory=true
description=Anvil profile basis
help=The anvil profile basis selects the vertical property with which
    = to apply the anvil profile:
    =
    = 0 - Pressure
    = 1 - Height
    = 2 - Model levels (Pre-UM vn6.6) (default if anvil basis not specified).
    = 3-9 - For future use,
    =will default to Pressure if used.
ns=namelist/UM Science Settings/section05/cloud_opts
sort-key=cloud-anvil-03
values=0,1,2

[namelist:run_convection=anvil_factor]
compulsory=true
description=Defining anvil factor.
help=The radiative representation of anvils modifies the convective
    = cloud amount (CCA) to vary with height during deep convection.
    =
    = This option REQUIRES a 3D Convective Cloud Field.
    = The CCA is multiplied by the namelist:run_convection=tower_factor
    = tower factor from the cloud base to the freezing level,
    =and increased
    = linearly from the freezing level to the cloud top. The cloud top value
    = is equal to the original CCA multiplied by the
    = namelist:run_convection=anvil_factor anvil factor.
ns=namelist/UM Science Settings/section05/cloud_opts
range=0:3
sort-key=cloud-anvil-04
type=real

[namelist:run_convection=bl_cnv_mix]
compulsory=true
description=Sub cloud mixing method
help=Sub cloud mixing method (4A and 5A) - alternative methods of
    = mixing the convective increments below cloud base.
    =
    = 0 - original mixing. Mixes the convective temperature and humidity
    = increments from all sources below cloud base such that the total
    = convective increments are constant between the surface and the LCL.
    =
    = 1 - mix the initial perturbation increment only. Only the temperature
    = and humidity increments from the initial parcel perturbation are
    = mixed between the surface and the LCL. The increments from other
    = convective sources (i.e. downdraughts,
    =evaporation of precipitation
    = and updraught compensating subsidence) are not mixed.
ns=namelist/UM Science Settings/section05/main_switches
sort-key=5c-main-switch-10
values=0,1

[namelist:run_convection=cape_bottom]
compulsory=true
description=Lowest model level for rescaling parametrized convection
help=Usually set to a value above level 1
ns=namelist/UM Science Settings/section05/closure
range=1:
sort-key=5e-closure-03
type=integer

[namelist:run_convection=cape_min]
compulsory=true
description=Value of CAPE below which parametrized convection is reduced (J/kg).
help=Suggested values are 0.5 J/kg for the 4 km model and 250.0J/kg
    =for the 12 km model.
ns=namelist/UM Science Settings/section05/closure
range=0:2000
sort-key=5e-closure-06
type=real

[namelist:run_convection=cape_timescale]
compulsory=true
description=Timescale in seconds for CAPE closure scheme
help=This determines the e-folding time for the dissipation of CAPE.
    = There is some observational evidence for a timescale of the order of
    = an hour. The 4A scheme seems to work better with a shorter CAPE
    = timescale of around half an hour (1800 secs).
ns=namelist/UM Science Settings/section05/closure
range=1:9999999
sort-key=5e-closure-02
type=real

[namelist:run_convection=cape_top]
compulsory=true
description=Highest model level for rescaling parametrized convection
help=Usually set to a level above which convection is unlikely to go
    = i.e. the stratosphere
ns=namelist/UM Science Settings/section05/closure
sort-key=5e-closure-04
type=integer

[namelist:run_convection=cca2d_dp_opt]
compulsory=true
description=Mid level convective cloud settings: CCA 2D basis
help=CCA 2D is currently based on Total Condensed Water(TCW).
    = Though this assumes that there is only one contiguous cloud in the
    = vertical per gridbox. However,
    =mid-level cloud is allowed on the same
    = timestep and gridbox as shallow or deep convection.
    = By using a 2D field such as TCW,
    =lower cloud (shallow,
    =deep) is able to
    = affect the CCA of higher cloud(mid-level). CCRad decouples mid-level
    = convection from shallow and deep by using TCW from the respective cloud
    = type to determine its particular CCA profile.
    =
    = The 2D field to base CCA 2D can be set for the given convective cloud
    = type:
    =
    = 0 - Use TCW
    = 1 - Use Surface convective rain rate
    = 2-9 - For future use,
    =will default to TCW if used
ns=namelist/UM Science Settings/section05/cloud_opts
sort-key=cloud-ccrad-04
values=0,1

[namelist:run_convection=cca2d_md_opt]
compulsory=true
description=Mid level convective cloud settings: CCA 2D basis
help=CCA 2D is currently based on Total Condensed Water(TCW).
    = This assumes that there is only one contiguous cloud in the
    = vertical per gridbox. However,
    =mid-level cloud is allowed on the same
    = timestep and gridbox as shallow or deep convection.
    =
    = By using a 2D field such as TCW,
    =lower cloud (shallow,
    =deep) is able to
    = affect the CCA of higher cloud(mid-level). CCRad decouples mid-level
    = convection from shallow and deep by using TCW from the respective cloud
    = type to determine its particular CCA profile.
    =
    = The 2D field to base CCA 2D can be set for the given convective cloud
    = type:
    =
    = 0 - Use TCW
    = 1 - Use Surface convective rain rate
    = 2-9 - For future use,
    =will default to TCW if used
ns=namelist/UM Science Settings/section05/cloud_opts
sort-key=cloud-ccrad-07
values=0,1

[namelist:run_convection=cca2d_sh_opt]
compulsory=true
description=Shallow convective cloud settings: CCA 2D basis
help=CCA 2D is currently based on Total Condensed Water(TCW).
    = Though this assumes that there is only one contiguous cloud in the
    = vertical per gridbox. However,
    =mid-level cloud is allowed on the same
    = timestep and gridbox as shallow or deep convection. by using a 2D
    = field such as TCW,
    =lower cloud (shallow,
    =deep) is able to affect the
    = CCA of higher cloud(mid-level). CCRad decouples mid-level convection
    = from shallow and deep by using TCW from the respective cloud type to
    = determines its particular CCA profile. The 2D field to base CCA 2D can
    = be set via "CCA 2D Basis" for the given convective cloud type:
    =
    = 0 - Use TCW
    = 1 - Use cloud base mass flux divided by convective velocity scale and
    =overlap factor proportional to the ratio of the cloud to sub-cloud
    =layer depths.
    = 2 - Use cloud base mass flux divided by convective velocity scale.
    = 3-9 - For future use,
    =will default to TCW if used
ns=namelist/UM Science Settings/section05/cloud_opts
sort-key=cloud-ccrad-01
values=0,1,2

[namelist:run_convection=cca_dp_knob]
compulsory=true
description=Deep convective cloud settings: CCA scaling
ns=namelist/UM Science Settings/section05/cloud_opts
range=0:10
sort-key=cloud-ccrad-05
type=real

[namelist:run_convection=cca_md_knob]
compulsory=true
description=Mid level convective cloud settings: CCA scaling
ns=namelist/UM Science Settings/section05/cloud_opts
range=0:10
sort-key=cloud-ccrad-08
type=real

[namelist:run_convection=cca_min]
compulsory=true
description=Convective Cloud Fraction threshold.
help=Convective Cloud Fraction threshold.
    = If cloud cover at any level falls below this fractional threshold
    = (e.g. 2%),
    =then the cloud in that level is set to zero. Usually =0.02
ns=namelist/UM Science Settings/section05/cloud_opts
range=0.001:0.4
sort-key=cloud-decay-04
type=real

[namelist:run_convection=cca_sh_knob]
compulsory=true
description=Shallow convective cloud settings: CCA scaling
ns=namelist/UM Science Settings/section05/cloud_opts
range=0:10
sort-key=cloud-ccrad-02
type=real

[namelist:run_convection=ccw_dp_knob]
compulsory=true
description=Deep convective cloud settings: CCW Scaling
ns=namelist/UM Science Settings/section05/cloud_opts
range=0:10
sort-key=cloud-ccrad-06
type=real

[namelist:run_convection=ccw_for_precip_opt]
compulsory=true
description=Critical convective cloud condensate option.
help=Critical convective cloud condensate options:
    = Usually =2
    = 0 - Original code: after a critical depth is reached the critical cloud
    = condensate,
    =which is the maximum cloud condensate that can be retained
    = in a layer,
    =is set to MIN(MPARWTR,
    =fac_qsat*QSatEnv). Condensate above
    = this limit is converted to precipitation. By default the critical depths
    = are 1 km for ice cloud,
    =4 km for liquid cloud over land,
    =and 1.5 km for
    = liquid cloud over the ocean. The differences in critical depths are an
    = attempt to take account of different aerosol concentrations over
    = continental and oceanic regions,
    =and the differences in the microphysics
    = between liquid and ice clouds. If PC2 is switched on then a minimum
    = value (qlmin) is also applied to the critical cloud condensate.
    =
    = 1 - As option 0 but removes the critical depths and doubles the critical
    = cloud condensate for liquid clouds over land.
    =
    = 2 - As option 1 but replaces MPARWTR with
    = MPARWTR*(2.0+tanh((1500-depth)/1000))
    = where depth is the current depth within the convective cloud.
    =
    = 3 - As option 1 but replaces MPARWTR with
    = MPARWTR*(1.5+0.5*tanh((3000-depth)/800))
    = where depth is the current depth within the convective cloud.
    =
    = 4 - Sets the critical cloud condensate to be
    = MIN(MAX(fac_qsat*QSat_Env,
    =qlmin),
    =mparwtr)
    = The same profile is used over both land and sea and no attempt is made
    = to take account differences in aerosol concentrations.
ns=namelist/UM Science Settings/section05/updraughts
sort-key=5d-up-ccw-01
values=0,1,2,3,4

[namelist:run_convection=ccw_md_knob]
compulsory=true
description=Mid level convective cloud settings: CCW Scaling
ns=namelist/UM Science Settings/section05/cloud_opts
range=0:10
sort-key=cloud-ccrad-09
type=real

[namelist:run_convection=ccw_sh_knob]
compulsory=true
description=Shallow convective cloud settings: CCW Scaling
ns=namelist/UM Science Settings/section05/cloud_opts
range=0:10
sort-key=cloud-ccrad-03
type=real

[namelist:run_convection=cld_life_opt]
compulsory=true
description=Cloud decay lifetime option
help=The option Cloud Decay lifetime specifies:
    = 0 - Fixed Cloud lifetime
    = 1 - Varies cloud lifetime with height.
    = 2-9 - For future use,
    =will default to fixed cloud lifetime if used
ns=namelist/UM Science Settings/section05/cloud_opts
sort-key=cloud-decay-02
values=0,1

[namelist:run_convection=cldbase_opt_dp]
compulsory=true
description=Choice of closure scheme for deep convection
help=CAPE option
    =
    = The deep convective mass flux schemes use a closure based
    = on convective available potential energy (CAPE).
    = CAPE timescale: this determines the e-folding time for the dissipation
    = of CAPE. There is some observational evidence for a timescale
    = of the order of an hour. The scheme seems to work better with a shorter
    = CAPE timescale of around half an hour (1800 secs).
    =
    = The following variants of the CAPE closure are available where the
    = number in brackets is the value of the cldbase_op_dp variable;
    = 0 - CAPE timescale is reset depending on relative humidity
    =     with a minimum timescale of 5 minutes. This reflects the fact that
    =     humid environments are more unstable to convection.
    =     (Not recommended for use as timescales less than the model convection
    =     timestep. Use options 1 or 6.)
    = 1 - CAPE timescale reset depending on relative humidity,
    =with a minimum timescale equal to convection timestep.
    = 2 - Fixed CAPE timescale as set in Rose panel. Note that short timescales
    =     may result in intermittent convection,
    =while very long timescales
    =     may not remove instabilities fast enough,
    =leaving the model at
    =     risk of grid point storms. (Original CAPE closure.)
    = 3 - Vertical velocity dependent CAPE timescale. Currently used by global,
    =NAE and HadGEM3. The CAPE timescale is reduced if the maximum vertical
    =     velocity in a column (w_max) exceeds a critical value w_cape_limit set
    =     in this Rose panel. w_max is evaluated between level set by
    =     CAPE_bottom and CAPE_top. The choice of w_cape_limit depends on
    =     resolution. Higher resolution models will remain stable with vertical
    =     velocities which would cause a low resolution model to develop a grid
    =     point storm.
    = 4 - Grid-box area scaled CAPE timescale. May be used for high resolution
    =     models (1km,
    =4km) if convection is still being used. Convection is
    =     modified to be less active as the area of the grid box is decreased.
    =     As the CAPE timescale is increased the activity of the parametrized
    =     convection is reduced. The user needs to set the minimum value of
    =     CAPE namelist:run_convection=cape_min ; above this value,
    =the CAPE timescale is approximately unchanged,
    =while below the
    =     CAPE timescale will be lengthened in proportion to the value of
    =     CAPE (suggested values for namelist:run_convection=cape_min are 0.5
    =     J/kg for the 4 km model and 250.0J/kg for the 12 km model).
    = 5 - Option not available
    = 6 - CAPE timescale dependent on relative humidity but reduced if the vertical
    =     velocity exceeds w_max (see option 3). Minimum CAPE timescale is the
    =     model convection timestep. Recommended reference CAPE timescale for use
    =     with this option is 7200s ( namelist:run_convection=cape_timescale )
    = 7 - CAPE timescale dependent on the large-scale vertical velocity averaged
    =     over the depth of convection in the column (wls). If wls is zero or
    =     negative a maximum timescale of 4 hours is used otherwise the
    =     CAPE timescale,
    =tau = a*wls^b
    =     High resolution models tend to have stronger vertical velocities so
    =     are more likely to have shorter CAPE timescales.
    = 8 - CAPE timescale dependent on the large-scale vertical velocity,
    =wls. If
    =     the vertical velocity averaged over the depth of the convection
    =     is zero or negative a boundary layer wstar closure is used.
    =     High resolution models tend to have stronger vertical velocities
    =     so are more likely to have shorter CAPE timescales.
    = 9 - Closure based on wstar (boundary surface fluxes) and large-scale
    =     vertical velocity averaged over the depth of the convection (wls).
    =     There is no CAPE element to this closure. A research option not
    =     recommended for general use.
ns=namelist/UM Science Settings/section05/closure
sort-key=5e-closure-01a
# trigger needs to be cape_opt OR cldbase_opt_dp OR cldbase_opt_md
# for these variables to be required
#trigger=namelist:run_convection=cape_bottom: 3,4,6;
#       =namelist:run_convection=cape_top: 3,4,6;
#       =namelist:run_convection=w_cape_limit: 3,4,6;
#       =namelist:run_convection=cape_min: 4
values=0,1,2,3,4,6,7,8,9

[namelist:run_convection=cldbase_opt_md]
compulsory=true
description=Choice of closure scheme for mid-level convection
help=CAPE option
    =
    = The mid-level convective mass flux schemes use a closure based
    = on convective available potential energy (CAPE).
    = CAPE timescale: this determines the e-folding time for the dissipation
    = of CAPE. There is some observational evidence for a timescale
    = of the order of an hour. The scheme seems to work better with a shorter
    = CAPE timescale of around half an hour (1800 secs).
    =
    = The following variants of the CAPE closure are available where the
    = number in brackets is the value of the cldbase_opt_md variable;
    = 0 - CAPE timescale is reset depending on relative humidity
    =     with a minimum timescale of 5 minutes. This reflects the fact that
    =     humid environments are more unstable to convection.
    =     (Not recommended for use as timescales less than the model convection
    =     timestep. Use options 1 or 6.)
    = 1 - CAPE timescale reset depending on relative humidity,
    =with a minimum timescale equal to convection timestep.
    = 2 - Fixed CAPE timescale as set in Rose panel. Note that short timescales
    =     may result in intermittent convection,
    =while very long timescales
    =     may not remove instabilities fast enough,
    =leaving the model at
    =     risk of grid point storms. (Original CAPE closure.)
    = 3 - Vertical velocity dependent CAPE timescale. Currently used by global,
    =NAE and HadGEM3. The CAPE timescale is reduced if the maximum vertical
    =     velocity in a column (w_max) exceeds a critical value w_cape_limit set
    =     in this Rose panel. w_max is evaluated between level set by
    =     CAPE_bottom and CAPE_top. The choice of w_cape_limit depends on
    =     resolution. Higher resolution models will remain stable with vertical
    =     velocities which would cause a low resolution model to develop a grid
    =     point storm.
    = 4 - Grid-box area scaled CAPE timescale. May be used for high resolution
    =     models (1km,
    =4km) if convection is still being used. Convection is
    =     modified to be less active as the area of the grid box is decreased.
    =     As the CAPE timescale is increased the activity of the parametrized
    =     convection is reduced. The user needs to set the minimum value of
    =     CAPE namelist:run_convection=cape_min ; above this value,
    =the CAPE timescale is approximately unchanged,
    =while below the
    =     CAPE timescale will be lengthened in proportion to the value of
    =     CAPE (suggested values for namelist:run_convection=cape_min are 0.5
    =     J/kg for the 4 km model and 250.0J/kg for the 12 km model).
    = 5 - Option not available
    = 6 - CAPE timescale dependent on relative humidity but reduced if the vertical
    =     velocity exceeds w_max (see option 3). Minimum CAPE timescale is the
    =     model convection timestep. Recommended reference CAPE timescale for use
    =     with this option is 7200s ( namelist:run_convection=cape_timescale )
    = 7 - CAPE timescale dependent on the large-scale vertical velocity averaged
    =     over the depth of convection in the column (wls). If wls is zero or
    =     negative a maximum timescale of 4 hours is used otherwise the
    =     CAPE timescale,
    =tau = a*wls^b
    =     High resolution models tend to have stronger vertical velocities so
    =     are more likely to have shorter CAPE timescales.
ns=namelist/UM Science Settings/section05/closure
sort-key=5e-closure-01b
# trigger needs to be cape_opt OR cldbase_opt_dp OR cldbase_opt_md
# for these variables to be required
#trigger=namelist:run_convection=cape_bottom: 3,4,6;
#       =namelist:run_convection=cape_top: 3,4,6;
#       =namelist:run_convection=w_cape_limit: 3,4,6;
#       =namelist:run_convection=cape_min: 4
values=0,1,2,3,4,6,7

[namelist:run_convection=cldbase_opt_sh]
compulsory=true
description=Choice of closure scheme for shallow convection
help=Shallow closure scheme options
    = 0 - Closure based on boundary layer fluxes
    = 1 - Grey zone combination of boundary layer fluxes and fixed
    =     timescale CAPE closure - only available with Smagorinsky
    =     diffusion enabled and recommended to switch off deep convection
    =     (iconv_deep=0).  Additionally parametrized convection
    =     is restricted only to trigger when the resolved vertical
    =     velocity at the liftling condensation level is greater than
    =     the "w test for shallow convection",
    =and enhanced entrainment
    =     and detrainment rates more suited to shallow convection are
    =     applied.
ns=namelist/UM Science Settings/section05/closure
sort-key=5e-closure-01c
values=0,1

[namelist:run_convection=cnv_wat_load_opt]
compulsory=true
description=Water Loading Option
help=Water Loading Option.
    = How water loading is included in the convection scheme.
    =
    = 0 - Ignore the effects of water loading (default). When this option is
    = selected,
    =the rate of change of CAPE calculation assumes that all
    = the detrained condensate is immediately evaporated even when PC2 is
    = switched on.
    =
    = 1 - Include the effects of water loading in the calculation of buoyancy,
    =CAPE and the rate of change of CAPE.
ns=namelist/UM Science Settings/section05/main_switches
sort-key=5c-main-switch-11
value-titles=0 - ignored,1 - include
values=0,1

[namelist:run_convection=cvdiag_inv]
compulsory=true
description=Inversion test for determining shallow convection.
help=Inversion test for determining shallow convection.
    =
    = 0 - no inversion test for determining shallow convection
    = 1 - original inversion test for shallow convection
    = 2 and above - future tests (none at present).
ns=namelist/UM Science Settings/section05/diagnosis
sort-key=5b-02
values=0,1

[namelist:run_convection=cvdiag_sh_wtest]
compulsory=true
description=w test value for shallow convection
help=w test value for shallow convection.
    = Original value used 0.0m/s,
    =now recommend a value of 0.02m/s.
ns=namelist/UM Science Settings/section05/diagnosis
range=-1:1
sort-key=5b-03
type=real

[namelist:run_convection=dd_opt]
compulsory=true
description=Standard mass flux Downdraught scheme options:
help=0 - original code
    = 1 - revised code (recommended option)
ns=namelist/UM Science Settings/section05/downdraughts
sort-key=5g-dd-02
value-titles=0 - original,1 - revised
values=0,1

[namelist:run_convection=deep_cmt_opt]
compulsory=true
description=Deep CMT tunings
help=0: 4A Scheme (turbulence based,
    =default)
    = 1: Operational 70 level (modified 4A scheme)
    = 2: Gregory-Kershaw scheme
    = 3: New turbulence based scheme
ns=namelist/UM Science Settings/section05/cmt
sort-key=cmt-02
values=0,1,2,3,4,5

[namelist:run_convection=dil_plume_water_load]
compulsory=true
description=Water loading for dilute plume in diagnosis (5A and 6A)
help=Water loading options for convective diagnosis 5A and 6A schemes.
    = Same set of values available for both undilute and dilute plumes
    =
    = 0 - water loading kept for whole of parcel ascent - default option
    =
    = 1 - if water loading exceeds 1g/kg it is removed from the plume.
    =
    = 2 - if water loading exceeds a profile based on qsat it is removed from the plume.
ns=namelist/UM Science Settings/section05/diagnosis
sort-key=5b-05
values=0,1,2

[namelist:run_convection=eff_dcff]
compulsory=true
description=Efficiency of frozen cloud creation
help=This defines the efficiency by which frozen cloud fraction
    = from detrained frozen convective cloud condensate. A larger value
    = will create a larger cloud fraction for a given amount of detrained
    = condensate. Values will typically be between  0.1 and 1.0.
ns=namelist/UM Science Settings/section05/updraughts
range=0.0:1.0
sort-key=5d-up-fdet-05
type=real

[namelist:run_convection=eff_dcfl]
compulsory=true
description=Efficiency of liquid cloud creation
help=This defines the efficiency by which liquid cloud fraction
    = from detrained liquid convective cloud condensate. A larger value
    = will create a larger cloud fraction for a given amount of detrained
    = condensate. Values will typically be between  0.1 and 1.0.
ns=namelist/UM Science Settings/section05/updraughts
range=0.0:1.0
sort-key=5d-up-fdet-04
type=real

[namelist:run_convection=ent_dp_power]
compulsory=true
description=Power for deep entrainment option 3.
help=(namelist:run_convection=ent_opt_dp value 3)
    = Only applies for 5A and 6A convection.
ns=namelist/UM Science Settings/section05/updraughts
range=0:10
sort-key=5d-up-entdp-03
type=real

[namelist:run_convection=ent_fac_dp]
compulsory=true
description=Controls mid-level entrainment.
help=Factor multiplying entrinment expression.
    = Only applies to  5A and 6A convection.
ns=namelist/UM Science Settings/section05/updraughts
range=0:2
sort-key=5d-up-entdp-02
type=real

[namelist:run_convection=ent_fac_md]
compulsory=true
description=Controls mid-level entrainment.
help=Only applies to 5A and 6A convection.
ns=namelist/UM Science Settings/section05/updraughts
range=0:2
sort-key=5d-up-entmd-02
type=real

[namelist:run_convection=ent_md_power]
compulsory=true
description=Power for mid entrainment option 3.
help=(namelist:run_convection=ent_opt_md value 3)
    = Only applies to 5A and 6A convection.
ns=namelist/UM Science Settings/section05/updraughts
range=0:10
sort-key=5d-up-entmd-03
type=real

[namelist:run_convection=ent_opt_dp]
compulsory=true
description=Entrainment profile for deep convection,
           =allowed values 0-5 see help
help=Entrainment profile for deep convection,
    =in 5A and 6A convection.
    = 0: original Ap/(p*)^2
    = 1: n/z dependence where n=ent_fac
    = 2: As Ap/(p*)^2 but multiplied by extra factor
    =    f=1.+3.*(1.-(100000.-p(k))/(100000.-50000.))
    = 3: factor * (A/p*)*((p/p*)^ent_dp_power)
    = Options 4 & 5 are experimental options that
    = depend on the diagnosed depth of convection.
    = Available for 6a only.
    = 4: variable n/z style entrainment
    = 5: variable p/(p*)^2  style entrainment
ns=namelist/UM Science Settings/section05/updraughts
range=0:9
sort-key=5d-up-entdp-01
trigger=namelist:run_convection=ent_dp_power: 3;
type=integer

[namelist:run_convection=ent_opt_md]
compulsory=true
description=Entrainment profile for mid-level convection,values 0-3,
           =see help for options.
help=Entrainment profile for mid-level convection,
    =in 5A and 6A convection.
    = 0: original Ap/(p*)^2
    = 1: n/z dependence where n=ent_fac
    = 2: As Ap/(p*)^2 but multiplied by extra factor
    =    f=1.+3.*(1.-(100000.-p(k))/(100000.-50000.))
    = 3: factor * (A/p*)*((p/p*)^ent_md_power)
ns=namelist/UM Science Settings/section05/updraughts
sort-key=5d-up-entmd-01
trigger=namelist:run_convection=ent_md_power: 3;
value-titles=0 - ent_fac_md*Ap/(p*)^2,1 - ent_fac_md/z,2 - more complex,
            =3 - ent_fac_md* (A/p*)*((p/p*)^ent_md_power)
values=0,1,2,3

[namelist:run_convection=fac_qsat]
compulsory=true
description=QSat factor for critical cloud condensate
help=Qsat Factor
    = This sets fac_qsat which is the critical cloud condensate profile
    = expressed as a proportion of the saturated specific humidity of
    = environment,
    =QSatEnv.
ns=namelist/UM Science Settings/section05/updraughts
range=0:5
sort-key=5d-up-ccw-04
type=real

[namelist:run_convection=fdet_opt]
compulsory=true
description=Method of calculating forced detrainment rate.
           = 0: forced detrainment rate based on humidity equation
           = 1: forced detrainment rate based on theta equation
help=Only valid for the 6A scheme
    = 0: forced detrainment rate based on humidity equation
    = 1: forced detrainment rate based on theta equation
ns=namelist/UM Science Settings/section05/updraughts
range=0:1
sort-key=5d-up-fdet-03
type=integer

[namelist:run_convection=fixed_cld_life]
compulsory=true
description=Fixed Convective Cloud lifetime
ns=namelist/UM Science Settings/section05/cloud_opts
range=0:99999
sort-key=cloud-decay-03
type=real

[namelist:run_convection=i_convection_vn]
compulsory=true
description=Convection version
           =i_convection_vn = 0: No convection scheme,
           =only convective diagnosis.
           =i_convection_vn = 5: Turbulence and mass flux convection.
           =i_convection_vn = 6: Turbulence and revised updraught mass flux convection (Recommended).
help=0A - diagnosis scheme only like 6A diagnosis.
    = 5A convection scheme - Includes the mass flux scheme plus turbulent alternatives.
    =   The 5A mass flux scheme is currently used in operational models (GA6 physics & UKV)
    = 6A convection scheme - Includes the mass flux scheme plus turbulent alternatives.
    =  The updraught part of the mass flux scheme has be revised to remove various problems
    = in the 5A version. Users are recommended to consider switching to this scheme.
    = The 6A scheme is used by GA7 physics.
ns=namelist/UM Science Settings/section05
sort-key=5a-01
trigger=namelist:run_convection=l_cmt_heating: 6;
       = namelist:run_convection=mdet_opt_dp: 6;
       = namelist:run_convection=fdet_opt: 6;
       = namelist:run_convection=eff_dcfl: 6;
       = namelist:run_convection=eff_dcff: 6;
       = namelist:run_convection=l_param_conv: this !=0 ;
       = namelist:run_convection=l_ccrad: this !=0 ;
       = namelist:run_convection=l_3d_cca: this !=0 ;
       = namelist:run_convection=l_conv_hist: this !=0 ;
       = namelist:run_convection=n_conv_calls: this !=0 ;
       = namelist:run_convection=a_convect_seg_size: this !=0 ;
       = namelist:run_convection=a_convect_segments: this !=0 ;
       = namelist:run_convection=iconv_shallow: this !=0 ;
       = namelist:run_convection=iconv_deep: this !=0 ;
       = namelist:run_convection=iconv_mid: this !=0 ;
       = namelist:run_convection=l_safe_conv: this !=0 ;
       = namelist:run_convection=l_murk_conv: this !=0 ;
       = namelist:run_convection=bl_cnv_mix: this !=0 ;
       = namelist:run_convection=cnv_wat_load_opt: this !=0 ;
       = namelist:run_convection=mid_cnv_pmin: this !=0 ;
       = namelist:run_convection=tice: this !=0 ;
       = namelist:run_convection=qstice: this !=0 ;
       = namelist:run_convection=cape_timescale: this !=0 ;
       = namelist:run_convection=l_eman_dd: this !=0 ;
       = namelist:run_convection=dd_opt: this !=0 ;
       = namelist:run_convection=l_snow_rain: this !=0 ;
       = namelist:run_convection=l_mom: this !=0 ;
       = namelist:run_convection=ccw_for_precip_opt: this !=0 ;
       = namelist:run_convection=mparwtr: this !=0 ;
       = namelist:run_convection=qlmin: this !=0 ;
       = namelist:run_convection=fac_qsat: this !=0 ;
       = namelist:run_convection=r_det: this !=0 ;
       = namelist:run_convection=termconv: this !=0 ;
       = namelist:run_convection=sh_pert_opt: this !=0 ;
       = namelist:run_convection=adapt: this !=0 ;
       = namelist:run_convection=ud_factor: this !=0 ;
       = namelist:run_convection=rad_cloud_decay_opt: this !=0 ;
       = namelist:run_convection=amdet_fac: this !=0 ;
       = namelist:temp_fixes=l_glue_conv5a: 5;
       = namelist:run_convection=l_cv_conserve_check: 5,
       =6;
       = namelist:run_convection=ent_fac_dp: 5,
       =6;
       = namelist:run_convection=ent_fac_md: 5,
       =6;
       = namelist:run_convection=ent_md_power: 5,
       =6;
       = namelist:run_convection=ent_opt_dp: 5,
       =6;
       = namelist:run_convection=ent_opt_md: 5,
       =6;
       = namelist:run_convection=dil_plume_water_load: 5,
       =6;
       = namelist:run_convection=plume_water_load: 5,
       =6;
       = namelist:run_convection=ent_dp_power: 5,
       =6;
       = namelist:run_convection=cldbase_opt_dp: 5,
       =6;
       = namelist:run_convection=cldbase_opt_md: 5,
       =6;
       = namelist:run_convection=cldbase_opt_sh: 5,
       =6;
       = namelist:run_convection=l_new_dd: 5,
       =6;
       = namelist:run_convection=l_mom_dd: 5,
       =6;
       = namelist:run_bl=bl_res_inv: 5,
       =6;
       = namelist:run_cloud=forced_cu: 0,5,6;
values=0,5,6

[namelist:run_convection=iconv_congestus]
compulsory=true
description=Congestus convection option
help=Congestus convection
    =
    = 0 - no congestus   (Only option at present)
    = 1 - future mass flux scheme ?  NOT AVAILABLE
    = 2 - future turbulence based scheme ? NOT AVAILABLE
ns=namelist/UM Science Settings/section05/main_switches
sort-key=5c-main-conv-02
values=0

[namelist:run_convection=iconv_deep]
compulsory=true
description=Deep convection option 0 off 1 mass flux
help=Deep convection
    =
    = 0 - no deep convection (may be of use at high resolution)
    = 1 - Mass flux scheme like 4A scheme
    = 2 - turbulence scheme available but not advised
ns=namelist/UM Science Settings/section05/main_switches
sort-key=5c-main-conv-03
values=0,1,2

[namelist:run_convection=iconv_mid]
compulsory=true
description=Mid level convection option 0 off 1 mass flux
help=Mid-level convection
    =
    = 0 - no call to mid-level convection
    = 1 - Gregory-Rowntree mass flux scheme
    = 2 - for future use.
ns=namelist/UM Science Settings/section05/main_switches
sort-key=5c-main-conv-04
values=0,1

[namelist:run_convection=iconv_shallow]
compulsory=true
description=Shallow convection option 0 off 1 mass flux 2 turb 3 turb-precip
help=Shallow convection options for 5A scheme:
    =
    = 0 - no shallow convection
    = 1 - mass flux scheme
    = 2 - new non-precipitating shallow turbulence scheme
    = 3 - new precipitating shallow turbulence scheme
    = 4 or above - for future use.
ns=namelist/UM Science Settings/section05/main_switches
sort-key=5c-main-conv-01
trigger=namelist:run_convection=l_pc2_diag_sh: 2,3;
values=0,1,2,3

[namelist:run_convection=icvdiag]
compulsory=true
description=Convective diagnosis method
help=Output from the diagnosis routine is required by both the convection
    = scheme and the boundary layer scheme. The diagnosis determines which grid
    = points have a convective boundary layer. The diagnosis detemines whether
    = convection from the boundary layer is deep or shallow.
    =
    = For the 0A,
    =5A & 6A schemes,
    =the options are:
    =
    = 1 - the corrected undilute parcel diagnosis scheme with all changes to
    = improve the diagnosis; cloud layer at least 400m,
    =lifting condensation
    = level at least 150m thick. Users are advised to use this.
    = 2 - a new dilute parcel diagnosis scheme using a 0.55/z entrainment rate
    = 3 - a new dilute parcel diagnosis scheme using a 1.0/z entrainment rate
    = 4 - a new dilute parcel diagnosis scheme using 0.55/z over the sea and
    = a variable rate n/z over land where n is dependent on the boundary layer
    = depth. Option 4 is aimed at improving the diurnal cycle of convection
    = over land. Choosing option 4 also alters the entrainment rates used in
    = the convection scheme over land.
ns=namelist/UM Science Settings/section05/diagnosis
sort-key=5b-01
values=0,1,2,3,4

[namelist:run_convection=l_3d_cca]
compulsory=true
description=Use 3D CCA cloud field
help=Use 3D Convective Cloud Field - Convective Cloud Amount to use a 3D field
    =so that vertical structures are retained from timestep to timestep.  If this
    =is UNSET,
    =convective cloud amount is collapsed to a single-level field which
    =is derived from total column condensed cloud water (cclwp) or total convective
    =surface precipitation (see CCRad ref CCA2D).
ns=namelist/UM Science Settings/section05/cloud_opts
sort-key=cloud-a00
trigger=namelist:run_convection=l_anvil: .true. ;
       = namelist:run_convection=l_ccrad: .true.
type=logical

[namelist:run_convection=l_anvil]
compulsory=true
description=Apply anvil scheme to 3D convective cloud
ns=namelist/UM Science Settings/section05/cloud_opts
sort-key=cloud-anvil-01
trigger=namelist:run_convection=l_cloud_deep: .true. ;
       = namelist:run_convection=anv_opt: .true. ;
       = namelist:run_convection=anvil_factor: .true. ;
       = namelist:run_convection=tower_factor: .true.
type=logical

[namelist:run_convection=l_ccrad]
compulsory=true
description=Use CCRad
help=CCRad (5A):
    =Convective Cloud for Radiation (CCRad) addresses a number
    =of issues connected with diagnosed cloud for radiative impacts:
    =
    =(a) Vertical structure of convective cloud water is
    =maintained. Radiation originally constructed a CCW profile by
    =uniformly distributing the CCLWP from cloud base to cloud
    =top. This resulted in a loss of vertical structure and limited
    =the convection/radiation schemes to one contigious cloud per
    =gridpoint/per timestep. CCRad allows the use of either method
    =(see "Use 3D convective cloud water from convection scheme" in
    =SW & LW Radiation/Cloud)
    =
    =(b) CCA 2D is currently based on Total Condensed Water(TCW). Though
    =this assumes that there is only one contigious cloud in the
    =vertical per gridbox. However,
    =mid-level cloud is allowed on
    =the same timestep and gridbox as shallow or deep convection. by
    =using a 2D field such as TCW,
    =lower cloud (shallow,
    =deep) is able
    =to affect the CCA of higher cloud(mid-level). CCRad decouples
    =mid-level convection from shallow and deep by using TCW from the
    =respective cloud type to determines its particular CCA profile.
    =The 2D field to base CCA 2D can be set via "CCA 2D Basis" for
    =the given convective cloud type:
    =0)   Use TCW
    =1)   Use Surface convective rain rate
    =2-9) For future use,
    =will default to TCW if used
    =
    =(c) Cloud Decay (Only valid if Apply time decay of
    =convective clouds = 2). CCRad decays convective cloud in a
    =similar fashion to decay with non-ccrad settings (see help point
    =3(vii)) except that cloud decay is applied on a convection
    =substep basis.  The option Cloud Decay lifetime specifes:
    =0)   Fixed Cloud lifetime
    =1)   Varies cloud lifetime with height.
    =2-9) For future use,
    =will default to fixed cloud lifetime is
    =used
    =
    =(d) Inconsistencies corrected,
    =mainly connected with Cloud Base
    =and Cloud Top indexing
    =
    =(e) Added Flexibility for convective cloud types. Scalings added
    =for both CCA and CCW for each of Shallow,
    =mid and deep
    =convective clouds.
    =
    =NOTE: With CCRad,
    =Updraught factor will not
    =affect CCW profiles UNLESS "apply updraught factor to whole
    =column" is selected. In which case CCW will be affected by
    =BOTH CCW Scalings and Updraught factor.
ns=namelist/UM Science Settings/section05/cloud_opts
sort-key=cloud-ccrad-00
trigger=namelist:run_convection=l_fix_udfactor: .false. ;
       = namelist:run_convection=cca2d_sh_opt: .true. ;
       = namelist:run_convection=cca_sh_knob: .true. ;
       = namelist:run_convection=ccw_sh_knob: .true. ;
       = namelist:run_convection=cca2d_dp_opt: .true. ;
       = namelist:run_convection=cca_dp_knob: .true. ;
       = namelist:run_convection=ccw_dp_knob: .true. ;
       = namelist:run_convection=cca2d_md_opt: .true. ;
       = namelist:run_convection=cca_md_knob: .true. ;
       = namelist:run_convection=ccw_md_knob: .true.
type=logical

[namelist:run_convection=l_cloud_deep]
compulsory=true
description=Use depth criterion for convective anvils
help=When the depth criterion is applied,
    =clouds have to be more than
    =500mb deep to be modified by the anvil scheme.
ns=namelist/UM Science Settings/section05/cloud_opts
sort-key=cloud-anvil-02
type=logical

[namelist:run_convection=l_cmt_heating]
compulsory=true
description=Switches on the CMT heating in the 6A scheme.
help=Includes the effects of frictional heating due to
    = convective momentum transport.
ns=namelist/UM Science Settings/section05/cmt
sort-key=cmt-10
type=logical

[namelist:run_convection=l_conv_hist]
compulsory=true
description=Include convective history prognostics
help=Include convective history prognostics.
    =Do not switch this on as it adds to the memory used by the model but
    =will not change answers at present. This switch is for development use
    =only at present. It adds 3 extra prognostic variables to the dump to
    =store information about the history of convection on previous time steps.
    =The convection scheme may be developed to make use of this information
    =in the future.
ns=namelist/UM Science Settings/section05/main_switches
sort-key=5c-main-switch-02
type=logical

[namelist:run_convection=l_conv_prog_group_1]
compulsory=false
description=Include 1st group of experimental 3D prognostic fields for
           =convective memory (development use only)
help=For development use; currently activates a single generic field,
    =conv_prog_1,
    =which is not modified by the model or used
    =at all unless you include a code-branch to do this.
ns=namelist/UM Science Settings/section05/main_switches
sort-key=5c-main-switch-03
type=logical

[namelist:run_convection=l_conv_prog_group_2]
compulsory=false
description=Include 2nd group of experimental 3D prognostic fields for
           =convective memory (development use only)
help=For development use; currently activates a single generic field,
    =conv_prog_2,
    =which is not modified by the model or used
    =at all unless you include a code-branch to do this.
ns=namelist/UM Science Settings/section05/main_switches
sort-key=5c-main-switch-03
type=logical

[namelist:run_convection=l_conv_prog_group_3]
compulsory=false
description=Include 3rd group of experimental 3D prognostic fields for
           =convective memory (development use only)
help=For development use; currently activates a single generic field,
    =conv_prog_3,
    =which is not modified by the model or used
    =at all unless you include a code-branch to do this.
ns=namelist/UM Science Settings/section05/main_switches
sort-key=5c-main-switch-03
type=logical

[namelist:run_convection=l_conv_prog_precip]
compulsory=false
description=Include 3D prognostic field of recent convective precipitation
help=Set to true to activate an
    =experimental prognostic variable measuring recent convective
    =precipitation.  The surface convective precipitation rate is
    =copied onto all model-levels where convection is active
    =(defined as where the magnitude of the convective potential temperature
    =tendency exceeds a threshold dthetadt_conv_active_threshold,
    =set in cv_param_mod),
    =to form a 3D field which is advected by
    =the model winds,
    =and decays with a timescale set by
    =tau_conv_prog_precip.
    =
    =On its own,
    =this is purely a diagnostic used for development purposes.
    =Other switches (not yet added) will activate sensitivity of the convection
    =to this field,
    =to introduce "convective memory".
ns=namelist/UM Science Settings/section05/main_switches
sort-key=5c-main-switch-03
trigger=namelist:run_convection=tau_conv_prog_precip: .true.
type=logical

[namelist:run_convection=l_cv_conserve_check]
description=Switches on energy conservation in convection.
help=Switching on the energy conservation is not recommended at present.
    = Only applies to 5A & 6A schemes.
ns=namelist/UM Science Settings/section05/main_switches
sort-key=5c-main-switch-05
# Not compulsory
type=logical

[namelist:run_convection=l_dcpl_cld4pc2]
description=Decouples section 0/5 cloud properties from each other,
           =for use with PC2 only
ns=namelist/UM Science Settings/section05/main_switches
sort-key=5c-main-switch-10
# Not compulsory
type=logical

[namelist:run_convection=l_eman_dd]
compulsory=true
description=Use Emanuel downdraught scheme
help=Alternative to the original Gregory-Rowntree downdraught code.
    = At present not used by any models.
ns=namelist/UM Science Settings/section05/downdraughts
sort-key=5g-dd-01
type=logical

[namelist:run_convection=l_fix_udfactor]
compulsory=true
description=Fix application of updraught factor
help=The updraught factor is only applied to
    = grid-levels where convective precipitation is formed,
    =unless this
    = switch is selected.
    =
    = NOTE: CCRad removes the original application of the updraught factor
    = and uses Convective Cloud Water (CCW) scalings instead. However,
    =if
    = this switch is used with CCRad,
    =then both updraught factor and CCW
    = scalings are applied to the CCW profile.
ns=namelist/UM Science Settings/section05/cloud_opts
type=logical

[namelist:run_convection=l_mom]
compulsory=true
description=Convection momentum transport
help=This switch allows convection to transport momentum in the
    =vertical (in addition to heat and moisture). Its use is recommended.
ns=namelist/UM Science Settings/section05/cmt
sort-key=cmt-00
trigger=namelist:run_convection=deep_cmt_opt: .true. ;
       =namelist:run_convection=mid_cmt_opt: .true. ;
       =namelist:run_convection=l_cmt_heating: .true.
type=logical

[namelist:run_convection=l_mom_dd]
compulsory=true
description=Convection momentum transport for downdraughts
help=This switch allows convective dowdnraughts to transport momentum in the
    =vertical (in addition to heat and moisture).
ns=namelist/UM Science Settings/section05/cmt
sort-key=cmt-07
type=logical

[namelist:run_convection=l_murk_conv]
compulsory=true
description=Include transport by parametrised convection
help=Enables convective mixing of MURK as a tracer
ns=namelist/UM Science Settings/section05/main_switches
sort-key=5c-main-switch-04
type=logical

[namelist:run_convection=l_new_dd]
compulsory=true
description=Use new downdraught & evaporation scheme
help=New mass flux downdraught and evaporation scheme
    = Currently being developed for use with the 5A & 6A scheme.
    = At present not available for use - only control code.
    = Assumes a mix of rain and snow allowed in the precipitation so set
    = t_snow_melt to a sensible value
ns=namelist/UM Science Settings/section05/downdraughts
sort-key=5g-dd-03
trigger=namelist:run_convection=l_use_dd: .true. ;
type=logical

[namelist:run_convection=l_param_conv]
compulsory=true
description=Choose convection option (see help for details)
help=FALSE => Convection turned off (only for idealised cases). Some options
    =may still influence Boundary layer.
    =TRUE => Time level n* data,
    =increments not advected. (Recommended)
ns=namelist/UM Science Settings/section05
sort-key=5a-02
type=logical

[namelist:run_convection=l_pc2_diag_sh]
compulsory=true
description=Use diagnostic convective shallow cloud to replace PC2 cloud
help=This option is only possible for the shallow turbulence schemes which
    = have problems producing cloud increments for PC2. Setting this to true
    = replaces the PC2 cloud by the convective diagnosed cloud amount for
    = points where shallow convection occurs. This is an experimental option
    = and is not recommended.
ns=namelist/UM Science Settings/section05/cloud_opts
sort-key=cloud-ccrad-10
type=logical

[namelist:run_convection=l_rediagnosis]
compulsory=true
description=Cumulus rediagnosis option
help=If more than one convection step per model physics timestep then
    =rediagnose cumulus points by recalling conv_diag before each convective
    =sub-step.
ns=namelist/UM Science Settings/section05/diagnosis
sort-key=5b-06
type=logical

[namelist:run_convection=l_safe_conv]
compulsory=true
description=Switch on various safety checks to improve convection
help=This switch applies to the 5a scheme and is recommended to be switched
    = on. It prevents convection seeing any negative q values. It also
    = removes any failed convective ascents.
ns=namelist/UM Science Settings/section05/main_switches
sort-key=5c-main-switch-01
type=logical

[namelist:run_convection=l_snow_rain]
compulsory=true
description=Allows a mix of rain and snow in the downdraught and below cloud
help=A mix of rain and snow is allowed between the freezing temperature
    = (273.15K) and t_melt_snow (a value higher than the freezing temperature).
ns=namelist/UM Science Settings/section05/downdraughts
sort-key=5g-dd-03
type=logical

[namelist:run_convection=l_use_dd]
compulsory=true
description=Use downdraught part of scheme
help=New mass flux downdraught and evaporation scheme
    = Currently being developed for use with the 5A & 6A scheme.
    = Set to true to model downdraughts
ns=namelist/UM Science Settings/section05/downdraughts
sort-key=5g-dd-04
type=logical

[namelist:run_convection=limit_pert_opt]
compulsory=true
description=Limit initial parcel perturbation option.
help=Limit initial parcel perturbations options.
    = This limits the initial parcel perturbations in temperature and humidity
    = to physically sensible values in both the main ascent and the convection
    = diagnosis.
    =
    = 0 - no limits applied.
    =
    = 1 - apply limits to main ascent only.
    =
    = 2 - apply limits to main ascent and to the convection diagnosis.
ns=namelist/UM Science Settings/section05/diagnosis
sort-key=5b-06
values=0,1,2

[namelist:run_convection=mdet_opt_dp]
compulsory=true
description=Mixing detrainment profile for deep convection in 6A convection.
           = 0 - original detrainment profile.
           = 1 - relative humidity dependent profile usually used with
           = adaptive detrainment
           = 2 - profile dependent on the diagnosed depth of deep convection.
ns=namelist/UM Science Settings/section05/updraughts
range=0:2
sort-key=5d-up-mdet-02
type=integer

[namelist:run_convection=mid_cmt_opt]
compulsory=true
description=Mid convection momentum transport option:
help=0: Gregory-Kershaw scheme (default)
    = 1: Diffusive scheme
ns=namelist/UM Science Settings/section05/cmt
sort-key=cmt-03
values=0,1

[namelist:run_convection=mid_cnv_pmin]
compulsory=true
description=Minimum pressure for mid level convection (Pa)
help=Minimum pressure for mid level convection.
    =
    = This sets the minimum pressure in Pa (i.e. maximum height) at which to
    = test for the initiation of mid level convection.
    =
    = The basic assumptions used by the convection
    = scheme will be invalid outside of the troposphere and using this option
    = it is possible to prevent convection occurring at too high a level.
    =
    = Setting the minimum pressure to 0.0 allows mid-level convection to
    = initiate from any height and will replicate the behaviour of earlier
    = versions of the convection scheme. A value of 10000.0 is recommended
    = to prevent mid-level convection initiating outside of the troposphere.
ns=namelist/UM Science Settings/section05/main_switches
range=0:25000
sort-key=5c-main-switch-12
type=real

[namelist:run_convection=mparwtr]
compulsory=true
description=Maximum critical cloud condensate
help=Maximum Critical Cloud Condensate
    =
    = This sets the maximum value of the critical cloud condensate profile.
    = This is related to the option settings for
    = namelist:run_convection=ccw_for_precip_opt .
    = This will always be the maximum value for option 4.
    = mparwtr will always be used in options 0-3 but because of the
    = critical cloud depths (option 0) or other scalings (options 1-3)
    = it will not always directly equate to the maximum value of the
    = critical cloud condensate.
ns=namelist/UM Science Settings/section05/updraughts
range=1e-5:1e-2
sort-key=5d-up-ccw-02
type=real

[namelist:run_convection=n_conv_calls]
compulsory=true
description=Number of convection sub-steps per model physics timestep
help=Ideally the convection scheme should not be sub-stepped.
    = Unfortunately with longer time steps and the CAPE closure the
    = mass flux will tend to exceed the CFL criterion so needs to be
    = sub-stepped. In general 2 convection sub-steps are required.
ns=namelist/UM Science Settings/section05
range=1:10
sort-key=5a-05
type=integer

[namelist:run_convection=plume_water_load]
compulsory=true
description=Water loading for undilute plume in diagnosis (5A and 6A)
help=Water loading options for convective diagnosis 5A and 6A schemes.
    = Same set of values available for both undilute and dilute plumes
    =
    = 0 - water loading kept for whole of parcel ascent - default option
    =
    = 1 - if water loading exceeds 1g/kg it is removed from the plume.
    =
    = 2 - if water loading exceeds a profile based on qsat it is removed from the plume.
ns=namelist/UM Science Settings/section05/diagnosis
sort-key=5b-04
values=0,1,2

[namelist:run_convection=qlmin]
compulsory=true
description=Minimum critical cloud condensate
help=Minimum Critical Cloud Condensate
    =
    = This sets the minimum value of the critical cloud condensate profile.
    = This is related to the option settings for
    = namelist:run_convection=ccw_for_precip_opt .
    = This will always be applied for option 4 but will only be applied to
    = options 0-3 if PC2 is switched on.
ns=namelist/UM Science Settings/section05/updraughts
range=0:1e-3
sort-key=5d-up-ccw-03
type=real

[namelist:run_convection=qstice]
compulsory=true
description=Estimate of saturation specific humidity at this phase change T.
help=Units kg kg-1. Usually 3.5e-3.
ns=namelist/UM Science Settings/section05/main_switches
range=0:1
sort-key=5c-main-switch-21
type=real

[namelist:run_convection=r_det]
compulsory=true
description=Adaptive detrainment control parameter
ns=namelist/UM Science Settings/section05/updraughts
range=0:1
sort-key=5d-up-fdet-02
type=real

[namelist:run_convection=rad_cloud_decay_opt]
compulsory=true
description=Time decay of convective clouds
help=Time decay of convective clouds:
    =
    = This option applies a simple quasi exponential time-decay to both
    = convective cloud cover and water content,
    =with a specified fixed
    = timescale (default 7200.0). The cloud seen by radiation is then taken
    = to be the greater of the cloud diagnosed by the convection scheme
    = this model timestep and the decayed cloud from the previous timesteps.
    =
    = If cloud cover at any level falls below a threshold of 2%,
    =then the
    = cloud in that level is set to zero.
    =
    = Settings:
    =
    = 0 - no cloud decay
    = 1 - for cloud decay as described above.
    = 2 - for cloud decay,
    =but decays on the convective substep
    = (only available with CCRad)
ns=namelist/UM Science Settings/section05/cloud_opts
sort-key=cloud-decay-01
trigger=namelist:run_convection=cld_life_opt: 1,
       =2 ;
       = namelist:run_convection=fixed_cld_life: 1,
       =2 ;
       = namelist:run_convection=cca_min: 1,2 ;
values=0,1,2

[namelist:run_convection=sh_pert_opt]
compulsory=true
description=Initial perturbation method for shallow cumulus
help=0 - original code
    = 1 - revised code
ns=namelist/UM Science Settings/section05/updraughts
sort-key=5d-up-a-01
values=0,1

[namelist:run_convection=t_melt_snow]
compulsory=true
description=Temperature at which to melt all snow in the downdraught or below cloud.
help=Units Kelvin. CRM simulations suggest a value of ~8K above freezing (273.15K).
    = Required if l_snow_rain =.true. or l_new_dd=.true.
    = otherwise value not used.
ns=namelist/UM Science Settings/section05/downdraughts
range=273.15:300.0
sort-key=5g-dd-05
type=real

[namelist:run_convection=tau_conv_prog_precip]
compulsory=false
description=Decay timescale for the conv_prog_precip field / seconds.
help=The conv_prog_precip field stores a record of recent convective
    =precipitation.  What is meant by "recent" is set by this timescale,
    =which
    =sets the time over-which the field decays towards zero after the
    =convective precipitation stops.
ns=namelist/UM Science Settings/section05/main_switches
range=1.0:
sort-key=5c-main-switch-03
type=real

[namelist:run_convection=termconv]
compulsory=true
description=Use termination condition for deep and mid-level convection?
ns=namelist/UM Science Settings/section05/updraughts
sort-key=5d-up-a-02
values=0,1

[namelist:run_convection=tice]
compulsory=true
description=Specify phase change temperature /K
help=Use a phase change other than 0 degrees - choose this if running with PC2.
    = The value commonly used with PC2 is 263.15.
ns=namelist/UM Science Settings/section05/main_switches
range=0:99999
sort-key=5c-main-switch-20
type=real

[namelist:run_convection=tower_factor]
compulsory=true
description=Defining anvil factor.
help=The radiative representation of anvils modifies the convective
    = cloud amount (CCA) to vary with height during deep convection.
    =
    = This option REQUIRES a 3D Convective Cloud Field.
    =
    = The CCA is multiplied by the namelist:run_convection=tower_factor
    = tower factor from the cloud base to the freezing level,
    =and increased
    = linearly from the freezing level to the cloud top. The cloud top value
    = is equal to the original CCA multiplied by the
    = namelist:run_convection=anvil_factor anvil factor.
ns=namelist/UM Science Settings/section05/cloud_opts
range=0:3
sort-key=cloud-anvil-04
type=real

[namelist:run_convection=tv1_sd_opt]
compulsory=true
description=Std Dev level 1 virtual temperation option.
help=Std Dev level 1 virtual temperature option.
    = This switch defines the method for calculating the standard deviation of
    = the level 1 virtual temperature in the convection diagnosis which is used to
    = calculate the parcel buoyancy tolerance.
    =
    = 0 - original setting that uses an assumed boundary layer depth of 300m.
    =
    = 1 - improved option that uses the boundary layer depth from the previous timestep.
    =
    = 2 - as (1) but further improved by including parametrized roughness lengths
    = for sea,
    =a realistic stability dependence and area-weighted contributions for
    = the sea,
    =sea-ice and land components calculated separately.
ns=namelist/UM Science Settings/section05/diagnosis
values=0,1,2

[namelist:run_convection=ud_factor]
compulsory=true
description=Updraught factor for reducing cloud water
help=Updraught factor for reducing cloud water
    =
    = The cloud water can be modified without changing the precip. efficiency
    = through use of the updraught factor. A value ~0.1 is recommended for
    = use with the anvil scheme (1.0 otherwise). This is intended to represent
    = the fraction of the convective cloud occupied by the strong updraught.
    = This factor is only applied to grid-levels where convective
    = precipitation is formed,
    =unless the switch "Apply updraught factor to
    = whole column is selected."
    =
    = NOTE: CCRad removes the original application of the updraught
    = factor and uses Convective Cloud Water (CCW) scalings
    = instead. However,
    =if the switch "Apply updraught factor to
    = whole column" is used with CCRad,
    =then both updraught factor
    = and CCW scalings are applied to the CCW profile.
ns=namelist/UM Science Settings/section05/cloud_opts
range=0:1
type=real

[namelist:run_convection=w_cape_limit]
compulsory=true
description=CAPE Threshold vertical velocity
help=This value is expected to be horizontal resolution dependent
ns=namelist/UM Science Settings/section05/closure
range=0:10000
sort-key=5e-closure-05
type=real

[namelist:run_cosp]
compulsory=true
ns=namelist/UM Science Settings/section01/run_cosp

[namelist:run_cosp=cosp_cloudsat_sim]
compulsory=true
description=CLOUDSAT simulator
help=Requests CloudSat simulator to be run.
type=logical

[namelist:run_cosp=cosp_isccp_sim]
compulsory=true
description=ISCCP simulator
help=Requests ISCCP simulator to be run.
type=logical

[namelist:run_cosp=cosp_lidar_sim]
compulsory=true
description=CALIPSO/CALIOP simulator
help=Requests CALIPSO lidar simulator to be run.
type=logical

[namelist:run_cosp=cosp_misr_sim]
compulsory=true
description=MISR simulator
help=Requests MISR simulator to be run.
type=logical

[namelist:run_cosp=cosp_modis_sim]
compulsory=true
description=MODIS simulator
help=Requests MODIS simulator to be run.
type=logical

[namelist:run_cosp=cosp_rttov_sim]
compulsory=true
description=RTTOV simulator
help=Requests RTTOV simulator to be run.
type=logical

[namelist:run_cosp=cosp_use_vgrid]
compulsory=true
description=Compute outputs on standard vertical grid
help=Produce COSP outputs in standard 40-level vertical grid. This only affects
    =some of the 3D diagnostics produced by the active instruments (CloudSat,
    =CALIPSO).
type=logical

[namelist:run_cosp=l_cosp]
description=Run with COSP
help=Controls if COSP is run.
trigger=namelist:run_cosp=cosp_cloudsat_sim: .true.;
       =namelist:run_cosp=cosp_lidar_sim: .true.;
       =namelist:run_cosp=cosp_isccp_sim: .true.;
       =namelist:run_cosp=cosp_misr_sim: .true.;
       =namelist:run_cosp=cosp_modis_sim: .true.;
       =namelist:run_cosp=cosp_rttov_sim: .true.;
       =namelist:run_cosp=cosp_use_vgrid: .true.;
type=logical

[namelist:run_diffusion]
compulsory=true
description=Namelist run_diffusion
ns=namelist/UM Science Settings/section13
title=Section 13 - Diffusion and Filtering

[namelist:run_diffusion=adjust_theta_end]
compulsory=true
description=End level for convective adjustment
help=End level for convective adjustment
ns=namelist/UM Science Settings/section13/vert
range=1:1000
sort-key=03
type=integer

[namelist:run_diffusion=adjust_theta_start]
compulsory=true
description=Start level for convective adjustment
help=Start level for convective adjustment
ns=namelist/UM Science Settings/section13/vert
range=1:1000
sort-key=02
type=integer

[namelist:run_diffusion=diag_interval]
compulsory=true
description=Sampling frequency for diagnostic printing
help=Sampling frequency for diagnostic printing
ns=namelist/UM Science Settings/section13/diag
range=1:
sort-key=05
type=integer

[namelist:run_diffusion=diff_coeff_ref]
compulsory=true
description=EW diffusion coefficient at polar cap
help=EW diffusion coefficient at polar cap
ns=namelist/UM Science Settings/section13/polar
range=0.0:100000.0
sort-key=14
type=real

[namelist:run_diffusion=diff_factor]
compulsory=true
description=Fraction of maximum diffusion
help=Fraction of maximum diffusion
ns=namelist/UM Science Settings/section13/turb
range=0.0:1.0
sort-key=09
type=real

[namelist:run_diffusion=diff_order_thermo]
compulsory=true
description=diffusion order for theta
help=diffusion order for theta
ns=namelist/UM Science Settings/section13/polar
range=0:10
sort-key=10
type=integer

[namelist:run_diffusion=diff_order_wind]
compulsory=true
description=diffusion order for wind
help=diffusion order for wind
ns=namelist/UM Science Settings/section13/polar
range=0:10
sort-key=12
type=integer

[namelist:run_diffusion=diff_timescale_thermo]
compulsory=true
description=diffusion timescale for theta
help=diffusion timescale for theta
ns=namelist/UM Science Settings/section13/polar
range=0:1000
sort-key=11
type=integer

[namelist:run_diffusion=diff_timescale_wind]
compulsory=true
description=diffusion timescale for wind
help=diffusion timescale for wind
ns=namelist/UM Science Settings/section13/polar
range=0:1000
sort-key=13
type=integer

[namelist:run_diffusion=first_norm_print]
compulsory=true
description=First timestep for norm printing
help=First timestep for norm printing
ns=namelist/UM Science Settings/section13/diag
range=1:
sort-key=18
type=integer

[namelist:run_diffusion=hdiff_coeff_q]
compulsory=true
description=horizontal diffusion coefficient for moisture
help=horizontal diffusion coefficient for moisture
length=:
ns=namelist/UM Science Settings/section13/horiz
range=0.0 : 5000.0
sort-key=17
type=real

[namelist:run_diffusion=hdiff_coeff_theta]
compulsory=true
description=horizontal diffusion coefficient for theta
help=horizontal diffusion coefficient for theta
length=:
ns=namelist/UM Science Settings/section13/horiz
range=0.0 : 5000.0
sort-key=13
type=real

[namelist:run_diffusion=hdiff_coeff_wind]
compulsory=true
description=horizontal diffusion coefficient for wind
help=horizontal diffusion coefficient for wind
length=:
ns=namelist/UM Science Settings/section13/horiz
range=0.0 : 5000.0
sort-key=09
type=real

[namelist:run_diffusion=hdiff_endlev_q]
compulsory=true
description=end level for horizontal diffusion of moisture
help=end level for horizontal diffusion of moisture
length=:
ns=namelist/UM Science Settings/section13/horiz
range=1:
sort-key=16
type=integer

[namelist:run_diffusion=hdiff_endlev_theta]
compulsory=true
description=end level for horizontal diffusion of theta
help=end level for horizontal diffusion of theta
length=:
ns=namelist/UM Science Settings/section13/horiz
range=1:
sort-key=12
type=integer

[namelist:run_diffusion=hdiff_endlev_wind]
compulsory=true
description=end level for horizontal diffusion of wind
help=end level for horizontal diffusion of wind
length=:
ns=namelist/UM Science Settings/section13/horiz
range=1:
sort-key=08
type=integer

[namelist:run_diffusion=hdiff_order_q]
compulsory=true
description=horizontal diffusion order for moisture
help=horizontal diffusion order for moisture
length=:
ns=namelist/UM Science Settings/section13/horiz
range=0 : 5
sort-key=18
type=integer

[namelist:run_diffusion=hdiff_order_theta]
compulsory=true
description=horizontal diffusion order for theta
help=horizontal diffusion order for theta
length=:
ns=namelist/UM Science Settings/section13/horiz
range=0 : 5
sort-key=14
type=integer

[namelist:run_diffusion=hdiff_order_wind]
compulsory=true
description=horizontal diffusion order for wind
help=horizontal diffusion order for wind
length=:
ns=namelist/UM Science Settings/section13/horiz
range=0 : 5
sort-key=10
type=integer

[namelist:run_diffusion=hdiff_strlev_q]
compulsory=true
description=start level for horizontal diffusion of moisture
help=start level for horizontal diffusion of moisture
length=:
ns=namelist/UM Science Settings/section13/horiz
range=1:
sort-key=15
type=integer

[namelist:run_diffusion=hdiff_strlev_theta]
compulsory=true
description=start level for horizontal diffusion of theta
help=start level for horizontal diffusion of theta
length=:
ns=namelist/UM Science Settings/section13/horiz
range=1:
sort-key=11
type=integer

[namelist:run_diffusion=hdiff_strlev_wind]
compulsory=true
description=start level for horizontal diffusion of wind
help=start level for horizontal diffusion of wind
length=:
ns=namelist/UM Science Settings/section13/horiz
range=1:
sort-key=07
type=integer

[namelist:run_diffusion=hdiffopt]
compulsory=true
description=Horizontal diffusion option
help=0: off,1: old (not recommended),2: conservative,
    =3: subgrid turbulence scheme
ns=namelist/UM Science Settings/section13
sort-key=02
trigger=namelist:run_diffusion=hdiff_strlev_wind: 1,
       =2;
       = namelist:run_diffusion=hdiff_endlev_wind: 1,
       =2;
       = namelist:run_diffusion=hdiff_coeff_wind: 1,
       =2;
       = namelist:run_diffusion=hdiff_order_wind: 1,
       =2;
       = namelist:run_diffusion=hdiff_strlev_theta: 1,
       =2;
       = namelist:run_diffusion=hdiff_endlev_theta: 1,
       =2;
       = namelist:run_diffusion=hdiff_coeff_theta: 1,
       =2;
       = namelist:run_diffusion=hdiff_order_theta: 1,
       =2;
       = namelist:run_diffusion=hdiff_strlev_q: 1,
       =2;
       = namelist:run_diffusion=hdiff_endlev_q: 1,
       =2;
       = namelist:run_diffusion=hdiff_coeff_q: 1,
       =2;
       = namelist:run_diffusion=hdiff_order_q: 1,
       =2;
       = namelist:run_diffusion=l_subfilter_horiz: 3;
       = namelist:run_diffusion=l_subfilter_vert: 3;
       = namelist:run_diffusion=diff_factor: 3;
       = namelist:run_diffusion=mix_factor: 3;
       = namelist:run_diffusion=turb_startlev_horiz: 3;
       = namelist:run_diffusion=turb_endlev_horiz: 3;
       = namelist:run_diffusion=turb_startlev_vert: 3;
       = namelist:run_diffusion=turb_endlev_vert: 3;
       = namelist:run_diffusion=l_upper_ramp: 1,
       =2,3;
       = namelist:run_diffusion=up_diff_scale: 1,2,
       =3;
       = namelist:run_diffusion=top_diff: 1,2,
       =3;
       = namelist:run_diffusion=top_filt_start: 1,2,
       =3;
       = namelist:run_diffusion=top_filt_end: 1,2,3;
value-titles=off,old (not recommended),conservative,
            =subgrid turbulence scheme
values=0,1,2,3

[namelist:run_diffusion=horizontal_level]
compulsory=true
description=First horizontal level at which model surfaces are flat
help=First horizontal level at which model surfaces are flat
ns=namelist/UM Science Settings/section13/horiz
range=0:
sort-key=06
type=integer

[namelist:run_diffusion=l_adjust_theta]
compulsory=true
description=Activate convective adjustment
help=Activate convective adjustment
ns=namelist/UM Science Settings/section13/vert
sort-key=01
trigger=namelist:run_diffusion=adjust_theta_start: .true.;
       = namelist:run_diffusion=adjust_theta_end: .true.;
type=logical

[namelist:run_diffusion=l_diag_l2helm]
compulsory=true
description=Print l2norms from solver
help=Print l2norms from solver
ns=namelist/UM Science Settings/section13/diag
sort-key=17
type=logical

[namelist:run_diffusion=l_diag_l2norms]
compulsory=true
description=Print l2norms
help=Print l2norms
ns=namelist/UM Science Settings/section13/diag
sort-key=16
type=logical

[namelist:run_diffusion=l_diag_noise]
compulsory=true
description=Print noise statistics
help=Print noise statistics
ns=namelist/UM Science Settings/section13/diag
sort-key=15
type=logical

[namelist:run_diffusion=l_diag_print]
compulsory=true
description=Print diagnostics
help=Print diagnostics
ns=namelist/UM Science Settings/section13
sort-key=05
trigger=namelist:run_diffusion=l_diag_print_ops: .true.;
       = namelist:run_diffusion=l_print_pe: .true.;
       = namelist:run_diffusion=l_print_w: .true.;
       = namelist:run_diffusion=l_print_wmax: .true.;
       = namelist:run_diffusion=l_print_lapse: .true.;
       = namelist:run_diffusion=l_print_theta1: .true.;
       = namelist:run_diffusion=l_print_div: .true.;
       = namelist:run_diffusion=l_diag_wind: .true.;
       = namelist:run_diffusion=l_print_shear: .true.;
       = namelist:run_diffusion=l_print_max_wind: .true.;
       = namelist:run_diffusion=l_diag_noise: .true.;
       = namelist:run_diffusion=l_diag_l2norms: .true.;
       = namelist:run_diffusion=l_diag_l2helm: .true.;
       = namelist:run_diffusion=norm_lev_start: .true.;
       = namelist:run_diffusion=norm_lev_end: .true.;
       = namelist:run_diffusion=first_norm_print: .true.;
       = namelist:run_diffusion=print_step: .true.;
       = namelist:run_diffusion=diag_interval: .true.;
       = namelist:run_diffusion=w_print_limit: .true.;
       = namelist:run_diffusion=l_flush6: .true.;
type=logical

[namelist:run_diffusion=l_diag_print_ops]
compulsory=true
description=Print diagnostics for ops
help=Print diagnostics for ops
ns=namelist/UM Science Settings/section13/diag
sort-key=02
type=logical

[namelist:run_diffusion=l_diag_wind]
compulsory=true
description=Print wind diagnostics
help=Print wind diagnostics
ns=namelist/UM Science Settings/section13/diag
sort-key=13
type=logical

[namelist:run_diffusion=l_diff_auto]
compulsory=true
description=calculate diffusion parameters
help=UM code calculates diffusion parameters
ns=namelist/UM Science Settings/section13/polar
sort-key=16
type=logical

[namelist:run_diffusion=l_diff_incs]
compulsory=true
description=activate horiz. diffusion of increments
help=activate horiz. diffusion of increments
ns=namelist/UM Science Settings/section13/polar
sort-key=09
type=logical

[namelist:run_diffusion=l_diff_thermo]
compulsory=true
description=activate horiz. diffusion of theta
help=activate horiz. diffusion of theta
ns=namelist/UM Science Settings/section13/polar
sort-key=06
type=logical

[namelist:run_diffusion=l_diff_w]
compulsory=true
description=activate horiz. diffusion of vertical velocity
help=activate horiz. diffusion of vertical velocity
ns=namelist/UM Science Settings/section13/polar
sort-key=08
type=logical

[namelist:run_diffusion=l_diff_wind]
compulsory=true
description=activate horiz. diffusion of wind
help=activate horiz. diffusion of wind
ns=namelist/UM Science Settings/section13/polar
sort-key=07
trigger=namelist:run_diffusion=l_diff_wind_ew_only: .true.;
type=logical

[namelist:run_diffusion=l_diff_wind_ew_only]
compulsory=true
description=Only perform horizontal diffusion of u,v in E-W direction
help=Enables better conservation of axial angular momentum (i.e. no diffusion in NS dirn.)
ns=namelist/UM Science Settings/section13/polar
sort-key=07
type=logical

[namelist:run_diffusion=l_flush6]
compulsory=true
description=Flush buffers on failure
help=Flush buffers on failure
ns=namelist/UM Science Settings/section13/diag
sort-key=01
type=logical

[namelist:run_diffusion=l_pfincs]
compulsory=true
description=polar filter increments
help=polar filter increments
ns=namelist/UM Science Settings/section13/polar
sort-key=05
type=logical

[namelist:run_diffusion=l_pftheta]
compulsory=true
description=polar filter theta
help=polar filter theta
ns=namelist/UM Science Settings/section13/polar
sort-key=02
type=logical

[namelist:run_diffusion=l_pfuv]
compulsory=true
description=polar filter horizontal winds
help=polar filter horizontal winds
ns=namelist/UM Science Settings/section13/polar
sort-key=03
type=logical

[namelist:run_diffusion=l_pfw]
compulsory=true
description=polar filter vertical velocity
help=polar filter vertical velocity
ns=namelist/UM Science Settings/section13/polar
sort-key=04
type=logical

[namelist:run_diffusion=l_pofil_hadgem2]
compulsory=true
description=Use HadGEM2 settings for polar filtering
help=Use HadGEM2 settings for polar filtering
ns=namelist/UM Science Settings/section13/polar
sort-key=01
type=logical

[namelist:run_diffusion=l_pofil_new]
compulsory=true
description=activate new polar filter
help=activate new polar filter
ns=namelist/UM Science Settings/section13/polar
sort-key=15
trigger=namelist:run_diffusion=l_diff_auto: .true.
type=logical

[namelist:run_diffusion=l_polar_filter]
compulsory=true
description=Activate polar filter
help=Activate polar filter ("old" polar filter)
ns=namelist/UM Science Settings/section13/polar
sort-key=21
type=logical

[namelist:run_diffusion=l_polar_filter_incs]
compulsory=true
description=Activate polar filter for increments
help=Activate polar filter for increments ("old" polar filter)
ns=namelist/UM Science Settings/section13/polar
sort-key=22
type=logical

[namelist:run_diffusion=l_print_div]
compulsory=true
description=Print divergence
help=Print divergence
ns=namelist/UM Science Settings/section13/diag
sort-key=09
type=logical

[namelist:run_diffusion=l_print_lapse]
compulsory=true
description=Print lapse_rate
help=Print lapse_rate
ns=namelist/UM Science Settings/section13/diag
sort-key=10
type=logical

[namelist:run_diffusion=l_print_max_wind]
compulsory=true
description=Print maximum horizontal winds
help=Print maximum horizontal winds
ns=namelist/UM Science Settings/section13/diag
sort-key=12
type=logical

[namelist:run_diffusion=l_print_pe]
compulsory=true
description=Print diagnostics on all pe's
help=Print diagnostics on all pe's
ns=namelist/UM Science Settings/section13/diag
sort-key=03
type=logical

[namelist:run_diffusion=l_print_shear]
compulsory=true
description=Print wind shear
help=Print wind shear
ns=namelist/UM Science Settings/section13/diag
sort-key=14
type=logical

[namelist:run_diffusion=l_print_theta1]
compulsory=true
description=Print level 1 theta
help=Print level 1 theta
ns=namelist/UM Science Settings/section13/diag
sort-key=11
type=logical

[namelist:run_diffusion=l_print_w]
compulsory=true
description=Print vertical velocity
help=Print vertical velocity
ns=namelist/UM Science Settings/section13/diag
sort-key=06
type=logical

[namelist:run_diffusion=l_print_wmax]
compulsory=true
description=Print maximum vertical velocity
help=Print maximum vertical velocity
ns=namelist/UM Science Settings/section13/diag
sort-key=08
type=logical

[namelist:run_diffusion=l_qpos]
compulsory=true
description=Activate moisture resetting
help=Activate moisture resetting
ns=namelist/UM Science Settings/section13
sort-key=06
trigger=namelist:run_diffusion=q_pos_method: .true.;
       =namelist:run_diffusion=qlimit: .true.;
       =namelist:run_diffusion=l_qpos_diag_pr: .true.;
       =namelist:run_diffusion=qpos_diag_limit: .true.;
type=logical

[namelist:run_diffusion=l_qpos_diag_pr]
compulsory=true
description=Moisture resetting diagnostic print switch
help=Moisture resetting diagnostic print switch
ns=namelist/UM Science Settings/section13/qpos
sort-key=03
type=logical

[namelist:run_diffusion=l_sponge]
compulsory=true
description=Activate lateral boundaries sponge zones
help=Activate lateral boundaries sponge zones
ns=namelist/UM Science Settings/section13
sort-key=07
trigger=namelist:run_diffusion=sponge_ew: .true.;
       = namelist:run_diffusion=sponge_ns: .true.;
       = namelist:run_diffusion=sponge_power: .true.;
type=logical

[namelist:run_diffusion=l_subfilter_horiz]
compulsory=true
description=Activate horizontal subfiltering
help=Activate horizontal subfiltering
ns=namelist/UM Science Settings/section13/turb
sort-key=01
trigger=namelist:run_diffusion=turb_startlev_horiz: .true.;
       = namelist:run_diffusion=turb_endlev_horiz : .true.;
type=logical

[namelist:run_diffusion=l_subfilter_vert]
compulsory=true
description=Activate vertical subfiltering
help=Activate vertical subfiltering
ns=namelist/UM Science Settings/section13/turb
sort-key=04
trigger=namelist:run_diffusion=turb_startlev_vert: .true.;
       = namelist:run_diffusion=turb_endlev_vert: .true.;
type=logical

[namelist:run_diffusion=l_tardiff_q]
compulsory=true
description=Activate targeted diffusion of moisture
help=Switch to activate targeted diffusion of moisture
ns=namelist/UM Science Settings/section13
sort-key=04
trigger=namelist:run_diffusion=w_conv_limit: .true.;
       = namelist:run_diffusion=tardiffq_factor: .true.;
       = namelist:run_diffusion=tardiffq_test: .true.;
       = namelist:run_diffusion=tardiffq_start: .true.;
       = namelist:run_diffusion=tardiffq_end: .true.;
       = namelist:run_diffusion=tar_horizontal: .true.
type=logical

[namelist:run_diffusion=l_upper_ramp]
compulsory=true
description=Ramp upper-level diffusion
help=Ramp upper-level diffusion
ns=namelist/UM Science Settings/section13/horiz
sort-key=04
trigger=namelist:run_diffusion=up_diff_scale: .true.
type=logical

[namelist:run_diffusion=l_vdiff_uv]
compulsory=true
description=Activate targeted diffusion for uv
help=Activate targeted diffusion for uv
ns=namelist/UM Science Settings/section13/vert
sort-key=04
trigger=namelist:run_diffusion=vdiffuv_timescale: .true.;
       = namelist:run_diffusion=vdiffuv_test: .true.;
       = namelist:run_diffusion=vdiffuv_start: .true.;
       = namelist:run_diffusion=vdiffuv_end: .true.;
type=logical

[namelist:run_diffusion=level_start_q]
compulsory=true
description=Diffusion start level for moisture
help=Diffusion start level for moisture
ns=namelist/UM Science Settings/section13/vert
range=0:
sort-key=16
type=integer

[namelist:run_diffusion=level_start_theta]
compulsory=true
description=Diffusion start level for theta
help=Diffusion start level for theta
ns=namelist/UM Science Settings/section13/vert
range=0:
sort-key=10
type=integer

[namelist:run_diffusion=level_start_wind]
compulsory=true
description=Diffusion start level for wind
help=Diffusion start level for wind
ns=namelist/UM Science Settings/section13/vert
range=0:
sort-key=13
type=integer

[namelist:run_diffusion=level_stop_q]
compulsory=true
description=Diffusion end level for moisture
help=Diffusion end level for moisture
ns=namelist/UM Science Settings/section13/vert
range=0:
sort-key=17
type=integer

[namelist:run_diffusion=level_stop_theta]
compulsory=true
description=Diffusion end level for theta
help=Diffusion end level for theta
ns=namelist/UM Science Settings/section13/vert
range=0:
sort-key=11
type=integer

[namelist:run_diffusion=level_stop_wind]
compulsory=true
description=Diffusion end level for wind
help=Diffusion end level for wind
ns=namelist/UM Science Settings/section13/vert
range=0:
sort-key=14
type=integer

[namelist:run_diffusion=max_sweeps]
compulsory=true
description=Maximum number of sweeps wanted for 121 filter
help=Maximum number of sweeps wanted for 121 filter (usually 8)
ns=namelist/UM Science Settings/section13/polar
range=0 : 1000
sort-key=20
type=integer

[namelist:run_diffusion=mix_factor]
compulsory=true
description=Mixing length constant
help=Mixing length constant
ns=namelist/UM Science Settings/section13/turb
range=0.0:1.0
sort-key=08
type=real

[namelist:run_diffusion=norm_lev_end]
compulsory=true
description=End level for norm diagnostics
help=End level for norm diagnostics
ns=namelist/UM Science Settings/section13/diag
range=1:
sort-key=19
type=integer

[namelist:run_diffusion=norm_lev_start]
compulsory=true
description=Start level for norm diagnostics
help=Start level for norm diagnostics
ns=namelist/UM Science Settings/section13/diag
range=1:
sort-key=18
type=integer

[namelist:run_diffusion=pofil_opt]
compulsory=true
description=polar filter option
help=polar filter option
    = 0:none,1:combined diffusion/filtering,
    =2: old polar filter
ns=namelist/UM Science Settings/section13
sort-key=01
trigger=namelist:run_diffusion=l_pofil_new: 1;
       = namelist:run_diffusion=l_pftheta: 1;
       = namelist:run_diffusion=l_pfuv: 1;
       = namelist:run_diffusion=l_pfw: 1;
       = namelist:run_diffusion=l_pfincs: 1;
       = namelist:run_diffusion=l_diff_thermo: 1;
       = namelist:run_diffusion=l_diff_wind: 1;
       = namelist:run_diffusion=l_diff_w: 1;
       = namelist:run_diffusion=l_diff_incs: 1;
       = namelist:run_diffusion=diff_order_thermo: 1;
       = namelist:run_diffusion=diff_timescale_thermo: 1;
       = namelist:run_diffusion=diff_order_wind: 1;
       = namelist:run_diffusion=diff_timescale_wind: 1;
       = namelist:run_diffusion=diff_coeff_ref: 1;
       = namelist:run_diffusion=ref_lat_deg: 1;
       = namelist:run_diffusion=scale_ratio: 1;
       = namelist:run_diffusion=polar_cap: 1;
       = namelist:run_diffusion=max_sweeps: 1;
       = namelist:run_diffusion=l_polar_filter: 2;
       = namelist:run_diffusion=l_polar_filter_incs: 2;
       = namelist:run_diffusion=polar_filter_lat_limit: 2;
       = namelist:run_diffusion=polar_filter_north_lat_limit: 2;
       = namelist:run_diffusion=polar_filter_south_lat_limit: 2;
       = namelist:run_diffusion=polar_filter_n_sweeps: 2;
       = namelist:run_diffusion=polar_filter_coefficient: 2;
       = namelist:run_diffusion=polar_filter_step_per_sweep: 2;
       = namelist:run_diffusion=l_subfilter_horiz: 0;
       = namelist:run_diffusion=l_subfilter_vert: 0;
       = namelist:run_diffusion=diff_factor: 0;
       = namelist:run_diffusion=mix_factor: 0;
       = namelist:run_diffusion=turb_startlev_horiz: 0;
       = namelist:run_diffusion=turb_endlev_horiz: 0;
       = namelist:run_diffusion=turb_startlev_vert: 0;
       = namelist:run_diffusion=turb_endlev_vert: 0;
       = namelist:run_diffusion=l_upper_ramp: 0,
       =1;
       = namelist:run_diffusion=up_diff_scale: 0,
       =1;
       = namelist:run_diffusion=top_diff: 0,
       =1;
       = namelist:run_diffusion=top_filt_start: 0,
       =1;
       = namelist:run_diffusion=top_filt_end: 0,1;
value-titles=none,combined diffusion/filtering,old polar filter
values=0,1,2

[namelist:run_diffusion=polar_cap]
compulsory=true
description=Starting latitude for polar filtering
help=1-2-1 polar filter is applied polewards from this latitude
ns=namelist/UM Science Settings/section13/polar
range=0.0:90.0
sort-key=19
type=real

[namelist:run_diffusion=polar_filter_coefficient]
compulsory=true
description=Filter coefficient
help=Filter coefficient ("old" polar filter)
ns=namelist/UM Science Settings/section13/polar
range=0.0:1.0
sort-key=27
type=real

[namelist:run_diffusion=polar_filter_lat_limit]
compulsory=true
description=Polar filter latitude limit (degrees)
help=Polar filter latitude limit (degrees) ("old" polar filter)
ns=namelist/UM Science Settings/section13/polar
range=0.0:90.0
sort-key=23
type=real

[namelist:run_diffusion=polar_filter_n_sweeps]
compulsory=true
description=Number of sweeps of filter
help=Number of sweeps of filter ("old" polar filter)
ns=namelist/UM Science Settings/section13/polar
range=1:10
sort-key=26
type=integer

[namelist:run_diffusion=polar_filter_north_lat_limit]
compulsory=true
description=Polar filter north latitude limit (degrees)
help=Polar filter north latitude limit (degrees) ("old" polar filter)
ns=namelist/UM Science Settings/section13/polar
range=0.0:90.0
sort-key=24
type=real

[namelist:run_diffusion=polar_filter_south_lat_limit]
compulsory=true
description=Polar filter south latitude limit (degrees)
help=Polar filter south latitude limit (degrees) ("old" polar filter)
ns=namelist/UM Science Settings/section13/polar
range=0.0:90.0
sort-key=25
type=real

[namelist:run_diffusion=polar_filter_step_per_sweep]
compulsory=true
description=Filter step size per sweep (degrees)
help=Filter step size per sweep (degrees) ("old" polar filter)
ns=namelist/UM Science Settings/section13/polar
range=0.0:10.0
sort-key=28
type=real

[namelist:run_diffusion=print_step]
compulsory=true
description=Printing interval
help=Printing interval
ns=namelist/UM Science Settings/section13/diag
range=1:
sort-key=04
type=integer

[namelist:run_diffusion=q_pos_method]
compulsory=true
description=Moisture resetting algorithm choice
help=Moisture resetting algorithm choice
    = 1 original; 2 local; 3 reset; 4 column; 5 level; 6 hybrid
ns=namelist/UM Science Settings/section13/qpos
sort-key=01
value-titles=original,local,reset,column,level,hybrid
values=1,2,3,4,5,6

[namelist:run_diffusion=q_pos_tracer_method]
compulsory=true
description=Moisture resetting algorithm choice for tracers
help=Moisture resetting algorithm choice for tracers
    = 1 original; 2 local; 3 reset; 4 column; 5 level; 6 hybrid
ns=namelist/UM Science Settings/section13/qpos
sort-key=05
value-titles=original,local,reset,column,level,hybrid
values=1,2,3,4,5,6

[namelist:run_diffusion=qlimit]
compulsory=true
description=Minimum q for moisture resetting
help=Minimum q (humidity) for moisture resetting
ns=namelist/UM Science Settings/section13/qpos
range=0.0:1.0
sort-key=02
type=real

[namelist:run_diffusion=qpos_diag_limit]
compulsory=true
description=Moisture resetting diagnostic print limit
help=Moisture resetting diagnostic print limit
ns=namelist/UM Science Settings/section13/qpos
range=-100.0:100.0
sort-key=04
type=real

[namelist:run_diffusion=ramp_lat_radians]
compulsory=true
description=Latitude to start ramped diffusion (degrees)
help=Latitude at which to start ramped diffusion
ns=namelist/UM Science Settings/section13/vert
range=0.0:90.0
sort-key=18
type=real

[namelist:run_diffusion=ref_lat_deg]
compulsory=true
description=Reference latitude for auto diffusion
help=Reference latitude for auto diffusion
ns=namelist/UM Science Settings/section13/polar
range=0.0:89.0
sort-key=17
type=real

[namelist:run_diffusion=scale_ratio]
compulsory=true
description=Pass control on 121 filter
help=Pass control on 121 filter
ns=namelist/UM Science Settings/section13/polar
range=0.0:2.0
sort-key=18
type=real

[namelist:run_diffusion=sponge_ew]
compulsory=true
description=E/W boundaries sponge zone width
help=E/W boundaries sponge zone width
ns=namelist/UM Science Settings/section13/sponge
range=1:100
sort-key=01
type=integer

[namelist:run_diffusion=sponge_ns]
compulsory=true
description=N/S boundaries sponge zone width
help=N/S boundaries sponge zone width
ns=namelist/UM Science Settings/section13/sponge
range=1:100
sort-key=02
type=integer

[namelist:run_diffusion=sponge_power]
compulsory=true
description=Sponge zone weighting order
help=Sponge zone weighting order
ns=namelist/UM Science Settings/section13/sponge
range=1:5
sort-key=03
type=integer

[namelist:run_diffusion=tar_horizontal]
compulsory=true
description=Steep slope test targeted diffusion
help=Steep slope test targeted diffusion
ns=namelist/UM Science Settings/section13/targ
range=0:1000
sort-key=06
type=integer

[namelist:run_diffusion=tardiffq_end]
compulsory=true
description=End level for test w targetted diffusion
help=End level for test w targetted diffusion
ns=namelist/UM Science Settings/section13/targ
range=1:
sort-key=05
type=integer

[namelist:run_diffusion=tardiffq_factor]
compulsory=true
description=targeted diffusion coefficient
help=targeted diffusion coefficient
ns=namelist/UM Science Settings/section13/targ
range=0.0:0.25
sort-key=01
type=real

[namelist:run_diffusion=tardiffq_start]
compulsory=true
description=Start level for test w targetted diffusion
help=Start level for test w targetted diffusion
ns=namelist/UM Science Settings/section13/targ
range=1:
sort-key=04
type=integer

[namelist:run_diffusion=tardiffq_test]
compulsory=true
description=Level for test w targetted diffusion
help=Level for test w targetted diffusion
ns=namelist/UM Science Settings/section13/targ
range=1:
sort-key=03
type=integer

[namelist:run_diffusion=top_diff]
compulsory=true
description=upper-level diffusion coefficient
help=upper-level diffusion coefficient
ns=namelist/UM Science Settings/section13/horiz
range=0.1:1.0
sort-key=03
type=real

[namelist:run_diffusion=top_filt_end]
compulsory=true
description=end level for upper-level diffusion
help=end level for upper-level diffusion
ns=namelist/UM Science Settings/section13/horiz
range=2:1000
sort-key=02
type=integer

[namelist:run_diffusion=top_filt_start]
compulsory=true
description=start level for upper-level diffusion
help=start level for upper-level diffusion
ns=namelist/UM Science Settings/section13/horiz
range=2:1000
sort-key=01
type=integer

[namelist:run_diffusion=turb_endlev_horiz]
compulsory=true
description=End level for horiz subgrid turbulence
help=End level for horiz subgrid turbulence
ns=namelist/UM Science Settings/section13/turb
range=2:1000
sort-key=03
type=integer

[namelist:run_diffusion=turb_endlev_vert]
compulsory=true
description=End level for vertical subgrid turbulence
help=End level for vertical subgrid turbulence
ns=namelist/UM Science Settings/section13/turb
range=2:1000
sort-key=06
type=integer

[namelist:run_diffusion=turb_startlev_horiz]
compulsory=true
description=Start level for horiz subgrid turbulence
help=Start level for horiz subgrid turbulence
ns=namelist/UM Science Settings/section13/turb
range=2:1000
sort-key=02
type=integer

[namelist:run_diffusion=turb_startlev_vert]
compulsory=true
description=Start level for vertical subgrid turbulence
help=Start level for vertical subgrid turbulence
ns=namelist/UM Science Settings/section13/turb
range=2:1000
sort-key=05
type=integer

[namelist:run_diffusion=up_diff_scale]
compulsory=true
description=Upper-level diffusion ramping factor
help=Upper-level diffusion ramping factor
ns=namelist/UM Science Settings/section13/horiz
range=0.1:1.0
sort-key=05
type=real

[namelist:run_diffusion=vdiffopt]
compulsory=true
description=Vertical diffusion option
help=Vertical diffusion option 0: off,1: uniform,2: ramped
ns=namelist/UM Science Settings/section13
sort-key=03
trigger=namelist:run_diffusion=ramp_lat_radians: 2;
       = namelist:run_diffusion=vert_diffusion_coeff_theta: 1,
       =2;
       = namelist:run_diffusion=vert_diffusion_coeff_wind : 1,
       =2;
       = namelist:run_diffusion=vert_diffusion_coeff_q : 1,
       =2;
       = namelist:run_diffusion=level_start_theta : 1,
       =2;
       = namelist:run_diffusion=level_stop_theta : 1,
       =2;
       = namelist:run_diffusion=level_start_wind: 1,
       =2;
       = namelist:run_diffusion=level_stop_wind: 1,
       =2;
       = namelist:run_diffusion=level_start_q: 1,
       =2;
       = namelist:run_diffusion=level_stop_q: 1,2;
value-titles=off,uniform,ramped
values=0,1,2

[namelist:run_diffusion=vdiffuv_end]
compulsory=true
description=End level for targeted diffusion
help=End level for targeted diffusion
ns=namelist/UM Science Settings/section13/vert
range=1:1000
sort-key=06
type=integer

[namelist:run_diffusion=vdiffuv_start]
compulsory=true
description=Start level for targeted diffusion
help=Start level for targeted diffusion
ns=namelist/UM Science Settings/section13/vert
range=1:1000
sort-key=05
type=integer

[namelist:run_diffusion=vdiffuv_test]
compulsory=true
description=Wind shear test value
help=Wind shear test value
ns=namelist/UM Science Settings/section13/vert
range=1.0:1000.0
sort-key=08
type=real

[namelist:run_diffusion=vdiffuv_timescale]
compulsory=true
description=Vertical diffusion timescale (timesteps)
help=Vertical diffusion timescale (timesteps)
ns=namelist/UM Science Settings/section13/vert
range=1:1000
sort-key=07
type=integer

[namelist:run_diffusion=vert_diffusion_coeff_q]
compulsory=true
description=vertical diffusion coefficient for moisture
help=vertical diffusion coefficient for moisture (0-10)
ns=namelist/UM Science Settings/section13/vert
range=0.0:10.0
sort-key=15
type=real

[namelist:run_diffusion=vert_diffusion_coeff_theta]
compulsory=true
description=vertical diffusion coefficient for theta
help=vertical diffusion coefficient for theta (0-10)
ns=namelist/UM Science Settings/section13/vert
range=0.0:10.0
sort-key=08
type=real

[namelist:run_diffusion=vert_diffusion_coeff_wind]
compulsory=true
description=vertical diffusion coefficient for wind
help=vertical diffusion coefficient for wind (0-10)
ns=namelist/UM Science Settings/section13/vert
range=0.0:10.0
sort-key=12
type=real

[namelist:run_diffusion=w_conv_limit]
compulsory=true
description=Threshold for limiting convection
help=Threshold for limiting convection
ns=namelist/UM Science Settings/section13/targ
range=0.0:1000.0
sort-key=02
type=real

[namelist:run_diffusion=w_print_limit]
compulsory=true
description=w threshold for diagnostic printing
help=w threshold for diagnostic printing
ns=namelist/UM Science Settings/section13/diag
range=-1000.0:1000.0
sort-key=07
type=real

[namelist:run_dust]
compulsory=true
ns=namelist/UM Science Settings/section17/run_dust
title=Dust Aerosols

[namelist:run_dust=dust_veg_emiss]
# Active if aerosols are on and l_dust or l_dust_diag is true
compulsory=true
description=Emit dust from bare soil components of vegetated grid boxes:
           = 0: Emit only from bare soil tile
           = 1. Emit from seasonally bare soil using LAI
           = 2. Emit from seasonally bare soil with LAI threshold of 0.1
           = 3. Emit from seasonally bare soil with LAI threshold of 0.3
help=The vegetation fractions within the UM are either constant or vary on an
    = annual to decadal timescale. In regions with a strong wet and dry season
    = some vegetation dies away to leave bare soil during the dry season,
    =making these regions a significant dust source (eg the Sahel). The
    = options for representing this process currently are:
    =
    = 0 - Do not represent dust emission from seasonal vegetation
    = 1 - Represent the dieback of vegetation using the radiative fraction,
    =as used in albedo calculations,
    =based on the Leaf Area Index (LAI).
    = 2 - Allow dust emission below an LAI threshold of 0.1,
    =increasing
    = linearly from the threshold to 0.0. As per Yoshika et al.,
    =2007
    = doi:10.1175/JCLI4056.1) and Mahowald et al.,
    =2006
    = (doi:10.1029/2005JD006653)
    = 3 - As per 2,
    =but with a threshold of 0.3,as per Mahowald et al.,
    =2011 (doi:10.5194/bg-8-387-2011).
    =
    = For non-zero values,
    =a scaling factor
    = can be modified to reduce/increase the emission for each vegetation
    = type. DUST_VEG_EM_IO is in the JULES_PFTPARM namelist.
sort-key=a8
values=0,1,2,3

[namelist:run_dust=horiz_d]
# Active if aerosols are on and l_dust or l_dust_diag is true
compulsory=true
description=Global tuning parameter for horizontal flux
help=horiz_d is a simple tuning knob to enhance/decrease dust emissions
range=0:99.9
sort-key=a7
type=real

[namelist:run_dust=i_dust]
compulsory=true
description=Select dust scheme:
help=The CLASSIC dust scheme emits and transports mineral dust,
    =according to
    = the surface properties and the friction velocity (U*).
    =
    = The diagnostic dust option allows the model to calculate mineral dust
    = emissions (as well as other fields such as U*,
    =U*t) without the cost of
    = the full prognostic dust scheme. This should be used with caution
    = because these emissions also include dust that would fall back to the
    = surface in the same timestep in the full prognostic scheme. Obviously,
    =it also contains no information on the vertical distribution of dust or
    = where it would be advected in the full prognostic scheme.
sort-key=a1
trigger=namelist:run_dust=dust_veg_emiss: this > 0;
       = namelist:run_dust=horiz_d: this > 0;
       = namelist:run_dust=l_fix_size_dist: this > 0;
       = namelist:run_dust=sm_corr: this > 0;
       = namelist:run_dust=us_am: this > 0;
       = namelist:run_dust=l_twobin_dust: this > 0;
value-titles=off,prognostic,diagnostic
values=0,1,2

### May wish to condense these to a single l_dust_lbc and set divs in UM code
[namelist:run_dust=l_dust_div1_lbc]
compulsory=true
description=Use LBC (true) for bin 1 dust scheme
help=The CLASSIC scheme emits and transports mineral dust,
    =according to the
    = surface properties and friction velocity (U*). Dust can be represented
    = with either 6 or 2 size divisions,
    =having following size ranges:
    = 6 divisions: Radii 0.03-0.1,
    =0.1-0.3,0.3-1,1-3,3-10,
    =10-30 microns
    = 2 divisions: Radii 0.1-2.0,
    =2.0-10.0 microns
    = Lateral Boundary Conditions may be applied
sort-key=a10
type=logical

[namelist:run_dust=l_dust_div2_lbc]
compulsory=true
description=Use LBC (true) for bin 1 dust scheme
help=The CLASSIC scheme emits and transports mineral dust,
    =according to the
    = surface properties and friction velocity (U*). Dust can be represented
    = with either 6 or 2 size divisions,
    =having following size ranges:
    = 6 divisions: Radii 0.03-0.1,
    =0.1-0.3,0.3-1,1-3,3-10,
    =10-30 microns
    = 2 divisions: Radii 0.1-2.0,
    =2.0-10.0 microns
    = Lateral Boundary Conditions may be applied
sort-key=a10
type=logical

[namelist:run_dust=l_dust_div3_lbc]
compulsory=true
description=Use LBC (true) for bin 1 dust scheme
help=The CLASSIC scheme emits and transports mineral dust,
    =according to the
    = surface properties and friction velocity (U*). Dust can be represented
    = with either 6 or 2 size divisions,
    =having following size ranges:
    = 6 divisions: Radii 0.03-0.1,
    =0.1-0.3,0.3-1,1-3,3-10,
    =10-30 microns
    = 2 divisions: Radii 0.1-2.0,
    =2.0-10.0 microns
    = Lateral Boundary Conditions may be applied
sort-key=a10
type=logical

[namelist:run_dust=l_dust_div4_lbc]
compulsory=true
description=Use LBC (true) for bin 1 dust scheme
help=The CLASSIC scheme emits and transports mineral dust,
    =according to the
    = surface properties and friction velocity (U*). Dust can be represented
    = with either 6 or 2 size divisions,
    =having following size ranges:
    = 6 divisions: Radii 0.03-0.1,
    =0.1-0.3,0.3-1,1-3,3-10,
    =10-30 microns
    = 2 divisions: Radii 0.1-2.0,
    =2.0-10.0 microns
    = Lateral Boundary Conditions may be applied
sort-key=a10
type=logical

[namelist:run_dust=l_dust_div5_lbc]
compulsory=true
description=Use LBC (true) for bin 1 dust scheme
help=The CLASSIC scheme emits and transports mineral dust,
    =according to the
    = surface properties and friction velocity (U*). Dust can be represented
    = with either 6 or 2 size divisions,
    =having following size ranges:
    = 6 divisions: Radii 0.03-0.1,
    =0.1-0.3,0.3-1,1-3,3-10,
    =10-30 microns
    = 2 divisions: Radii 0.1-2.0,
    =2.0-10.0 microns
    = Lateral Boundary Conditions may be applied
sort-key=a10
type=logical

[namelist:run_dust=l_dust_div6_lbc]
compulsory=true
description=Use LBC (true) for bin 1 dust scheme
help=The CLASSIC scheme emits and transports mineral dust,
    =according to the
    = surface properties and friction velocity (U*). Dust can be represented
    = with either 6 or 2 size divisions,
    =having following size ranges:
    = 6 divisions: Radii 0.03-0.1,
    =0.1-0.3,0.3-1,1-3,3-10,
    =10-30 microns
    = 2 divisions: Radii 0.1-2.0,
    =2.0-10.0 microns
    = Lateral Boundary Conditions may be applied
sort-key=a10
type=logical

[namelist:run_dust=l_fix_size_dist]
# Active if aerosols are on and l_dust or l_dust_diag is true
compulsory=true
description=Diagnose vertical flux using fixed size distribution
sort-key=a4
type=logical

[namelist:run_dust=l_twobin_dust]
compulsory=true
description=Use two-bin (true) or six-bin (false) dust scheme
help=The CLASSIC dust scheme emits and transports mineral dust,
    =according
    = to the surface properties and the friction velocity (U*). Dust can be
    = represented with either 6 or 2 size divisions,
    =with the following size
    = ranges:
    = 6 divisions: Radii 0.03-0.1,
    =0.1-0.3,0.3-1,1-3,3-10,
    =10-30 microns
    = 2 divisions: Radii 0.1-2.0,2.0-10.0 microns
sort-key=a2
type=logical

[namelist:run_dust=sm_corr]
# Active if aerosols are on and l_dust or l_dust_diag is true
compulsory=true
description=Soil moisture correction factor
help=sm_corr is used to tune the soil moisture to allow for the fact that
    = it is only the soil moisture at the very top fraction of a cm rather
    = than the top 10cm that will limit dust emissions
range=0:9.99
sort-key=a6
type=real

[namelist:run_dust=us_am]
# Active if aerosols are on and l_dust or l_dust_diag is true
compulsory=true
description=Multiplicative ustar correction
help=us_am is used to enhance U* to compensate for the fact that the
    = thresholds in the code are for point-like U* rather than the grid-box
    = mean
range=0:9.99
sort-key=a5
type=real

[namelist:run_dyn]
compulsory=true
description=Namelists "run_dyn, run_sl and run_dyntest"
ns=namelist/UM Science Settings/section10
title=Sections 10 11 12 - Dynamics settings

[namelist:run_dyn=alpha_1]
compulsory=true
description=coeff alpha_1
help=coeff alpha_1
ns=namelist/UM Science Settings/section10/Advection/Time Weights
range=0:1
sort-key=A1
type=real

[namelist:run_dyn=alpha_1_2]
compulsory=true
description=after cycle 1,coeff alpha_1_2
help=coeff alpha_1_2
ns=namelist/UM Science Settings/section10/Advection/Time Weights
range=0:1
sort-key=B1
type=real

[namelist:run_dyn=alpha_2]
compulsory=true
description=coeff alpha_2
help=coeff alpha_2
ns=namelist/UM Science Settings/section10/Advection/Time Weights
range=0:1
sort-key=A2
type=real

[namelist:run_dyn=alpha_2_2]
compulsory=true
description=after cycle 1,coeff alpha_2_2
help=coeff alpha_2_2
ns=namelist/UM Science Settings/section10/Advection/Time Weights
range=0:1
sort-key=B2
type=real

[namelist:run_dyn=alpha_3]
compulsory=true
description=coeff alpha_3
help=coeff alpha_3
ns=namelist/UM Science Settings/section10/Advection/Time Weights
range=0:1
sort-key=A3
type=real

[namelist:run_dyn=alpha_3_2]
compulsory=true
description=after cycle 1,coeff alpha_3_2
help=coeff alpha_3_2
ns=namelist/UM Science Settings/section10/Advection/Time Weights
range=0:1
sort-key=B3
type=real

[namelist:run_dyn=alpha_4]
compulsory=true
description=coeff alpha_4
help=coeff alpha_4
ns=namelist/UM Science Settings/section10/Advection/Time Weights
range=0:1
sort-key=A4
type=real

[namelist:run_dyn=alpha_4_2]
compulsory=true
description=after cycle 1,coeff alpha_4_2
help=coeff alpha_4_2
ns=namelist/UM Science Settings/section10/Advection/Time Weights
range=0:1
sort-key=B4
type=real

[namelist:run_dyn=alpha_relax_type]
compulsory=true
description=alpha relaxation method provides ways to alter alpha weights
help=alpha relaxation method provides ways to alter alpha weights
    = 1) constant (no change)
    = 2) alpha_relax_type_sqrt,
    =3) alpha_relax_type_coslaw
    = 4) alpha_relax_type_step
ns=namelist/UM Science Settings/section10/Advection/Time Weights
range=0:4
sort-key=A1
type=integer

[namelist:run_dyn=damp_height]
compulsory=true
description=height (m) at which the damping reaches it's maximum value.
help=This should usually be set to the height of the lid but should
    = should be set to 80000m to replicate behaviour of pre 9.0 jobs.
ns=namelist/UM Science Settings/section10/Advection
range=0.0:
sort-key=c2
type=real

[namelist:run_dyn=eg_vert_damp_coeff]
compulsory=true
description=vertical damping coefficient
help=see UM routine init_vert_damp for options,
    =seek advice from dynamics (default = 0.05)
ns=namelist/UM Science Settings/section10/Advection
sort-key=c1a
type=real

[namelist:run_dyn=eg_vert_damp_profile]
compulsory=true
description=vertical damping flag
help=see UM routine init_vert_damp for options,
    =seek advice from dynamics
ns=namelist/UM Science Settings/section10/Advection
sort-key=c1
type=integer

[namelist:run_dyn=eta_s]
compulsory=true
description=height (eta) above which to apply damping
help=w-damping sponge layer is applied above this eta coordinate.
    = The profile applied depends on the setting of eg_vert_damp_profile.
ns=namelist/UM Science Settings/section10/Advection
range=0.0:1.0
sort-key=c3
type=real

[namelist:run_dyn=gcr_adi_add_full_soln]
compulsory=true
description=add full solution for ADI
help=add full solution for ADI
ns=namelist/UM Science Settings/section10/solver
sort-key=b3
type=logical

[namelist:run_dyn=gcr_adi_pseudo_timestep]
compulsory=true
description=gcr_adi_pseudo_timestep
ns=namelist/UM Science Settings/section10/solver
range=0:
sort-key=b2
type=real

[namelist:run_dyn=gcr_max_iterations]
compulsory=true
description=max number of solver iterations
help=set limit of iterations before solver throws
    = error message about convergence
ns=namelist/UM Science Settings/section10/solver
range=100:500
sort-key=b5
type=integer

[namelist:run_dyn=gcr_precon_option]
compulsory=true
description=Select preconditioner
help=preconditioner
    = ENDGame
    = 0-diag
    = 2-Jacobi
    = 4-sor+tridiag
    = New Dynamics
    = 0-none
    = 1-vert
    = 2-vert and 3d-ADI
    = 3-3d ADI
    = 4-vert and XZ ADI
    = 5-XZ ADI
    = 6-Dufort Franke
ns=namelist/UM Science Settings/section10/solver
range=0:6
sort-key=b1
trigger=namelist:run_dyn=gcr_adi_add_full_soln: 2,3,4,5
type=integer

[namelist:run_dyn=gcr_tol]
compulsory=true
description=gcr_tol for solver convergence
help=Convergence condition on solver - based upon a relative L2 norm
ns=namelist/UM Science Settings/section10/solver
range=0:
sort-key=b7
type=real

[namelist:run_dyn=gcr_tol2]
compulsory=true
description=gcr_tol2 for solver convergence,value after 1st cycle
help=gcr_tol2 for solver convergence,value after 1st cycle
ns=namelist/UM Science Settings/section10/solver
range=0:
sort-key=b8
type=real

[namelist:run_dyn=gcr_use_residual_tol]
compulsory=true
description=use residual tolerance for solver rather than absolute?
help=false implies use absolute tolerance
    = true implies use residual tolerance
ns=namelist/UM Science Settings/section10/solver
sort-key=b6
type=logical

[namelist:run_dyn=horiz_viscosity]
compulsory=true
description=Horizontal coefficient of viscosity
help=
ns=namelist/UM Science Settings/section10/Advection
sort-key=c1a
type=real

[namelist:run_dyn=i_nd_solver_vn]
compulsory=true
description=Select New dynamics solver version
help=1 - GCR solver used to solve helmholtz equation
    = 2 - Recommended solver (essential for variable resolution) May not bit reprod with 1.
ns=namelist/UM Science Settings/section10
sort-key=a11
values=1,2

[namelist:run_dyn=l_check_moist_inc]
compulsory=true
description=If True switch on global checking of moisture conservation for various physics schemes.
help=This option is only designed to be used in short ~10 day global runs
    = to check conservation of moisture by micro-physics,
    =convection
    = boundary layer and methane oxidation.
    = The conservation is checked in 3 different ways:
    = a) a method consistent with the dynamics assumptions on the rho grid
    = b) on the theta grid
    = c) on the theta grid but assuming hydrostatic balance and ignoring
    =    grid geometry.
    = Method (c) uses a pressure integral i.e. a wet density so is not really
    = valid for physics routines using mixing ratios.
ns=namelist/UM Science Settings/section10/Advection
sort-key=c4
type=logical

[namelist:run_dyn=l_endgame]
compulsory=true
description=use ENDGAME dynamical core
help=false use New Dynamics
    = true use ENDGame
ns=namelist/UM Science Settings/section10/Configuration
sort-key=a1
trigger=namelist:idealise=mod_layers: .false.;
       =namelist:idealise=mag: .false.;
       =namelist:idealise=aa_jet_a: .true.;
       =namelist:idealise=aa_jet_m: .true.;
       =namelist:idealise=aa_jet_n: .true.;
       =namelist:idealise=aa_jet_u0: .true.;
       =namelist:idealise=b_const: .true.;
       =namelist:idealise=base_xi1: .true.;
       =namelist:idealise=base_xi2: .true.;
       =namelist:idealise=delta_xi1: .true.;
       =namelist:idealise=delta_xi1_h: .true.;
       =namelist:idealise=delta_xi1_l: .true.;
       =namelist:idealise=delta_xi2: .true.;
       =namelist:idealise=delta_xi2_h: .true.;
       =namelist:idealise=delta_xi2_l: .true.;
       =namelist:idealise=diffuse_dse_ap1: .true.;
       =namelist:idealise=diffuse_dse_ap2: .true.;
       =namelist:idealise=diffuse_q_ap1: .true.;
       =namelist:idealise=diffuse_q_ap2: .true.;
       =namelist:idealise=diffuse_u_ap1: .true.;
       =namelist:idealise=diffuse_u_ap2: .true.;
       =namelist:idealise=diffuse_v_ap1: .true.;
       =namelist:idealise=diffuse_v_ap2: .true.;
       =namelist:idealise=do_evap_ap1: .true.;
       =namelist:idealise=do_evap_ap2: .true.;
       =namelist:idealise=do_limit_surf_theta: .true.;
       =namelist:idealise=do_precip_ap1: .true.;
       =namelist:idealise=do_precip_ap2: .true.;
       =namelist:idealise=do_radiation_lw_ap1: .true.;
       =namelist:idealise=do_radiation_lw_ap2: .true.;
       =namelist:idealise=do_radiation_sw_ap1: .true.;
       =namelist:idealise=do_radiation_sw_ap2: .true.;
       =namelist:idealise=do_surface_drag_ap1: .true.;
       =namelist:idealise=do_surface_drag_ap2: .true.;
       =namelist:idealise=do_surface_flux_ap1: .true.;
       =namelist:idealise=do_surface_flux_ap2: .true.;
       =namelist:idealise=eccentricity: .true.;
       =namelist:idealise=grid_np_lat: .true.;
       =namelist:idealise=grid_np_lon: .true.;
       =namelist:idealise=k_const: .true.;
       =namelist:idealise=l_baro_inst: .true.;
       =namelist:idealise=l_baro_perturbed: .true.;
       =namelist:idealise=l_cartesian: .true.;
       =namelist:idealise=l_const_grav: .true.;
       =namelist:idealise=l_deep_baro_inst: .true.;
       =namelist:idealise=l_frierson: .true.;
       =namelist:idealise=l_heldsuarez: .true.;
       =namelist:idealise=l_heldsuarez1_drag: .true.;
       =namelist:idealise=l_rotate_grid: .true.;
       =namelist:idealise=l_shallow: .true.;
       =namelist:idealise=l_solid_body: .true.;
       =namelist:idealise=nxi1l: .true.;
       =namelist:idealise=nxi1v: .true.;
       =namelist:idealise=nxi2l: .true.;
       =namelist:idealise=nxi2v: .true.;
       =namelist:idealise=t0_e: .true.;
       =namelist:idealise=t0_p: .true.;
       =namelist:idealise=t_surface: .true.;
       =namelist:idealise=tstep_plot_frequency: .true.;
       =namelist:idealise=tstep_plot_start: .true.;
       =namelist:idealise=vert_grid_ratio: .true.;
       =namelist:idealise=tforce_number: .true.;
       =namelist:idealise=trelax_number: .true.;
       =namelist:idealise=fric_number: .true.;
       =namelist:idealise=nsteps_consv_print: .true.;
       =namelist:idealise=initial_tolerance: .true.;
       =namelist:run_dyn=l_fix_mass: .true.;
       =namelist:run_dyn=l_sl_bc_correction: .true.;
       =namelist:run_dyn=alpha_relax_type: .true.;
       =namelist:run_dyn=eg_vert_damp_profile: .true.;
       =namelist:run_dyn=eta_s: .true.;
       =namelist:run_dyn=alpha_1: .false.;
       =namelist:run_dyn=alpha_2: .false.;
       =namelist:run_dyn=alpha_3: .false.;
       =namelist:run_dyn=alpha_4: .false.;
       =namelist:run_dyn=alpha_1_2: .false.;
       =namelist:run_dyn=alpha_2_2: .false.;
       =namelist:run_dyn=alpha_3_2: .false.;
       =namelist:run_dyn=alpha_4_2: .false.;
       =namelist:run_dyn=numcycles: .false.;
       =namelist:run_dyn=l_new_tdisc: .false.;
       =namelist:run_dyn=l_thmono_fixed: .false.;
       =namelist:run_dyn=i_nd_solver_vn: .false.;
       =namelist:run_dyn=l_transparent: .false.;
       =namelist:run_dyn=gcr_tol2: .false.;
       =namelist:run_dyn=gcr_use_residual_tol: .false.;
       =namelist:run_dyn=l_gcr_cycle_opt: .false.;
       =namelist:run_dyn=gcr_adi_add_full_soln: .false.;
       =namelist:run_dyn=gcr_adi_pseudo_timestep: .false.;
       =namelist:run_dyntest=l_adjust_wet: .false.;
       =namelist:run_dyntest=l_free_slip: .false.;
       =namelist:run_sl=l_priestley_correct_moist: .true.;
       =namelist:run_sl=l_priestley_correct_tracers: .true.;
       =namelist:run_sl=l_priestley_correct_thetav: .true.;
       =namelist:run_sl=l_2d_sl_geometry: .false.;
       =namelist:run_sl=l_sl_halo_reprod: .false.;
       =namelist:run_ukca=i_ukca_conserve_method: .true.;
       =namelist:recon=polar_check: .false. ;
type=logical

[namelist:run_dyn=l_fix_mass]
compulsory=true
description=enforce mass conservation
help=enforce mass conservation by rescaling density
    = at end of timestep (EG only)
ns=namelist/UM Science Settings/section10/Advection
sort-key=c5
type=logical

[namelist:run_dyn=l_gcr_cycle_opt]
compulsory=true
description=use last soln as initial guess after 1st cycle
help=use last soln as initial guess after 1st cycle
ns=namelist/UM Science Settings/section10/solver
sort-key=b4
type=logical

[namelist:run_dyn=l_mix_ratio]
compulsory=true
description=use mixing ratios
help=use mixing ratios for moisture variables within dynamics code
ns=namelist/UM Science Settings/section10
sort-key=a2
type=logical

[namelist:run_dyn=l_new_tdisc]
compulsory=true
description=activate implicit time scheme in cycling
help=Permit use of more implicit predictors,
    =for calculating the
    = nonlinear implicit dynamical terms. The effect of this is to further
    = enhance stability. The current practice is to use explicit predictors
    = for weakening the implicit nonlinear products to linearly implicit ones
    = and thus reducing the cost of solving the associated equations. When
    = cycling,
    =explicit predictors can be replaced by more accurate
    = approximations at t_{n+1} obtained at the end of the last cycle.
    = For example,
    =in the 2-cycle case,
    =at the end of the 1st cycle a
    = solution estimate is available and this is the one normally accepted
    = (where normally implies the standard 1-iteration model).
ns=namelist/UM Science Settings/section10/Timestepping
type=logical

[namelist:run_dyn=l_sl_bc_correction]
compulsory=true
description=Corrected treatment of advection at upper and lower boundaries
help=When FALSE,
    =ENDGame will attempt to use the high_order_scheme below
    = the lowest model level,
    =using the level 0 values,
    =which are assumed
    = to be equal to the level 1 values. This can create significant
    = problems with theta,
    =where the assumption that level 0 and level 1
    = are equal is not a good one.
    =
    =Therefore,
    =when TRUE,
    =ENDGame will use linear interpolation below
    = the lowest model level,
    =similar to what New Dynamics does.
ns=namelist/UM Science Settings/section10/Advection
sort-key=a3
type=logical

[namelist:run_dyn=l_thmono_fixed]
compulsory=true
description=use corrected monotone limiter code
help=use corrected monotone limiter code
ns=namelist/UM Science Settings/section10/Advection
sort-key=a5
type=logical

[namelist:run_dyn=l_transparent]
compulsory=true
description=do not apply lbcs to horizontal winds in the solver
help=do not apply lbcs to horizontal winds in the solver
ns=namelist/UM Science Settings/section10/testing
type=logical

[namelist:run_dyn=l_viscosity]
compulsory=true
description=Include explicit viscosity
help=Used for exoplanet simulations (dynamics team)
ns=namelist/UM Science Settings/section10/Advection
sort-key=c1a
type=logical

[namelist:run_dyn=numcycles]
compulsory=true
description=number of SL iteration cycles
help=Needs help to be added!
ns=namelist/UM Science Settings/section10/Timestepping
range=1:
trigger=namelist:run_dyn=l_new_tdisc: this >1 ;
type=integer

[namelist:run_dyn=vert_viscosity]
compulsory=true
description=Vertical coefficient of viscosity
help=
ns=namelist/UM Science Settings/section10/Advection
sort-key=c1a
type=real

[namelist:run_dyntest]
compulsory=true
description=Namelist "run_dyntest"
ns=namelist/UM Science Settings/section10/testing
title=Testing

[namelist:run_dyntest=cw_max]
compulsory=true
description=threshold courant number increment to check for in trapping
help=threshold courant number increment to check for in trapping
ns=namelist/UM Science Settings/section10/Trapping
range=0:10000
sort-key=a7
type=real

[namelist:run_dyntest=cw_test_lev]
compulsory=true
description=top model level to test courant limit trapping
help=top model level to test courant limit trapping
ns=namelist/UM Science Settings/section10/Trapping
sort-key=a6
type=integer

[namelist:run_dyntest=l_adjust_wet]
compulsory=true
description=perform simple dry and moist adjustment
help=perform simple dry and moist adjustment
ns=namelist/UM Science Settings/section10/testing
sort-key=a7
type=logical

[namelist:run_dyntest=l_backwards]
compulsory=true
description=Integrate backwards without physics
help=Backwards integrations are required mainly for the construction
    = of initialization schemes,
    =which may be used,for example,
    =to
    = determine the degree of balance of analysis increments. Another
    = possible application of backwards integrations is as a means of
    = tracing back the origin of forecast errors. Backwards integrations
    = are achieved by negating the dynamics timestep and switching off
    = the main physics routines,
    =which are irreversible. Thus,
    =backwards
    = integrations may be requested only if the 'Include Physics' option
    = has been switched off. In a backwards integration,
    =simple friction,
    =diffusion and divergence damping may be included,
    =but they will be
    = run with a positive timestep - dissipative processes run backwards
    = generally lead to numerical instability
ns=namelist/UM Science Settings/section10/testing
sort-key=a5
type=logical

[namelist:run_dyntest=l_dry]
compulsory=true
description=Run the UM without moisture
help=Run the UM without moisture
ns=namelist/UM Science Settings/section10/testing
sort-key=a6
type=logical

[namelist:run_dyntest=l_dynamics_only]
compulsory=true
description=Run in dynamics only mode
help=flag to enable testing of dynamics only runs,
    =excluding physics
ns=namelist/UM Science Settings/section10/testing
sort-key=a1
type=logical

[namelist:run_dyntest=l_exclude_physics2]
compulsory=true
description=Exclude atmos_physics2,model physics increments and impacts
help=flag to enable testing model,
    =excluding atmos_physics2 code
    = convection,
    =implicit boundary layer,aerosols,river routing,etc.
ns=namelist/UM Science Settings/section10/testing
sort-key=a2
type=logical

[namelist:run_dyntest=l_free_slip]
compulsory=true
description=running with free slip bc
help=The free slip boundary condition calculates w for sloping surfaces.
    =  This may be needed for idealised problems where the no-slip condition
    =  is inappropriate. It has little effect when the parametrized boundary
    =  layer scheme is active.
ns=namelist/UM Science Settings/section10/testing
sort-key=a8
type=logical

[namelist:run_dyntest=l_hydrostatic_eg]
compulsory=true
description=Swith to the quasi-hydrostatic approximation (ih=0.0)
help=If .true. moves to a quasi-hydrostatic set of equations
    = See White et al. (2005)
ns=namelist/UM Science Settings/section10/Equations
sort-key=a5
type=logical

[namelist:run_dyntest=l_idealised_data]
compulsory=true
description=Idealised ancillary and forcing
help=If true then use idealised ancillary arrays if using physics
    =and allow the use of idealised forcing options.
    =
    =(default = .false.)
sort-key=a9
type=logical

[namelist:run_dyntest=l_perturb_ic_theta]
compulsory=true
description=perturb theta on ts1
help=model testing option to perturb theta
ns=namelist/UM Science Settings/section10/testing
sort-key=a3
type=logical

[namelist:run_dyntest=l_trap_theta]
compulsory=true
description=trap excessive heating/cooling
help=trap excessive heating/cooling
ns=namelist/UM Science Settings/section10/Trapping
sort-key=a1
trigger=namelist:run_dyntest=max_thinc: .true.
type=logical

[namelist:run_dyntest=l_trap_uv]
compulsory=true
description=trap excessive u and v winds
help=trap excessive u and v winds
ns=namelist/UM Science Settings/section10/Trapping
sort-key=a3
trigger=namelist:run_dyntest=uv_limit: .true.
type=logical

[namelist:run_dyntest=l_trap_w]
compulsory=true
description=trap excessive w winds
help=trap excessive w winds
ns=namelist/UM Science Settings/section10/Trapping
sort-key=a5
trigger=namelist:run_dyntest=cw_test_lev: .true.;
       =namelist:run_dyntest=cw_max: .true.
type=logical

[namelist:run_dyntest=max_thinc]
compulsory=true
description=threshold theta increment to check for in trapping
help=threshold theta increment to check for in trapping
ns=namelist/UM Science Settings/section10/Trapping
range=0:10000
sort-key=a2
type=real

[namelist:run_dyntest=problem_number]
compulsory=true
description=Choose idealised test problem
help=Choose idealised test problem:
    =0 => Not an idealised run
    =1 => Monsoon
    =2 => Dynamical core
    =3 => Idealised problem
    =4 => Standard run from namelist
    =5 => An Idealised flexible-planetary setup
sort-key=b1
trigger=namelist:idealise: this != 0;
       =namelist:idealise=tforce_number: this == 5;
       =namelist:idealise=trelax_number: this == 5;
       =namelist:idealise=fric_number: this == 5;
       =namelist:idealise=nsteps_consv_print: this == 5;
       =namelist:idealise=initial_tolerance: this == 5;
value-titles=Not an idealised run,Monsoon,Dynamical core,
            =Idealised problem,Standard run from namelist,
            =Idealised planet
values=0,1,2,3,4,5
widget[rose-config-edit]=rose.config_editor.valuewidget.radiobuttons.RadioButtonsValueWidget

[namelist:run_dyntest=trap_option]
compulsory=true
description=trap management choice
help=trap management choice
    =  0-reset,
    =no prints
    =  1-reset + print message
    =  2-no reset but print details max/min
ns=namelist/UM Science Settings/section10/Trapping
range=0:2
type=integer

[namelist:run_dyntest=uv_limit]
compulsory=true
description=threshold u,v increment to check for in trapping
help=threshold u,v increment to check for in trapping
ns=namelist/UM Science Settings/section10/Trapping
range=0:10000
sort-key=a4
type=real

[namelist:run_electric]
compulsory=true
description=run_electric - Electric scheme only available if prognostic graupel selected
ns=namelist/UM Science Settings/section21
title=Section 21 - Thunderstorm Electrification

[namelist:run_electric=electric_method]
compulsory=true
description=Select method used to generate lightning
help=The core of the scheme is a 'flash rate module'- a relationship between
    =lightning flashes per unit time and other model parameters. Currently
    =there are the following flash rate schemes available:
    = 1) Graupel water path scheme (loosely based on Deiering et al 2008,
    =JGR)
    = 2) McCaul et al (2009,
    =Weather and Forecasting) scheme.
    =
    = More schemes are likely to be added as the code develops.
sort-key=electric02
trigger=namelist:run_electric=g1: this == 1;
       =namelist:run_electric=g2: this == 1;
       =namelist:run_electric=k1: this == 2;
       =namelist:run_electric=k2: this == 2
value-titles=Graupel water path-based scheme,McCaul et al (2009)
values=1,2

[namelist:run_electric=g1]
compulsory=true
description=Lightning-graupel water path gradient for graupel water path scheme
help=This only has an impact when the Graupel Water Path method is in use.
    =The flash rate (F) of thunderstorms is determined as a power law
    =relationship:
    =  F = g1 * GWP + g2,
    =where GWP is the graupel water path (column integral of graupel in the
    =thunderstorm). The number input here is factor g1.
range=0:1.0e2
sort-key=electric03
type=real

[namelist:run_electric=g2]
compulsory=true
description=Intercept for graupel water path scheme
help=This only has an impact when the Graupel Water Path method is in use.
    =The flash rate (F) of thunderstorms is determined as a power law
    =relationship:
    =  F = g1 * GWP + g2,
    =where GWP is the graupel water path (column integral of graupel in the
    =thunderstorm). The number input here is factor g2.
range=-1000:1000
sort-key=electric04
type=real

[namelist:run_electric=k1]
compulsory=true
description=Lightning-graupel flux factor for McCaul et al (2009) scheme
help=This only has an impact when the McCaul et al (2009) scheme is in use.
    =Increase this number to produce more lightning from graupel contained
    =in thunderstorm updraughts (convective cores). The flash rate (F) is
    =a linear relationship determined as F = k1 * flux,
    =where k1 is the
    =lightning-graupel flux factor. As a default value,
    =McCaul et al (2009)
    =suggest this factor should be 0.042.
range=0:50
sort-key=electric05
type=real

[namelist:run_electric=k2]
compulsory=true
description=Lightning-storm ice factor for McCaul et al (2009) scheme
help=This only has an impact when the McCaul et al (2009) scheme is in use.
    =Increase this number to produce more lightning from total ice in
    =thunderstorms The flash rate (F) is a linear relationship determined
    =as F = k2 * TI,
    =where k2 is the lightning-storm ice factor and TI is the
    =integral of all the ice in the model grid column. As a default value,
    =McCaul et al (2009) suggest this factor should be 0.20.
range=0:50
sort-key=electric06
type=real

[namelist:run_electric=l_use_electric]
compulsory=true
description=Run with Electric Scheme
help=Selecting this switch turns on the thunderstorm electrification
    =scheme and allows any section 21 lightning diagnostics to be
    =available
sort-key=electric01
trigger=namelist:run_electric=electric_method: .true.
type=logical

[namelist:run_eng_corr]
compulsory=true
description=run_eng_corr
ns=namelist/UM Science Settings/section14
title=Section 14 - Energy Correction

[namelist:run_eng_corr=a_energyhours]
compulsory=true
description=Number of hours between successive calls
help=The energy adjustment works by evaluating the total energy of the
    =model at the beginning of a model run and then again at the end of the
    =period specified by the user. Prior to UM 5.1 this period should
    =always have been set to the timestep equivilent of 24 hours to work correctly.
    = Now,
    =the period can take any value which is a multiple of the radiation
    =timestep. During the period the energy fluxes into the atmosphere from
    =the physical parametrization which include radiation are
    =accumulated. At the end of each period the sum of the change in energy
    =due to parametrizations is compared to the total change in energy. The
    =difference is the error and is used to work out the correction
    =required for the next period.
range=1:240
type=integer

[namelist:run_eng_corr=l_emcorr]
compulsory=true
description=Include standard energy adjustment
help=The energy adjustment section can be left out if not required
    =
    =This section of code is designed to ensure conservation of certain
    =basic quantities important in long climate integrations. If the code
    =is not included there is no guarantee energy,
    =dry mass and total water
    =will be conserved.
    =
    =For details of the formulation of the energy,
    =mass and possible total
    =water adjustments see the UM documentation on the energy correction.
    =
    =Energy conservation
    =
    =>From UM 5.0 onwards the basic dynamics of the model no longer
    =conserves dry energy. Prior to UM 5.0 the old Eulerian dynamics of the
    =model could have been coded to conserve energy. (In practice this was
    =not the case.)
    =
    =Even if the dynamics of the model conserves energy the UM lacks a
    =physical parametrization for frictional heating and therefore the
    =model will not conserve energy. The missing energy is corrected for by
    =including an energy correction in the form of a uniform increment to
    =temperature,
    =of the form Cv(dT/dt).
    =
    =The energy adjustment works by evaluating the total energy of the
    =model at the beginning of a model run and then again at the end of the
    =period specified by the user. Prior to UM 5.1 this period should
    =always have been set to 24 hours to work correctly. Now,
    =the period
    =can take any value which is a multiple of the radiation
    =timestep. During the period the energy fluxes into the atmosphere from
    =the physical parametrization which include radiation are
    =accumulated. At the end of each period the sum of the change in energy
    =due to parametrizations is compared to the total change in energy. The
    =difference is the error and is used to work out the correction
    =required for the next period.
sort-key=aa1
trigger=namelist:run_eng_corr=lmass_corr: .true.;
       =namelist:run_eng_corr=lemq_print: .true.;
       =namelist:run_eng_corr=a_energyhours: .true.;
type=logical

[namelist:run_eng_corr=lemq_print]
compulsory=true
description=Include additional diagnostic printout
help=Switch for additional printout
    =
    =Additional information in the job output can be obtained by setting
    =this switch. The total moisture and mass conservation is then checked
    =and results printed even if the corrections are not applied. Also the
    =components making up the total energy will be printed separately.
type=logical

[namelist:run_eng_corr=lmass_corr]
compulsory=true
description=Include dry mass correction
help=Dry Mass conservation.
    =
    =
    =The dynamics of the model should conserved dry mass (see UM
    =documentation on the model dynamics). In very long integrations
    =numerical rounding can result in a drift in the mass of the
    =atmosphere. This can be corrected if the user chooses to set the
    =switch for dry mass correction.
    =
    =At the beginnng of a run the total dry mass of the atmosphere is
    =evaluated and stored. In every energy correction period any drift away
    =from the initial value is evaluated and the dry density of the model
    =is adjusted to correct for this drift.
type=logical

[namelist:run_free_tracers]
compulsory=true
description=run_free_tracers
ns=namelist/UM Science Settings/section33
title=Section 33 - Free Tracers

[namelist:run_free_tracers=i_free_tracer]
compulsory=true
description=Specify which STASH tracer items to be included.
help=The items will have STASHmaster entries from section 33.
    = Specify with either 0 or 1:
    =  0 - Do not include
    =  1 - Include from dump
length=150
sort-key=a2
values=0,1

[namelist:run_free_tracers=i_free_tracer_lbc]
compulsory=true
description=Specify which tracers have lateral boundary condition
           =data in the LBC input file.
help=Specify with either 0 or 1 for each tracer
    = 0 - No LBC data
    = 1 - LBC data present
length=150
sort-key=a4
values=0,1

[namelist:run_free_tracers=l_bl_tracer_mix]
compulsory=true
description=Boundary layer mixing of tracers
sort-key=a5
type=logical

[namelist:run_free_tracers=l_free_tracer]
compulsory=true
description=Include free tracers in the atmosphere
help=This feature allows users to specify the use of Free Tracer items
    =as a tool for model development. 150 "free tracer prognostics" are
    =available in section 33,
    =items 1-150. These tracers are in addition
    =to UKCA tracers which are now in section 34.
    =
    =Most users will not require any free tracer items to be used at all.
    =
    =Tracers are "prognostic" items that are advected using the tracer
    =advection scheme,
    =and are transported by the convection scheme.
    =These items can be used for any purpose,
    =and are typically chemical
    =compounds or aerosols,
    =with concentrations in units of mass mixing
    =ratio. The tracers are also treated by the boundary layer mixing code,
    =but this is made optional by the l_bl_tracer_mix variable.
    =
    =The selection of a tracer makes space in the model dump and in the D1
    =array,
    =but the user must arrange for the intialisation of each tracer in
    =the dump (see below),
    =and add code for any emission or transformation.
    =Tracers are defined on the theta grid,
    =and are advected in a similar way
    =to water vapour. Details of the advection scheme are specified in the
    =run_sl namelist. It is recommended that "more acurate"
    =moisture_conservation = 3 is selected.
    =
    =In all cases the free tracers are identified by STASH ITEM NUMBER.
    =Unless the tracers are already included in the selected start dump,
    =they are introduced and initialised by the reconfiguration.
    =This is done by introducing STASHmaster records via a
    =branch. Initialisations include setting
    =the field to be zero or a constant number,
    =or initialisation via a
    =specified ancillary file.
    =
    =The option codes of your STASH records must be made identical to the
    =records from STASHmaster_A,
    =section 33,
    =e.g. the last three digits of
    =option code n3n2n1 are the same as the item number. See example below:
    =
    =Item number - first row,
    =third item is 117 and
    =Option code - third row,
    =first item is 000000000000000000000000000117
    =too.
    =Space code  - second row,
    =first item is 2 "primary field available to stash"
    =#
    =1|    1 |   33 |  117 |ATM TRACER117               AFTER TS|
    =2|    2 |    0 |    1 |    1 |    2 |   10 |   11 |    0 |    0 |    0 |    0 |
    =3| 000000000000000000000000000117 | 00000000000000000001 |    1 |
    =4|    1 |    0 | -99  -99  -99  -99  -99  -99  -99  -99  -99  -99 |
    =5|    0 |  501 |    1 |   65 |    0 |    0 |    0 |    0 |    0 |
    =#
    =
    =
    =Lateral boundary conditions (LBCs) for the  free tracers may be input
    =using a file as for physical variables such as temperature. The file
    =is specified by namelist:nlcfiles=alabcin1.
    =To use tracer LBCs check the box "Turn on free tracer LBCs".
    =Then in the i_free_tracer_lbc array,
    =for every tracer for which
    =there is an LBC in the input file,
    =select 0 for not present and 1 for LBC
    =data present. Even if this tracer is not used in the model run you are
    =doing,
    =this is needed if a tracer exists in the driving model. It is
    =still possible to run without LBCs and to use a mixture of tracers with
    =and without LBCs.
sort-key=a1
trigger=namelist:run_free_tracers=i_free_tracer: .true.;
       = namelist:run_free_tracers=l_free_tracer_lbc: .true.;
       = namelist:run_free_tracers=l_bl_tracer_mix: .true.;
type=logical

[namelist:run_free_tracers=l_free_tracer_lbc]
compulsory=true
description=Turn on free tracer LBCs
help=Lateral boundary conditions (LBCs) for the  free tracers may be input
    =using a file as for physical variables such as temperature. The file
    =is specified by the namelist:nlcfiles=alabcin1.
    =To use tracer LBCs check the box "Turn on free tracer LBCs".
    =Then in the i_free_tracer_lbc array,
    =for every tracer for which
    =there is an LBC in the input file,
    =select 0 for not present and 1 for LBC
    =data present. Even if this tracer is not used in the model run you are
    =doing,
    =this is needed if a tracer exists in the driving model. It is
    =still possible to run without LBCs and to use a mixture of tracers with
    =and without LBCs.
sort-key=a3
trigger=namelist:run_free_tracers=i_free_tracer_lbc: .true.;
type=logical

[namelist:run_gwd]
compulsory=true
description=run_gwd
ns=namelist/UM Science Settings/section06
title=Section 06 - Gravity Wave Drag

[namelist:run_gwd=fbcd]
compulsory=true
description=Flow blocking drag coefficient
range=0:20
sort-key=2j
type=real

[namelist:run_gwd=gsharp]
compulsory=true
description=Function of mountain sharpness,
           =used to tune amplitude of orographic gwd.
range=0:10
sort-key=2i
type=real

[namelist:run_gwd=gwd_frc]
compulsory=true
description=Critical Froude Number
help=The critical Froude number determines the proportion of that drag
    =attributed to flow blocking and gravity wave drag respectively. The
    =larger the critical Froude number the larger the proportion attributed to
    =flow blocking.
    =
    =This value should be of order 1,
    =but takes the value of 4 in most
    =operational configurations since smaller values can lead to excessive
    =drags in the lower stratosphere.
range=0.5:10
sort-key=2c
type=real

[namelist:run_gwd=gwd_fsat]
compulsory=true
description=Critical Froude number for wave breaking used in the amplitude based saturation test.
help=The inverse critical Froude number for wave saturation is used by the
    =amplitude based scheme only. Theoretically this should be approximately 1.0. In practice
    =this is set to 0.25 for both GA6 and GA7.
    =
    =Increasing the value will cause an increase in the wave amplitude
    =required before wave breaking occurs.
range=0.1:10
sort-key=2h
type=real

[namelist:run_gwd=i_gwd_vn]
compulsory=true
description=i_gwd_vn = 0: Gravity wave drag not included.
           =i_gwd_vn = 4: New orographic scheme including flow blocking AND/OR spectral gravity wave scheme.
           =i_gwd_vn = 5: New Orographic Scheme AND/OR spectral gravity wave scheme.
help=There are two separate drag schemes which fall under the
    ="gravity-wave-drag" umbrella. The first is the orographic flow-blocking
    =and gravity-wave drag scheme and the second is the non-orographic
    =spectral gravity-wave drag scheme.
    =
    =Either or both schemes can be included in a model run because,
    =as their names imply,
    =the schemes are independent of each other.
    =
    =The orographic scheme should be switched on for all global and limited area
    =models with resolutions equal to or coarser than 4 km in the horizontal.
    =The Ultra-Simple Spectral Parametrization (USSP) non-orographic GW
    =scheme is recommended for both (climate and NWP) global model configurations
    =with model lids higher than 40 km.
sort-key=1a
trigger=namelist:run_gwd=l_gwd: 4,
       =5;
       =namelist:run_gwd=kay_gwave: 4;
       =namelist:run_gwd=l_use_ussp: 4,
       =5;
       =namelist:run_gwd=nsigma: 4,
       =5;
       =namelist:run_gwd=gsharp: 5;
       =namelist:run_gwd=fbcd: 5;
       =namelist:run_gwd=gwd_fsat: 5;
       =namelist:run_gwd=l_gw_heating: 5;
       =namelist:run_gwd=l_smooth: 5;
       =namelist:run_stochastic=gwd_frc_max: 4;
       =namelist:run_stochastic=gwd_frc_min: 4;
       =namelist:run_stochastic=kay_gwave_min: 4;
       =namelist:run_stochastic=kay_gwave_max: 4;
values=0,4,5

[namelist:run_gwd=kay_gwave]
compulsory=true
description=Surface stress constant for GW drag
help=The surface gravity wave constant defines the magnitude of the
    =parametrized response. This value should be in the range 3e3 to 6e3 for all models.
    =
    =Note that the surface gravity wave constant is VERY SENSITIVE to the
    =choice of filtering applied to the source dataset - so please make sure
    =that it is set consistent with the value of FILT_SRCE_LENGTH used when
    =creating the orography ancillary file. When FILT_SRCE_LENGTH=6000 (m),
    =the surface gravity wave constant should be in the range 3e3 to 6e3,
    =whilst when FILT_SRCE_LENGTH=40000 (m) the surface gravity wave constant
    =should be 1e5. The recommended setting for FILT_SRCE_LENGTH is 6000m.
range=0:1e6
sort-key=2b
type=real

[namelist:run_gwd=l_gw_heating]
compulsory=true
description=Apply heating due to gravity-wave dissipation. Tick boxes turn on the scheme as follows:-
           = 1 = flow blocking,
           =2 = orographic gravity waves,
           =3 = non-orographic waves.
           = If only one tick box is visible,
           =click on the '+' twice to reveal all three.
help=The 5A scheme includes the option to apply heating due to the frictional
    =dissipation of gravity waves and flow blocking drag. When the 5A scheme
    =is selected the heating can also be applied in the non-orographic gravity wave scheme.
    =
    =The values of the logical array have the following effect:
    =
    =Index  Setting Effect
    = 1      TRUE   Turn on heating due to flow blocking
    = 2      TRUE   Turn on heating due to orographic gravity wave dissipation
    = 3      TRUE   Turn on heating due to non-orographic gravity wave dissipation
length=3
sort-key=2l
type=logical

[namelist:run_gwd=l_gwd]
compulsory=true
description=Include orographic drag scheme?
help=When this switch is set to true,
    =either the 4A or 5A GWD scheme is used. The choice of scheme is
    =determined by the setting of i_gwd_vn. See UMDP 27 for full details of these two schemes.
ns=namelist/UM Science Settings/section06
sort-key=2a
trigger=namelist:run_gwd=kay_gwave: .true.;
       =namelist:run_gwd=gwd_frc: .true.;
       =namelist:run_gwd=nsigma: .true.;
       =namelist:run_gwd=l_smooth: .true.;
       =namelist:run_gwd=l_gw_heating: .true.;
       =namelist:run_gwd=gwd_fsat: .true.;
       =namelist:run_gwd=gsharp: .true.;
       =namelist:run_gwd=fbcd: .true.;
type=logical

[namelist:run_gwd=l_smooth]
compulsory=true
description=Turn on smoothing of acceleration over a vertical wavelength
sort-key=2k
type=logical

[namelist:run_gwd=l_use_ussp]
compulsory=true
description=Include spectral gravity wave scheme?
help=Setting this to true activates the non-orographic spectral GWD scheme.
    =The scheme is unchanged between versions 4 and 5,
    =although the heating due
    =to gravity wave dissipation is only active when i_gwd_vn is set to 5.
ns=namelist/UM Science Settings/section06
sort-key=3a
trigger=namelist:run_gwd=l_ussp_opaque: .true.;
       =namelist:run_gwd=ussp_launch_factor: .true.
type=logical

[namelist:run_gwd=l_ussp_opaque]
compulsory=true
description=Use Opaque model lid condition
help=Activate "Use Opaque model lid condition" to apply this condition to the
    =parametrised pseudomomentum flux reaching the model top.
    =
    =Although at the launch level there is no net contribution to the mean
    =flow,
    =as wave energy is deposited on ascent through the model,
    =there is
    =potentially a net pseudomomentum entering the top layer.
    =
    =The default "Transparent lid" condition allows all residual
    =pseudomomentum reaching the model lid to pass out of the model,
    =which
    =introduces a net source or sink of horizontal pseudomomentum into the
    =mean flow of the top level that is theoretically undesirable.
    =
    =Selecting "Opaque model lid condition" ensures conservation of
    =pseudomomentum by resetting the flux through the top lid to zero.
    =(Note that this is done after the fluxes are written to STASH so that
    =the flux diagnostics show how much extra pseudomomentum is deposited
    =in the top layer).
    =
    =Although theoretically preferable the Opaque lid choice can lead to
    =large accelerations in the top level horizontal wind components if the
    =residual pseudomomentum is significant. As the lid is raised high
    =enough such that almost all the wave energy is deposited within the
    =model,
    =differences between the two options correspondingly disappear.
sort-key=3b
type=logical

[namelist:run_gwd=nsigma]
compulsory=true
description=Scaling factor for standard deviation of orography to give height of sub-grid mountain peaks.
help=nsigma is the factor used to scale the standard deviation of the sub-grid orography to provide a reasonable estimate
    =of the height of the highest peaks within a model grid box. In the code this height defines the top of the
    =near-surface layer of air which is impinging on the sub-grid orography.
    =
    =Default value is 2.5 for GA3 through to and including GA7.
range=0.5:10
sort-key=2d
type=real

[namelist:run_gwd=ussp_launch_factor]
compulsory=true
description=Factor enhancement for wave launch amplitude
help="Factor enhancement for wave launch amplitude" allows the global source
    =to be adjusted about its default value (selected for a factor = 1.0).
    =
    =The permitted range is from 0.0 (switch off globally invariant source)
    =to 10.0 (spectrum saturated at launch level) to have it as an input
    =unless it changes,
    =but significant impact on the QBO period is usual
    =for deviations about 1.0 of order ten percent.
range=0:10
sort-key=3c
type=real

[namelist:run_murk]
compulsory=true
ns=namelist/UM Science Settings/section17/run_murk
title=Murk Aerosol

[namelist:run_murk=l_murk]
compulsory=true
description=Use total aerosol field
help=Options that affect the prognostic variables that are used in the run for
    =the atmospheric sub-model.
    =
    =The "Total aerosol field" can be used for visibility forecasting,
    =with source/sink terms,
    =advection of the aerosol and
    =supply of boundary aerosol data for the UK mes domain.
    =Additionally,
    =transport by parametrized convection can be included
    =and the radiative effects of these aerosols can be accounted
    =for in an approximate fashion,
    =in both the short-wave and long-wave.
trigger=namelist:run_murk=l_murk_advect: .true.;
       =namelist:run_murk=l_murk_source: .true.;
       =namelist:run_murk=l_murk_vis: .true.
type=logical

[namelist:run_murk=l_murk_advect]
compulsory=true
description=Advect the aerosol
help=The "Total aerosol field" can be used for visibility forecasting,
    =with
    =source/sink terms,
    =advection of the aerosol and supply of boundary aerosol
    =data for the UK mes domain.  Additionally,
    =transport by parametrized convection
    =can be included and the radiative effects of these aerosols can be accounted
    =for in an approximate fashion,
    =in both the short-wave and long-wave.
type=logical

[namelist:run_murk=l_murk_lbc]
compulsory=true
description=Input LBCs include murk aerosol
type=logical

[namelist:run_murk=l_murk_source]
compulsory=true
description=Include source/sink terms
help=The "Total aerosol field" can be used for visibility forecasting,
    =with
    =source/sink terms,
    =advection of the aerosol and supply of boundary aerosol
    =data for the UK mes domain.  Additionally,
    =transport by parametrized convection
    =can be included and the radiative effects of these aerosols can be accounted
    =for in an approximate fashion,
    =in both the short-wave and long-wave.
type=logical

[namelist:run_murk=l_murk_vis]
compulsory=true
description=Use the aerosol field to diagnose visibility
help=If selected the murk aerosol field will be used to diagnose visibility.
    =Otherwise,
    =an aerosol concentration of 10 micrograms per kg is used
type=logical

[namelist:run_nudging]
compulsory=true
description=run_nudging
ns=namelist/UM Science Settings/section39
title=Section 39 - Nudging

[namelist:run_nudging=l_nudging]
compulsory=true
description=Include nudging
fail-if=this == ".true." and namelist:nlstcgen=steps_per_periodim % 24 != 0;
       =# Model step must coincide with whole hours for nudging scheme
help=Nudging,or Newtonian relaxation,
    =is a simple form of data assimilation that
    =adjusts dynamical variables of free running GCMs using meteorological re-analysis
    =data to give a realistic represention of the atmosphere at a given time.
    =
    =The Nudged model was developed originally at the University of Cambridge under
    =the Met Office - NCAS collaboration. A detailed description can be found in:
    =Telford,
    =P. J.,Braesicke,P.,Morgenstern,O.,and Pyle,
    =J. A.:
    =Technical Note: description and assessment of a nudged version of
    =the new dynamics Unified Model,
    =Atmos. Chem. Phys.,8,1701-1712,
    =2008.
    =
    =The variables in UM that can be currently nudged are horizontal winds (u and v)
    =and potential temperature (Theta) by using the ECMWF ERA-40 or operational data,
    =UM Analyses and the Japanese (JRA-25) Analyses.
    =
    =The analysis files are loaded as NetCDF in a specific format,
    =derived from the
    =original analysis files.
    =
    =Note: Since most operational/ analysis datasets are produced according to the
    =Gregorian (365 day) Calendar,
    =it is advisable to run any UM model configuration
    =that uses Nudging,
    =with a Gregorian calendar (See the User Guide for the changes
    =required in model setup to enable this). The 360 day calendar may be used only
    =for short term runs as the discontinuities in the data,
    =such as the exclusion of
    =the 31st of different months can cause instabilities.
trigger=namelist:run_nudging=ndg_relax_uvalue: .true.;
       =namelist:run_nudging=ndg_relax_vvalue: .true.;
       =namelist:run_nudging=ndg_relax_tvalue: .true.;
       =namelist:run_nudging=ndg_lev_bottom: .true.;
       =namelist:run_nudging=ndg_lev_top: .true.;
       =namelist:run_nudging=ndg_on_lev_bottom: .true.;
       =namelist:run_nudging=ndg_on_lev_top: .true.;
       =namelist:run_nudging=ndg_hours_perdata: .true.;
       =namelist:run_nudging=ndg_analysis_source: .true.;
       =namelist:run_nudging=ndg_datapath: .true.;
       =namelist:run_nudging=ndg_strat_fac: .true.;
type=logical

[namelist:run_nudging=ndg_analysis_source]
compulsory=true
description=Source of Analyses data being used
help=Source of Analyses data; 0 = ECMWF on hybrid levels; 1 = ECMWF on pressure levels; 2 = UM analyses; 3 = JRA Analyses.
range=0:3
type=integer

[namelist:run_nudging=ndg_datapath]
compulsory=true
description=Pathname to analyses files
help=Directory pathname for location of analysis datafiles on executing node.
type=character

[namelist:run_nudging=ndg_hours_perdata]
compulsory=true
description=Numbers of hours per analyses data timestep
help=Uniform time interval (hours) between analysis datafiles; each file must contain only a single data record.
range=1:

[namelist:run_nudging=ndg_lev_bottom]
compulsory=true
description=Bottom level for nudging
fail-if=this < 1 or this > namelist:nlsizes=model_levels;
help=Lowermost level of nudging. It is advisable not to apply nudging in the boundary layer.
type=integer

[namelist:run_nudging=ndg_lev_top]
compulsory=true
description=Top level for nudging
fail-if=this < 1 or this > namelist:nlsizes=model_levels;
help=Topmost level of nudging. It is advisable not to apply nudging too close tothe model top.
type=integer

[namelist:run_nudging=ndg_on_lev_bottom]
compulsory=true
description=Ramp bottom end of nudging
fail-if=this < 1 or this > namelist:nlsizes=model_levels;
help=Range of lower levels over which nudging is ramped up to full strength.
type=integer

[namelist:run_nudging=ndg_on_lev_top]
compulsory=true
description=Ramp top end of nudging
fail-if=this < 1 or this > namelist:nlsizes=model_levels;
help=Range of upper levels over which nudging is ramped up to full strength.
type=integer

[namelist:run_nudging=ndg_relax_tvalue]
compulsory=true
description=Nudging relaxation parameter for T
help=Controls amount by which T is nudged towards analysis data. Recommended value is 1/(time between analyses in sec); too small - ineffective; too large - model instability.
type=real

[namelist:run_nudging=ndg_relax_uvalue]
compulsory=true
description=Nudging relaxation parameter for u
help=Controls amount by which u is nudged towards analysis data. Recommended value is 1/(time between analyses in sec); too small - ineffective; too large - model instability.
type=real

[namelist:run_nudging=ndg_relax_vvalue]
compulsory=true
description=Nudging relaxation parameter for v
help=Controls amount by which v is nudged towards analysis data. Recommended value is 1/(time between analyses in sec); too small - ineffective; too large - model instability.
type=real

[namelist:run_nudging=ndg_strat_fac]
compulsory=true
description=Stratospheric Nudging relaxation factor
fail-if=this < 0.0 or this > 1.0;
help=Controls amount by which strength of Nudging is reduced in the stratosphere. Expected value 0.0 - 1.0,
    =where 1.0=Full nudging,0.0=No nudging in stratosphere.
type=real

[namelist:run_ozone]
compulsory=true
description=run_ozone
ns=namelist/UM Science Settings/General Physics Options/Ozone

[namelist:run_ozone=zon_av_ozone]
compulsory=true
description=Ozone is held as:
           = zonal average value => TRUE
           = full field => FALSE
type=logical

[namelist:run_precip]
compulsory=true
description=run_precip
ns=namelist/UM Science Settings/section04
title=Section 04 - Microphysics (Large-scale precipitation)

[namelist:run_precip=a_ratio_exp]
compulsory=true
description=Exponent in the cross-sectional area ratio relation ice
help=When the shape-dependent riming rates are used,
    =this is the exponent
    =used to specify the cross-sectional area of ice particles.
    =The cross-sectional area ratio is given as
    =R(D) = a_ratio_input D^a_ratio_exp. In the code,
    =the
    =actual particle area is A = R*D^2 (the neglected factor of 4/pi
    =being considered as part uncertainity in
    =the collection efficency of ice/liquid collisions).
ns=namelist/UM Science Settings/section04/ice
range=-1:0
sort-key=mphys_ice12
type=real

[namelist:run_precip=a_ratio_fac]
compulsory=true
description=Prefactor in the cross-sectional area ratio relation ice
help=When the shape-dependent riming rates are used,
    =this is the prefactor
    =used to specify the cross-sectional area of ice particles.
    =The cross-sectional area ratio is given as
    =R(D) = a_ratio_input D^a_ratio_exp. In the code,
    =the
    =actual particle area is A = R*D^2 (the neglected factor of 4/pi
    =being considered as part of the uncertainity in
    =the collection efficency of ice/liquid collisions).
ns=namelist/UM Science Settings/section04/ice
range=0:1
sort-key=mphys_ice12
type=real

[namelist:run_precip=ai]
compulsory=true
description=Aggregate mass coefficient
help=This allows the explicit input of ice particle mass-
    =diameter relationships. The mass-diameter is of ice
    =aggregates is defined as m(D) = ai D^bi. This variable
    =is ai in this relationship and should take a positive value.
ns=namelist/UM Science Settings/section04/ice
range=0:
sort-key=mphys_ice04
type=real

[namelist:run_precip=aic]
compulsory=true
description=Crystal mass coefficient
help=This allows the explicit input of ice particle mass-
    =diameter relationships. The mass-diameter is of ice
    =crystals is defined as m(D) = aic D^bic. This variable
    =is aic in this relationship and should take a positive value.
ns=namelist/UM Science Settings/section04/ice
range=0:
sort-key=mphys_ice06
type=real

[namelist:run_precip=ar]
compulsory=true
description=Axial ratio for aggregates
help=It is possible to change the assumed axial ratios for both ice crystals
    =and aggregates in the UM. This impacts the shape of the ice crystals,
    =which in turn is fed through to the ice processes of
    =deposition/sublimation (growth from and decay to and water vapour) and
    =melting. No other ice processes are affected. Values can be selected as
    =follows:
    =
    =Above     1.0 : Prolates (Vertical axis longer than the horizonal axis)
    =Equal to  1.0 : Spheres (Default in most UM configurations)
    =Less than 1.0 : Oblate (Horizontal axis longer than vertical axis)
    =
    =The maximum value of the axial ratio that should be selected in the UM is
    =10.0 and the minimum value is 0.01.
ns=namelist/UM Science Settings/section04/ice
range=0.01:10
sort-key=mphys_ice18
type=real

[namelist:run_precip=arc]
compulsory=true
description=Axial ratio for crystals
help=It is possible to change the assumed axial ratios for both ice crystals
    =and aggregates in the UM. This impacts the shape of the ice crystals,
    =which in turn is fed through to the ice processes of
    =deposition/sublimation (growth from and decay to and water vapour) and
    =melting. No other ice processes are affected. Values can be selected as
    =follows:
    =
    =Above     1.0 : Prolates (Vertical axis longer than the horizonal axis)
    =Equal to  1.0 : Spheres (Default in most UM configurations)
    =Less than 1.0 : Oblate (Horizontal axis longer than vertical axis)
    =
    =The maximum value of the axial ratio that should be selected in the UM is
    =10.0 and the minimum value is 0.01.
ns=namelist/UM Science Settings/section04/ice
range=0.01:10
sort-key=mphys_ice19
type=real

[namelist:run_precip=arcl_inhom_sc]
compulsory=true
description=Scaling factor for drop number derived from climatological aerosols
help=The cloud droplet number derived from the climatological aerosols may
    =be scaled before being used in the precipitation scheme. The value
    =set here is the scaling factor. So,
    =as an example,
    =setting a scaling
    =factor of 1.5 will change a droplet number calculated to be 300 per cm3
    =to 450 per cm3. The scaling factor may range between 0.01 and 10.
ns=namelist/UM Science Settings/section04/cdrop
range=0.01:10
sort-key=tpr2
type=real

[namelist:run_precip=bi]
compulsory=true
description=Aggregate mass exponent
help=This allows the explicit input of ice particle mass-
    =diameter relationships. The mass-diameter is of ice
    =aggregates is defined as m(D) = ai D^bi. This variable
    =is bi in this relationship.
ns=namelist/UM Science Settings/section04/ice
range=0:
sort-key=mphys_ice05
type=real

[namelist:run_precip=bic]
compulsory=true
description=Crystal mass exponent
help=This allows the explicit input of ice particle mass-
    =diameter relationships. The mass-diameter is of ice
    =crystals is defined as m(D) = aic D^bic. This variable
    =is bic in this relationship.
ns=namelist/UM Science Settings/section04/ice
range=0:
sort-key=mphys_ice07
type=real

[namelist:run_precip=c_r_correl]
compulsory=true
description=Cloud-rain correlation coefficient
help=Cloud-rain correlation coefficient for use with inhomogeneity
    =parametrization in improved warm rain microphysics scheme.
ns=namelist/UM Science Settings/section04/rain
range=-1:1
sort-key=warm04
type=real

[namelist:run_precip=ci_input]
compulsory=true
description=Prefactor in fallspeed relation of large ice
help=When two different ice fall speeds are used,
    =this is the prefactor
    =used to specify the fallspeed of the large ice particles.
    =The fall speed is given as v(D) = ci_input D^di_input
ns=namelist/UM Science Settings/section04/ice
range=0:1e7
sort-key=mphys_ice11
type=real

[namelist:run_precip=cic_input]
compulsory=true
description=Prefactor in fallspeed relation of small ice
help=When two different ice fall speeds are used,
    =this is the
    =prefactor used to specify the fallspeed of the small ice.
    =The fall speed is given as v(D) = cic_input D^dic_input
ns=namelist/UM Science Settings/section04/ice
range=0:1e7
sort-key=mphys_ice09
type=real

[namelist:run_precip=di_input]
compulsory=true
description=Exponent in fallspeed relation of large ice
help=When two different ice fall speeds are used,
    =this is the exponent
    =used to specify the fallspeed of the large ice particles.
    =The fall speed is given as v(D) = ci_input D^di_input
ns=namelist/UM Science Settings/section04/ice
range=0:1e7
sort-key=mphys_ice12
type=real

[namelist:run_precip=dic_input]
compulsory=true
description=Exponent in fallspeed relation of small ice
help=When two different ice fall speeds,
    =this is the exponent
    =used to specify the fallspeed of the small ice.
    =The fall speed is given as v(D) = cic_input D^dic_input
ns=namelist/UM Science Settings/section04/ice
range=0:1e7
sort-key=mphys_ice10
type=real

[namelist:run_precip=i_mcr_iter]
compulsory=true
description=Sub-timestepping of the microphysics scheme
help=When running with a long model timestep you may,if you wish,
    =choose to sub-step the microphysics code.
    =To do this,
    =use this option and select either the number of iterations over
    =each column or the desired length of each iteration.
    =
    =It is advised to have roughly one substep for every 2 minutes of the timestep length.
ns=namelist/UM Science Settings/section04
sort-key=mphys_gen2
trigger=namelist:run_precip=niters_mp: 1 ;
       =namelist:run_precip=timestep_mp_in: 2
value-titles=None,Set number of microphysics iterations per timestep,
            =Set length of microphysics timestep
values=0,1,2

[namelist:run_precip=l_autoc_3b]
compulsory=true
description=Use autoconversion formulation based on Tripoli and Cotton
           =formulation
help=This selects the general parametrization method used in the original
    =Wilson and Ballard scheme.
    =
    =Selecting this switch for 3D allows the earlier,
    =more simple,formulation to override both the later,
    =more complex autoconversion
    =limit calculation based on concentrations of droplets larger than 20 um,
    =and also the more generic rate calculation.
ns=namelist/UM Science Settings/section04/rain
sort-key=warm05
type=logical

[namelist:run_precip=l_autoconv_murk]
compulsory=true
description=Use the murk aerosol to calculate droplet number
# namelist:run_murk=l_murk must be turned on to have any effect.
help=Some limited-area versions of the UM use a simple aerosol
    =parametrization known as 'murk' to calculate the visibility.
    =If this switch is true,
    =then this aerosol is also used in
    =the microphysics scheme to produce a simple aerosol-cloud
    =interaction to control the amount of drizzle produced. For
    =further information,
    =see Wilkinson et al (2013),
    =QJRMS
    =http://dx.doi.org/10.1002/qj.1975
ns=namelist/UM Science Settings/section04/cdrop
sort-key=drop01
trigger=namelist:run_precip=l_clark_aero: .true.;
       = namelist:run_precip=l_mcr_arcl: .false.;
       = namelist:run_ukca=l_ukca_aie2: .false.
type=logical
warn-if=(this) == ".true." and namelist:run_murk=l_murk == ".false.";

[namelist:run_precip=l_clark_aero]
compulsory=true
description=Change to Clark et al murk aerosol scheme
help=When using the murk aerosol scheme,
    =the default formulation
    =is described in Haywood et al (2008),
    =QJRMS 134 1817--1832. However,
    =selecting the checkbox 'Change to Clark et al murk aerosol scheme'
    =will alter the formulation to that described in Clark et al (2008),
    =QJRMS 134 1801--1816. This changes the cloud drop assumptions in the
    =precipitation scheme only and does not affect the calculation of
    =visibility.
ns=namelist/UM Science Settings/section04/cdrop
sort-key=drop02
type=logical

[namelist:run_precip=l_cry_agg_dep]
compulsory=true
description=Share supersaturation between crystals and aggregates
help=Both depositional growth by the ice crystal category and depositional
    =growth by the aggregate category can deplete the supersaturation.
    =When this switch is active the amount of supersaturation that each ice
    =category can deplete is equal to the overall supersaturation
    =multiplied by the fraction of ice mass that is in each category.
    =Hence the supersaturation cannot be completely depleted twice over.
ns=namelist/UM Science Settings/section04/ice
sort-key=mphys_ice13
type=logical

[namelist:run_precip=l_diff_icevt]
compulsory=true
description=Use two different ice fall speeds
help=This change allows for two different ice fall speeds,
    =one for
    =small ice and one for larger ice dependent on the ice mass.
    =It works particularly well with the Generic Ice PSD.
ns=namelist/UM Science Settings/section04/ice
sort-key=mphys_ice08
trigger=namelist:run_precip=cic_input: .true.;
       =namelist:run_precip=dic_input: .true.;
       =namelist:run_precip=ci_input: .true.;
       =namelist:run_precip=di_input: .true.
type=logical

[namelist:run_precip=l_droplet_tpr]
compulsory=true
description=Enable tapering of cloud droplets towards surface
help=This scheme allows droplet numbers to be tapered from their maximum
    =value down to a lower value towards the surface,
    =and improves
    =microphysical representation during low cloud and fog events.
    =
    =To activate this scheme,
    =activate namelist:run_precip=l_droplet_tpr and
    =then enter an altitude namelist:run_precip=z_peak_nd below which to
    =taper the droplet numbers (500m is recommended) and a value of the
    =droplet number concentration namelist:run_precip=ndrop_surf in metres -
    =20.0E6 is recommended and is typical of fog measurements made at
    =Cardington MRU. For further information,
    =see Wilkinson et al (2013),
    =QJRMS
    =http://dx.doi.org/10.1002/qj.1975
ns=namelist/UM Science Settings/section04/cdrop
sort-key=drop03
trigger=namelist:run_precip=z_peak_nd: .true.;
       =namelist:run_precip=ndrop_surf: .true.;
       =namelist:run_stochastic=ndrop_surf_rp: .true.;
       =namelist:run_stochastic=ndrop_surf_rp_min: .true.;
       =namelist:run_stochastic=ndrop_surf_rp_max: .true.;
       =namelist:run_precip=l_taper_new: .true.
type=logical

[namelist:run_precip=l_fsd_generator]
compulsory=true
description=Use same FSD for warm rain microphysics as used in cloud generator
help=If true,
    =uses same FSD parametrization in improved warm rain microphysics
    =scheme as in cloud generator. If false,
    =the warm rain microphysics uses the
    =parametrization given in Boutle et al. (2014; http://dx.doi.org/10.1002/qj.2140/),
    =irrespective of what is used in the cloud generator.
ns=namelist/UM Science Settings/section04/rain
sort-key=warm03
type=logical

[namelist:run_precip=l_hallett_mossop]
compulsory=true
description=Include Hallett-Mossop Process
help=This switch turns on the process of generating ice particles
    =(sometimes known as 'Rime Splintering') according to the Hallett-Mossop
    =process.
    =
    =Between temperatures of -3 and -8 degrees Celsius,
    =collisions between
    =ice crystals and water (riming) are shown to produce a number of small
    =crystals (i.e. frozen ice splinters) when water droplets freeze on
    =impact.
    =
    =Switching on this option will produce more ice crystals in the UM.
    =
    =Reference: Hallett,
    =J. and Mossop,
    =S. C. 1974. Production of secondary
    =      ice particles during the riming process. Nature,
    =249,26\u201328.
ns=namelist/UM Science Settings/section04/ice
sort-key=mphys_ice14
type=logical

[namelist:run_precip=l_it_melting]
compulsory=true
description=Run with iterative melting
help=This switch is supposed to allow a numerically more accurate,
    =but slightly
    =slower,
    =solution to be found in the melting layer by iterating the ice
    =sedimentation and melting terms when in the melting layer. It was intended
    =for use with 38 or lower vertical levels and has been shown to have little
    =impact for more than 50 levels.
    =
    =This should be selected if the precise position of the rain / snow
    =boundary on the surface is critical to your results and you are running with
    =a limited number of levels in the vertical.
ns=namelist/UM Science Settings/section04/ice
sort-key=mphys_ice15
type=logical

[namelist:run_precip=l_mcr_arcl]
compulsory=true
description=Use climatological aerosols to calculate droplet number
           =(second indirect effect)
ns=namelist/UM Science Settings/section04/cdrop
sort-key=drop08
trigger=namelist:run_precip=arcl_inhom_sc: .true.;
       = namelist:run_ukca=l_ukca_aie2: .false.
type=logical

[namelist:run_precip=l_mcr_qgraup]
compulsory=true
description=Include prognostic graupel
help=Prognostic Graupel
    =Including prognostic graupel introduces a rimed ice particle (graupel)
    =variable into the model and allows advection with the 3-dimensional
    =wind field. It is particularly for use with high resolution (~1km)
    =versions of the model.
ns=namelist/UM Science Settings/section04
sort-key=mphys_gen6
trigger=namelist:run_precip=l_sr2graup: .true.;
       =namelist:run_electric=l_use_electric: .true.
type=logical

[namelist:run_precip=l_mcr_qgraup_lbc]
compulsory=true
description=Input LBCs include graupel
help=This switch should be set to true if the lateral boundary conditions
    =passed in to this limited-area model include prognostic graupel. You
    =can find out what fields are in the lateral boundary conditions file
    =by inspecting it (e.g. with xconv).
ns=namelist/UM Science Settings/section04/lbc
sort-key=mphys_lbc02
type=logical

[namelist:run_precip=l_mcr_qrain]
compulsory=true
description=Include prognostic rain
help=Including prognostic rain allows the model to advect rain with the
    =3-dimensional wind field,
    =rather than rely on the assumption of
    =equilibrium within a model grid column (diagnostic representation).
ns=namelist/UM Science Settings/section04
sort-key=mphys_gen5
type=logical

[namelist:run_precip=l_mcr_qrain_lbc]
compulsory=true
description=Input LBCs include rain
help=This switch should be set to true if the lateral boundary conditions
    =passed in to this limited-area model include prognostic rain. You
    =can find out what fields are in the lateral boundary conditions file
    =by inspecting it (e.g. with xconv).
ns=namelist/UM Science Settings/section04/lbc
sort-key=mphys_lbc01
type=logical

[namelist:run_precip=l_mixed_phase_t_limit]
compulsory=true
description=Apply a temperature threshold below which the mixed phase
           =scheme is active
help=When the mixed phase scheme is active,
    =setting this switch to
    =on will allow the user to apply their own temperature threshold
    =below which the mixed phase scheme is in operation. If this switch
    =is not turned on,
    =the mixed phase scheme will operate at a threshold
    =just below zero Celsius.
ns=namelist/UM Science Settings/section04/mphase
sort-key=mphys_mphase3
trigger=namelist:run_precip=mp_t_limit: .true.
type=logical

[namelist:run_precip=l_psd]
compulsory=true
description=Use generic ice particle size distribution
help=This code uses the idea of a generic ice particle size distribution
    =(PSD) to calculate the microphysical transfer rates between ice and
    =other water species.
    =
    =Only one ice species is assumed (aggregates),
    =and the transfers are
    =calculated via calculation of the moments of the PSD. Two methods are
    =available for calculation of the ice particle size distribution.
    =Upon selection of the generic ice PSD,
    =the choice will default to the
    =mid-latitude version (Field et al,
    =2005).
    =Parametrization of ice-particle size distributions for mid-latitude
    =stratiform cloud. Quart. J. Royal Meterol. Soc.,
    =131,
    =pp 1997-2017).
    =
    =Changing the selection to Global version using
    =namelist:run_precip=l_psd_global will change the calculation to that
    =based on a global data set (Field et al,
    =2007).
    =Snow Size Distribution Parameterization for Midlatitude and Tropical
    =Ice Clouds. J. Atmos. Sci.,
    =64,
    =pp 4346-4365).
    =
    =The first option is more suitable for the mid-latitude and UK-based
    =simulations,
    =while the second option should be more relevant for Hadley
    =centre and global NWP models.
ns=namelist/UM Science Settings/section04/ice
sort-key=mphys_ice01
trigger=namelist:run_precip=l_psd_global: .true.;
       = namelist:run_precip=l_diff_icevt: .true.;
       = namelist:run_precip=l_hallett_mossop: .false.;
       = namelist:run_precip=aic: .false.;
       = namelist:run_precip=bic: .false.;
       = namelist:run_precip=l_cry_agg_dep: .false.;
       = namelist:run_precip=lsp_eic: .false.;
       = namelist:run_precip=lsp_fic: .false.;
       = namelist:run_precip=arc: .false.
type=logical

[namelist:run_precip=l_psd_global]
compulsory=true
description=Choose generic ice p.s.d version
help=This code uses the idea of a generic ice particle size distribution
    =(PSD) to calculate the microphysical transfer rates between ice and
    =other water species.
    =
    =Only one ice species is assumed (aggregates),
    =and the transfers are
    =calculated via calculation of the moments of the PSD. Two methods are
    =available for calculation of the ice particle size distribution.
    =Upon selection of the generic ice PSD,
    =the choice will default to the
    =mid-latitude version (Field et al,
    =2005).
    =Parametrization of ice-particle size distributions for mid-latitude
    =stratiform cloud. Quart. J. Royal Meterol. Soc.,
    =131,
    =pp 1997-2017).
    =
    =Changing the selection to Global version using
    =namelist:run_precip=l_psd_global will change the calculation to that
    =based on a global data set (Field et al,
    =2007).
    =Snow Size Distribution Parameterization for Midlatitude and Tropical
    =Ice Clouds. J. Atmos. Sci.,
    =64,
    =pp 4346-4365).
    =
    =The first option is more suitable for the mid-latitude and UK-based
    =simulations,
    =while the second option should be more relevant for Hadley
    =centre and global NWP models.
ns=namelist/UM Science Settings/section04/ice
sort-key=mphys_ice02
type=logical

[namelist:run_precip=l_rain]
compulsory=true
description=Include microphysics scheme
help=This switch controls whether the microphysics
    =(or large-scale precipitation scheme) is included
    =in the model run. This will usually be set to true,
    =but exceptionally a user may wish to turn the
    =scheme off,
    =in which case it should be set to false.
ns=namelist/UM Science Settings/section04
sort-key=mphys_gen1
trigger=namelist:run_precip=i_mcr_iter: .true.;
       =namelist:run_precip=l_sr2graup: .true.;
       =namelist:run_precip=ai: .true.;
       =namelist:run_precip=bi: .true.;
       =namelist:run_precip=aic: .true.;
       =namelist:run_precip=bic: .true.;
       =namelist:run_precip=lsp_eic: .true.;
       =namelist:run_precip=lsp_fic: .true.;
       =namelist:run_precip=l_it_melting: .true.;
       =namelist:run_precip=ar: .true.;
       =namelist:run_precip=arc: .true.;
       =namelist:run_precip=tnuc: .true.;
       =namelist:run_precip=l_rainfall_as: .true.;
       =namelist:run_precip=l_warm_new: .true.;
       =namelist:run_precip=l_autoc_3b: .true.;
       =namelist:run_precip=x1r: .true.;
       =namelist:run_precip=x2r: .true.;
       =namelist:run_precip=l_autoconv_murk: .true.;
       =namelist:run_precip=l_mcr_arcl: .true.;
       =namelist:run_precip=l_droplet_tpr: .true.;
       =namelist:run_precip=l_hallett_mossop: .true.;
       =namelist:run_precip=l_cry_agg_dep: .true.;
       =namelist:run_precip=l_psd: .true.;
       =namelist:run_precip=l_subgrid_qcl_mp: .true.;
       =namelist:run_precip=l_use_sulphate_autoconv: .true.;
       =namelist:run_stochastic=x1r_rp: .true.;
       =namelist:run_stochastic=x1r_rp_min: .true.;
       =namelist:run_stochastic=x1r_rp_max: .true.;
       =namelist:run_stochastic=ec_auto_rp: .true.;
       =namelist:run_stochastic=ec_auto_rp_min: .true.;
       =namelist:run_stochastic=ec_auto_rp_max: .true.;
       =namelist:run_stochastic=m_ci: .true.;
       =namelist:run_stochastic=m_ci_min: .true.;
       =namelist:run_stochastic=m_ci_max: .true.
type=logical

[namelist:run_precip=l_rainfall_as]
compulsory=true
description=Use Abel and Shipway (2007) rain fall speeds
help=In order to accurately represent light rain and drizzle,
    =a reduced fall
    =speed based on Abel and Shipway (2007,
    =QJRMS) has been inserted into the
    =UM. Details of the parametrization are available here:
    =http://dx.doi.org/10.1002/qj.55/
    =
    =This allows lighter rain rates to fall slower and evaporate spotty
    =drizzle before it reaches the surface.
    =
    =If prognostic rain is switched on,
    =activating this will turn the scheme
    =on. For diagnostic rain (where the 'include prognostic rain' option is
    =turned off),
    =the scheme is slightly different,
    =based on enhancing the
    =evaporation rates of drizzle. In the code,
    =this is defaulted to happen
    =at all rain rates less than 10 mm per hour.
ns=namelist/UM Science Settings/section04/rain
sort-key=warm01
type=logical

[namelist:run_precip=l_shape_rime]
compulsory=true
description=Use ice particle shape-dependent riming rate
help=This code makes the riming rate depend on the cross-sectional
    =area of the ice/snow crystals. The parametrization of area
    =in terms of particle size from Heymsfield and
    =Miloshevich (J. Atmos. Sci.,
    =60,936 (2003)) is used.
    =It also includes a minimum qcl,
    =above which liquid water
    =is available for riming. This follows the findings of
    =Harimaya (J. Meteor. Japan,
    =53(6),
    =384-392) that
    =there is a minimum droplet size for riming to occur.
ns=namelist/UM Science Settings/section04/ice
sort-key=mphys_ice01
trigger=namelist:run_precip=a_ratio_fac: .true.;
       = namelist:run_precip=a_ratio_exp: .true.;
       = namelist:run_precip=qclrime: .true.;
type=logical

[namelist:run_precip=l_sr2graup]
compulsory=true
description=Allow snow-rain collisions to produce graupel
help=This option is only available when prognostic graupel is switched on.
    =
    =When this switch is on,
    =collisions between snow and rain are allowed to
    =form graupel,
    =according to the following table:
    =ICE TYPE          RAIN MIXING RATIO     COLLISION RESULTS IN
    =CRYSTALS           > 1.0E-4 KG/KG           CRYSTALS
    =CRYSTALS           < 1.0E-4 KG/KG           CRYSTALS
    =SNOW AGGREGATES    > 1.0E-4 KG/KG           GRAUPEL
    =SNOW AGGREGATES    < 1.0E-4 KG/KG           SNOW AGGREGATES
    =
    =When the generic ide PSD is switched on,
    =the mean diameter of the
    =particles is used to determine whether the collision results in ice
    =aggregates or graupel. If the mean diameter of water is larger,
    =then
    =graupel particles will be formed.  Otherwise the result of the collision
    =will be an increase in the mixing ratio of aggregates.
    =
    =When the option is switched off,
    =then a collision between rain and
    =crystals produces crystals and similarly,
    =a collision between rain and
    =aggregates forms aggregates.
ns=namelist/UM Science Settings/section04/ice
sort-key=mphys_ice03
type=logical

[namelist:run_precip=l_subgrid_cfl_mp_by_erosion]
compulsory=true
description=Use PC2 PDF width-changing code to liquid cloud fraction
help=When the PC2 scheme is in use,
    =selecting this option will allow the PC2
    =PDF width-changing code,
    =along with a source of QCL,
    =to calculate a CFL
    =source from a PC2-consistent widening of the PDF width.
ns=namelist/UM Science Settings/section04/mphase
# namelist:run_cloud=l_pc2 must be turned on to have any effect.
sort-key=mphys_mphase2
type=logical
warn-if=(this) == ".true." and namelist:run_cloud=l_pc2 == ".false.";

[namelist:run_precip=l_subgrid_qcl_mp]
compulsory=true
description=Include turbulent production of mixed phase cloud?
help=By setting this switch to True,
    =the turbulent production of mixed phase
    =cloud scheme is activated.
ns=namelist/UM Science Settings/section04/mphase
sort-key=mphys_mphase1
trigger=namelist:run_precip=l_subgrid_cfl_mp_by_erosion: .true.;
       =namelist:run_precip=l_mixed_phase_t_limit: .true.;
       =namelist:run_precip=nbins_mp: .true.;
       =namelist:run_precip=mp_dz_scal : .true.;
       =namelist:run_precip=mp_tau_d_lim: .true.;
       =namelist:run_precip=mp_czero: .true.
type=logical

[namelist:run_precip=l_taper_new]
compulsory=true
description=Use variable taper curve
help=Selecting the variable taper will allow the droplet concentration to
    =vary with aerosol mass mixing ratio.
    =
    =The values will alter between the maximum value you enter for
    =namelist:run_precip=max_drop_surf (100.0E6 is recommended) and the
    =surface droplet number concentration,
    =depending on the amount of
    =aerosol present.
ns=namelist/UM Science Settings/section04/cdrop
sort-key=drop06
trigger=namelist:run_precip=max_drop_surf: .true.
type=logical

[namelist:run_precip=l_use_bmass_autoconv]
compulsory=true
description=Use Biomass aerosol SECOND INDIRECT effect
help=The second indirect effect models the impact of the biomass aerosol
    =on cloud lifetimes. To activate this switch,
    =logicals l_biomass and
    =l_use_sulphate_autoconv must both be set to true.
ns=namelist/UM Science Settings/section04/cdrop
sort-key=drop10
type=logical

[namelist:run_precip=l_use_nitrate_autoconv]
compulsory=true
description=Use nitrate aerosol SECOND INDIRECT effect
help=The second indirect effect models the impact of the nitrate aerosol
    =on cloud lifetimes. To activate this switch,
    =logicals l_nitrate and
    =l_use_sulphate_autoconv must both be set to true.
ns=namelist/UM Science Settings/section04/cdrop
sort-key=drop11
type=logical

[namelist:run_precip=l_use_ocff_autoconv]
compulsory=true
description=Use OCFF aerosol SECOND INDIRECT effect
help=The second indirect effect models the impact of the OCFF aerosol
    =on cloud lifetimes. To activate this switch,
    =logicals l_ocff and
    =l_use_sulphate_autoconv must both be set to true.
ns=namelist/UM Science Settings/section04/cdrop
sort-key=drop12
type=logical

[namelist:run_precip=l_use_seasalt_autoconv]
compulsory=true
description=Use Sea-salt aerosol SECOND INDIRECT effect
help=The second indirect effect models the impact of the sea-salt aerosol
    =on cloud lifetimes,
    =and a suitable version of the large scale ppn
    =section must be selected for this.
ns=namelist/UM Science Settings/section04/cdrop
sort-key=drop13
type=logical

[namelist:run_precip=l_use_sulphate_autoconv]
compulsory=true
description=Use Sulphate aerosol SECOND INDIRECT effect
help=The second indirect effect models the impact of the sulphate aerosol
    =on cloud lifetimes. To activate this switch,
    =logicals l_rain and
    =l_sulpc_so2 both need to be set to true.
ns=namelist/UM Science Settings/section04/cdrop
sort-key=drop09
trigger=namelist:run_precip=l_use_seasalt_autoconv: .true.;
       =namelist:run_precip=l_use_bmass_autoconv: .true.;
       =namelist:run_precip=l_use_nitrate_autoconv: .true.;
       =namelist:run_precip=l_use_ocff_autoconv: .true.
type=logical

[namelist:run_precip=l_warm_new]
compulsory=true
description=Use Improved Warm Rain Microphysics Scheme (see help)
help=This switch modifies much of the warm rain microphysics code
    =from its original formulation. The autoconversion and accretion
    =parametrizations are replaced by those of Khairoutdinov and Kogan
    =(2000,
    =MWR),
    =the treatment of rain fraction is now consistent with
    =the prognostic rain formulation,
    =and several bugs have been fixed.
    =Furthermore,
    =the autoconversion and accretion are bias corrected
    =for sub-grid variability in cloud and rain water based on the
    =parametrizations discussed in
    =Boutle et al. (2014; http://dx.doi.org/10.1002/qj.2140/). The user
    =may specify the cloud-rain correlation coefficient for use in the
    =accretion parametrization.
ns=namelist/UM Science Settings/section04/rain
sort-key=warm02
trigger=namelist:run_precip=c_r_correl: .true.;
       =namelist:run_precip=l_fsd_generator: .true.;
       =namelist:run_precip=l_autoc_3b: .false.;
       =namelist:run_stochastic=ec_auto_rp: .false.;
       =namelist:run_stochastic=ec_auto_rp_min: .false.;
       =namelist:run_stochastic=ec_auto_rp_max: .false.;
type=logical

[namelist:run_precip=lsp_eic]
compulsory=true
description=Crystal Best scaling
help=This allows the explicit input of ice particle
    =Best number-Reynolds number relationships.
ns=namelist/UM Science Settings/section04/ice
range=0:10
sort-key=mphys_ice16
type=real

[namelist:run_precip=lsp_fic]
compulsory=true
description=Crystal Best exponent
help=This allows the explicit input of ice particle
    =Best number-Reynolds number relationships.
ns=namelist/UM Science Settings/section04/ice
range=0:1
sort-key=mphys_ice17
type=real

[namelist:run_precip=max_drop_surf]
compulsory=true
description=Max surface droplet number concentration
help=Selecting the variable taper will allow the droplet concentration
    =to vary with aerosol mass mixing ratio.
    =
    =The values will alter between the maximum value you enter
    =(100.0E6 is recommended) and the surface droplet number concentration,
    =depending on the amount of aerosol present. The units used here are
    =number of drops per cubic metre.
ns=namelist/UM Science Settings/section04/cdrop
range=1e7:20e7
sort-key=drop07
type=real

[namelist:run_precip=mp_czero]
compulsory=true
description=Constant c0
help=Constant c0 used in the mixed phase scheme.
    =(c0 is the constant in the second-order Lagrangian structure function.)
ns=namelist/UM Science Settings/section04/mphase
range=0.1:1000.0
sort-key=mphys_mphase8
type=real

[namelist:run_precip=mp_dz_scal]
compulsory=true
description=Layer thickness scaling factor
help=This number is a scaling factor,
    =applied to the layer thickness,
    =which determines the vertical length scale over which the
    =turbulence is assumed to mix. Increasing it will increase the production of
    =liquid water cloud by turbulence.
ns=namelist/UM Science Settings/section04/mphase
range=0.01:10.0
sort-key=mphys_mphase6
type=real

[namelist:run_precip=mp_t_limit]
compulsory=true
description=Temperature threshold below which the mixed phase scheme will
           =be active in (K).
help=This is the input temperature threshold. The mixed phase scheme will
    =operate below the value specified here. A standard threshold is 273.14
    =K,
    =but the user may wish the threshold to operate at a lower or higher
    =temperature.
ns=namelist/UM Science Settings/section04/mphase
range=150.0:300.0
sort-key=mphys_mphase4
type=real

[namelist:run_precip=mp_tau_d_lim]
compulsory=true
description=Limit for the phase relaxation timescale
help=The phase relaxation timescale of the turbulence can vary
    =from fractions of a second to hours or even days. This
    =number is the limit used in the scheme,
    =to avoid complications
    =with very non-turbulent situations and large phase relaxation
    =timescales
ns=namelist/UM Science Settings/section04/mphase
range=1.0:100000.0
sort-key=mphys_mphase7
type=real

[namelist:run_precip=nbins_mp]
compulsory=true
description=Number of bins in the mixed phase scheme
help=This number represents the number of bins included in the
    =mixed phase scheme. Selecting more bins will increase the
    =expense of the scheme,
    =but will allow a more accurate solution.
ns=namelist/UM Science Settings/section04/mphase
range=1:1000
sort-key=mphys_mphase5
type=integer

[namelist:run_precip=ndrop_surf]
compulsory=true
description=Surface droplet number concentration when tapering
help=This scheme allows droplet numbers to be tapered from their maximum
    =value down to a lower value towards the surface,
    =and improves
    =microphysical representation during low cloud and fog events.
    =
    =To activate this scheme,
    =activate namelist:run_precip=l_droplet_tpr and
    =then enter an altitude namelist:run_precip=z_peak_nd below which to
    =taper the droplet numbers (500m is recommended) and a value of the
    =droplet number concentration namelist:run_precip=ndrop_surf in metres -
    =20.0E6 to 100.0E6 are typical of fog measurements made at
    =Cardington MRU.
ns=namelist/UM Science Settings/section04/cdrop
range=1e6:375e6
sort-key=drop05
type=real

[namelist:run_precip=niters_mp]
compulsory=true
description=Number of microphysics iterations per timestep
help=When running with a long model timestep you may,if you wish,
    =choose to sub-step the microphysics code.
    =This variable set the number of iterations over each column.
    =
    =It is advised to have roughly one substep for every 2 minutes of the timestep length.
ns=namelist/UM Science Settings/section04
range=1:999
sort-key=mphys_gen3
type=integer

[namelist:run_precip=precip_segment_size]
compulsory=true
description=Blocking size for improved performance in precip code
help=The default value is 32,
    =which gives the best performance on the Cray
    =
    =However,
    =different values may improve peformance on other platforms.
    =The IBM Power7 used a value of 128.
    =
    =Only change this if you know what you are doing
ns=namelist/UM Science Settings/section04
range=1:999
sort-key=mphys_gen7
type=integer

[namelist:run_precip=qclrime]
compulsory=true
description=Minimum qcl for riming
help=When the shape-dependent riming rates are used,
    =this specifies how much of the qcl in a gridbox
    =is available for the riming process.
    =Only the fraction of qcl that is above
    =qclrime is used to calculate the riming rate.
ns=namelist/UM Science Settings/section04/ice
range=0:1e-02
sort-key=mphys_ice12
type=real

[namelist:run_precip=timestep_mp_in]
compulsory=true
description=Requested length of microphysics timestep (seconds)
help=When running with a long model timestep you may,if you wish,
    =choose to sub-step the microphysics code.
    =This variable sets the requested length of each substep.
    =The actual substep used may be slightly longer or shorter as it
    =needs to divide exactly into the model timestep.
    =
    =It is advised to have roughly one substep for every 2 minutes of the timestep length.
ns=namelist/UM Science Settings/section04
range=1:3600
sort-key=mphys_gen4
type=integer

[namelist:run_precip=tnuc]
compulsory=true
description=Maximum ice nucleation temperature (C)
help=This variable is the temperature at which heterogeneous nucleation of
    =ice first starts to form in the model. See UMDP26 for details. Although
    =ice can exist at temperatures warmer than this value,
    =it is not created
    =until the temperature reaches this value. The default value in many UM
    =configurations is -10 C. Changing the maximum ice nucleation temperature
    =to values colder than this figure will reduce the amount of ice present.
    =Changing the maximum ice nucleation temperature to values warmer than this
    =should increase the ice present in the model run.
ns=namelist/UM Science Settings/section04/ice
range=-100:0
sort-key=mphys_ice20
type=real

[namelist:run_precip=x1r]
compulsory=true
description=Rain particle size distribution: Intercept coefficient
help=The raindrop size distribution is given by the following
    =equation:  N(D) = X1R lambda^X2R D^X4R exp(-lambda D),
    =where lambda is the slope parameter. This is the intercept
    =coefficient,
    =x1r. The best known setting that can be used
    =for rain is that of Abel and Boutle (2012):
    =http://dx.doi.org/10.1002/qj.1949,
    =where
    =x1r is set to 0.22 and x2r is set to 2.2.
    =
    =Other commonly-used settings include
    =Marshall and Palmer (1948): x1r set to 8.0E6; x2r set to 0;
    =and Walters et al (2011,
    =http://dx.doi.org/10.5194/gmd-4-919-2011):
    =x1r set to 26.2 and x2r set to 1.57.
ns=namelist/UM Science Settings/section04/rain
range=0:
sort-key=warm06
type=real

[namelist:run_precip=x2r]
compulsory=true
description=Rain particle size distribution: Intercept exponent
help=The raindrop size distribution is given by the following
    =equation:  N(D) = X1R lambda^X2R D^X4R exp(-lambda D),
    =where lambda is the slope parameter. This is the intercept
    =coefficient,
    =x1r. The best known setting that can be used
    =for rain is that of Abel and Boutle (2012):
    =http://dx.doi.org/10.1002/qj.1949,
    =where
    =x1r is set to 0.22 and x2r is set to 2.2.
    =
    =Other commonly-used settings include
    =Marshall and Palmer (1948): x1r set to 8.0E6; x2r set to 0;
    =and Walters et al (2011,
    =http://dx.doi.org/10.5194/gmd-4-919-2011):
    =x1r set to 26.2 and x2r set to 1.57.
ns=namelist/UM Science Settings/section04/rain
range=-10:10
sort-key=warm07
type=real

[namelist:run_precip=z_peak_nd]
compulsory=true
description=Altitude below which to taper
help=This scheme allows droplet numbers to be tapered from their maximum
    =value down to a lower value towards the surface,
    =and improves
    =microphysical representation during low cloud and fog events.
    =
    =To activate this scheme,
    =activate namelist:run_precip=l_droplet_tpr and
    =then enter an altitude namelist:run_precip=z_peak_nd below which to
    =taper the droplet numbers (500m is recommended) and a value of the
    =droplet number concentration namelist:run_precip=ndrop_surf in metres -
    =20.0E6 to 100.0E6 are typical of fog measurements made at
    =Cardington MRU.
ns=namelist/UM Science Settings/section04/cdrop
range=20:5000
sort-key=drop04
type=real

[namelist:run_radiation]
compulsory=true
description=run_radiation: General options
ns=namelist/UM Science Settings/section01
title=Section 01 - 02  - Radiation

[namelist:run_radiation=a_lw_seg_size]
compulsory=true
description=Segment size for LW
help=The choice of segmenting depends on the ratio between CPU and
    =memory capacity of the machine that you are running on. This facility
    =allows the routines to split the domain into several segments and work
    =on one at a time. This reduces the memory requirements of the job by
    =allowing smaller work-arrays. 1 segment is most efficient on CPU but
    =uses more memory.
    =
    =This needs to be tuned for each configuration,
    =machine and version of
    =the code.
    =
    =By setting this item to a negative number it is possible to specify the
    =number of segments rather than the segment size for SW radiation
    =(see namelist:run_radiation=a_lw_segments).
    =However,
    =setting the segment size directly allows tuning in a manner
    =that should be invariant to decomposition (unlike when setting the
    =number of segments). On the IBM Power 6 it is recommended that
    =the segment size is specified and set to 80 for LW and SW.
    =This can give a useful improvement in runtimes.
ns=namelist/UM Science Settings/section01/lw
range=:-1,1:999999
sort-key=lw04
trigger=namelist:run_radiation=a_lw_segments: this < 0
type=integer

[namelist:run_radiation=a_lw_segments]
compulsory=true
description=Number of segments for LW
help=The choice of segmenting depends on the ratio between CPU and
    = memory capacity of the machine that you are running on. This facility
    = allows the routines to split the domain into several segments and work
    = on one at a time. This reduces the memory requirements of the job by
    = allowing smaller work-arrays. 1 segment is most efficient on CPU but
    = uses more memory.
    =
    = This needs to be tuned for each configuration,
    =machine and version of
    = the code.
    =
    = By setting namelist:run_radiation=a_lw_seg_size to a negative number
    = it is possible to specify the number of segments rather than the segment
    = size. However,
    =setting the segment size directly allows tuning in a
    = manner that should be invariant to decomposition (unlike when setting
    = the number of segments). On the IBM Power 6 it is recommended that
    = the segment size namelist:run_radiation=a_lw_seg_size is
    = specified and set to 80 for LW and SW. This can give a useful
    = improvement in runtimes.
ns=namelist/UM Science Settings/section01/lw
range=:-1,1:
sort-key=lw03
type=integer

[namelist:run_radiation=a_sw_seg_size]
compulsory=true
description=Segment size for SW
help=The choice of segmenting depends on the ratio between CPU and
    = memory capacity of the machine that you are running on. This facility
    = allows the routines to split the domain into several segments and work
    = on one at a time. This reduces the memory requirements of the job by
    = allowing smaller work-arrays. 1 segment is most efficient on CPU but
    = uses more memory.
    =
    = This needs to be tuned for each configuration,
    =machine and version of
    = the code.
    =
    = By setting this item to a negative number it is possible to specify the
    = number of segments rather than the segment size for SW radiation
    = (see namelist:run_radiation=a_sw_segments).
    = However,
    =setting the segment size directly allows tuning in a manner
    = that should be invariant to decomposition (unlike when setting the
    = number of segments). On the IBM Power 6 it is recommended that
    = the segment size is specified and set to 80 for LW and SW.
    = This can give a useful improvement in runtimes.
ns=namelist/UM Science Settings/section01/sw
range=:-1,1:999999
sort-key=sw04
trigger=namelist:run_radiation=a_sw_segments: this < 0
type=integer

[namelist:run_radiation=a_sw_segments]
compulsory=true
description=Number of segments for SW
help=The choice of segmenting depends on the ratio between CPU and
    = memory capacity of the machine that you are running on. This facility
    = allows the routines to split the domain into several segments and work
    = on one at a time. This reduces the memory requirements of the job by
    = allowing smaller work-arrays. 1 segment is most efficient on CPU but
    = uses more memory.
    =
    = This needs to be tuned for each configuration,
    =machine and version of
    = the code.
    =
    = By setting namelist:run_radiation=a_sw_seg_size to a negative number
    = it is possible to specify the number of segments rather than the segment
    = size. However,
    =setting the segment size directly allows tuning in a
    = manner that should be invariant to decomposition (unlike when setting
    = the number of segments). On the IBM Power 6 it is recommended that
    = the segment size namelist:run_radiation=a_sw_seg_size is
    = specified and set to 80 for LW and SW. This can give a useful
    = improvement in runtimes.
ns=namelist/UM Science Settings/section01/sw
range=:-1,1:
sort-key=sw03
type=integer

[namelist:run_radiation=aero_bl_levels]
# depends on cusack_aero_hgt
compulsory=true
description=Number of boundary layer levels over which the aerosol is distributed
help=Number of boundary layer levels over which the aerosol is distributed
    = (up to total number of BL levels)
ns=namelist/UM Science Settings/section01/aero
sort-key=03
type=integer

[namelist:run_radiation=aeroscl_csk_clim]
# depends on cusack_aero
compulsory=true
description=Scalings for aerosols in Cusack's climatology
help=Scaling factors may be applied to the components of the climatology in their standard
    =order: "Water Soluble",
    ="Dust","Oceanic","Soot" and "Stratospheric".
length=5
ns=namelist/UM Science Settings/section01/aero
range=0.0:1.0
sort-key=04
type=real

[namelist:run_radiation=c113mmr]
compulsory=true
description=Specify mass mixing ratio of CFC-113
help=Absorption by CFC-113 may be included only if relevant data are
    =present in the spectral file. An appropriate mass mixing ratio must
    =be set here unless a more complex scheme is used.
    =WDCGG value for 2010 = 4.942e-10 kg/kg
ns=namelist/UM Science Settings/section01/gas
range=0:
sort-key=07
type=real

[namelist:run_radiation=c114mmr]
compulsory=true
description=Specify mass mixing ratio of CFC-114
help=Absorption by CFC-114 may be included only if relevant data are
    =present in the spectral file. An appropriate mass mixing ratio must
    =be set here unless a more complex scheme is used.
ns=namelist/UM Science Settings/section01/gas
range=0:
sort-key=08
type=real

[namelist:run_radiation=c11mmr]
compulsory=true
description=Specify mass mixing ratio of CFC-11
help=Absorption by CFC-11 may be included only if relevant data are
    =present in the spectral file. An appropriate mass mixing ratio must
    =be set here unless a more complex scheme is used.
    =WDCGG value for 2010 = 1.138e-09 kg/kg
ns=namelist/UM Science Settings/section01/gas
range=0:
sort-key=05
type=real

[namelist:run_radiation=c12mmr]
compulsory=true
description=Specify mass mixing ratio of CFC-12
help=Absorption by CFC-12 may be included only if relevant data are
    =present in the spectral file. An appropriate mass mixing ratio must
    =be set here unless a more complex scheme is used.
    =WDCGG value for 2010 = 2.212e-09 kg/kg
ns=namelist/UM Science Settings/section01/gas
range=0:
sort-key=06
type=real

[namelist:run_radiation=ch4mmr]
compulsory=true
description=Specify mass mixing ratio of Methane (CH4)
help=Absorption by methane may be included only if relevant data are
    =present in the spectral file. An appropriate mass mixing ratio must
    =be set here unless a more complex scheme is used.
    =WDCGG value for 2010 = 1.001e-06 kg/kg
ns=namelist/UM Science Settings/section01/gas
range=0:
sort-key=03
type=real

[namelist:run_radiation=clim_rad_volc_eruption_month]
compulsory=true
description=Volcanic eruption month
help=See namelist:run_radiation=l_rad_use_clim_volc
ns=namelist/UM Science Settings/section01/aero
range=1:12
sort-key=07
type=integer

[namelist:run_radiation=clim_rad_volc_eruption_weight]
compulsory=true
description=Factor to scale climatological eruption
help=See namelist:run_radiation=l_rad_use_clim_volc
ns=namelist/UM Science Settings/section01/aero
range=0.0:9.99
sort-key=08
type=real

[namelist:run_radiation=clim_rad_volc_eruption_year]
compulsory=true
description=Volcanic eruption year
help=See namelist:run_radiation=l_rad_use_clim_volc
ns=namelist/UM Science Settings/section01/aero
range=-9999:9999
sort-key=06
type=integer

[namelist:run_radiation=co2_mmr]
compulsory=true
description=Specify CO2 mass mixing ratio for whole run (kg/kg)
help=Absorption by carbon dioxide may be included only if relevant data are
    =present in the spectral file. An appropriate mass mixing ratio must
    =be set here unless a more complex scheme is used.
    =WDCGG value for 2010 = 5.910e-04 kg/kg
ns=namelist/UM Science Settings/section01/gas
range=0:
sort-key=01
type=real

[namelist:run_radiation=cusack_aero]
compulsory=true
description=Use of "Cusack" climatological aerosols
help=Options for the original "Cusack" climatological aerosols scheme
    =(affects both the LW and SW)
    =
    =  1 - Cusack climatological aerosol not included
    =  2 - Only use Stratospheric Cusack climatological aerosol components
    =        (as used in HADGEM1)
    =  3 - Use all components of Cusack climatological aerosol
    =
    =The Cusack aerosol climatology represents a first attempt to include background
    =aerosols in the model and is distinct from the interactive aerosol schemes.
    =It is based on the report WCRP-55 of WMO and uses two basic aerosol profiles,
    =one over ice-free land and one over oceans and land ice. The climatology
    =consists of a boundary layer component and a stratospheric component. The
    =component in the planetary boundary layer may be distributed across either
    =the layers over which the boundary layer scheme is applied,
    =the diagnosed
    =boundary layer height,
    =or a user specified number of levels,
    =depending on
    =the choices in this section. When using other aerosol species,
    =provided either
    =through interactive aerosol schemes (See section 17: Aerosols) or other
    =climatologies in this section,
    =it may be desirable to only include the
    =stratospheric component of the Cusack aerosol (as is standard in HadGEM1).
ns=namelist/UM Science Settings/section01/aero
sort-key=01
trigger=namelist:run_radiation=l_rad_use_clim_volc: 2,
       =3;
       =namelist:run_radiation=cusack_aero_hgt: 3;
       =namelist:run_radiation=aeroscl_csk_clim: 2,
       =3;
       =namelist:run_radiation=aero_bl_levels: 2,3
value-titles=Not included,Use stratospheric components,
            =Use all components
values=1,2,3

[namelist:run_radiation=cusack_aero_hgt]
compulsory=true
description=Distribute the boundary layer aerosol vertically using
ns=namelist/UM Science Settings/section01/aero
sort-key=02
value-titles=the diagnosed boundary layer depth,
            =the number of boundary layer levels,
            =a user specified number of levels
values=1,2,3

[namelist:run_radiation=dp_corr_conv]
compulsory=true
description=Decorrelation pressure scale for convective cloud (Pascals)
help=The vertical overlap of cloud may be treated as "exponential-random"
    =where a certain fraction of the cloud will be maximally overlapped and
    =the remainder randomly overlapped for adjacent layers.
    =
    =The fraction used will depend upon the "decorrelation pressure scale",
    =which is the pressure difference (in Pascals) at which the correlation
    =between clouds falls to 1/e.
ns=namelist/UM Science Settings/section01/cloud
sort-key=04
type=real

[namelist:run_radiation=dp_corr_strat]
compulsory=true
description=Decorrelation pressure scale for stratiform cloud (Pascals)
help=The vertical overlap of cloud may be treated as "exponential-random"
    =where a certain fraction of the cloud will be maximally overlapped and
    =the remainder randomly overlapped for adjacent layers.
    =
    =The fraction used will depend upon the "decorrelation pressure scale",
    =which is the pressure difference (in Pascals) at which the correlation
    =between clouds falls to 1/e.
    =
    =Usually ~10000.0
ns=namelist/UM Science Settings/section01/cloud
sort-key=03
type=real

[namelist:run_radiation=h_lwbands]
compulsory=true
description=Number of LW bands
help=The number of bands should be set based on the chosen longwave
    = spectral file.
ns=namelist/UM Science Settings/section01/lw
range=1:
sort-key=lw05
type=integer

[namelist:run_radiation=h_swbands]
compulsory=true
description=Number of SW bands
help=The number of bands should be set based on the chosen shortwave
    = spectral file.
ns=namelist/UM Science Settings/section01/sw
range=1:
sort-key=sw05
type=integer

[namelist:run_radiation=hcfc22mmr]
compulsory=true
description=Specify mass mixing ratio of HCFC-22
help=Absorption by HCFC-22 be included only if relevant data are
    =present in the spectral file. An appropriate mass mixing ratio must
    =be set here unless a more complex scheme is used.
    =WDCGG value for 2010 = 6.329e-10 kg/kg
ns=namelist/UM Science Settings/section01/gas
range=0:
sort-key=09
type=real

[namelist:run_radiation=hfc125mmr]
compulsory=true
description=Specify mass mixing ratio of HFC-125
help=Absorption by HFC-125 be included only if relevant data are
    =present in the spectral file. An appropriate mass mixing ratio must
    =be set here unless a more complex scheme is used.
ns=namelist/UM Science Settings/section01/gas
range=0:
sort-key=10
type=real

[namelist:run_radiation=hfc134ammr]
compulsory=true
description=Specify mass mixing ratio of HFC-134a
help=Absorption by HFC-134a be included only if relevant data are
    =present in the spectral file. An appropriate mass mixing ratio must
    =be set here unless a more complex scheme is used.
    =WDCGG value for 2010 = 2.113e-10 kg/kg
ns=namelist/UM Science Settings/section01/gas
range=0:
sort-key=11
type=real

[namelist:run_radiation=i_cloud_representation]
compulsory=true
description=Representation of clouds for main radiation call
help=Mixed-phase clouds contain both ice crystals and water droplets. These
    =may be represented as forming a homogeneous mixture or as being
    =segregated into separate sub-clouds placed side by side. The latter is
    =recommended as being more realistic (and is the only option available for
    =a single cloud type,
    =i.e. when there is no convective cloud).
ns=namelist/UM Science Settings/section01/cloud
sort-key=01
value-titles=Ice and water segregated for single cloud type,
            =Homogeneous mixed-phase stratiform/convective,
            =Segregated mixed-phase stratiform/convective,No cloud
values=2,3,4,5

[namelist:run_radiation=i_cloud_representation_2]
compulsory=true
description=Representation of clouds for second radiation call
help=Mixed-phase clouds contain both ice crystals and water droplets. These
    =may be represented as forming a homogeneous mixture or as being
    =segregated into separate sub-clouds placed side by side. The latter is
    =recommended as being more realistic (and is the only option available for
    =a single cloud type,
    =i.e. when there is no convective cloud).
ns=namelist/UM Science Settings/section01/cloud/cloud_2
sort-key=01
value-titles=Ice and water segregated for single cloud type,
            =Homogeneous mixed-phase stratiform/convective,
            =Segregated mixed-phase stratiform/convective,No cloud
values=2,3,4,5

[namelist:run_radiation=i_fsd]
compulsory=true
description=Parametrization of subgrid variability of cloud water content
help=Parametrization of subgrid scale horizontal ice and liquid water
    = content variability.
    = 0 - constant global value defined by rad_mcica_sigma
    = 1 - Parametrization described in Hill et al 2012
    = 2 - Use cca from convection scheme for regime dependent param
    = 3 - Use deep and mid-level (not shallow) cca from conv scheme
    =     for regime dependence
    = 4 - Use parametrization described in Boutle et al 2013
    = 5 - Use regime dependent parametrization with smoothed cca field
    = 6 - Use deep and mid-level cca parametrization with smoothed
    =     cca field.
ns=namelist/UM Science Settings/section01/cloud
range=0:6
sort-key=09
type=integer

[namelist:run_radiation=i_fsd_2]
compulsory=true
description=Parametrization of subgrid variability of cloud water content
help=Parametrization of subgrid scale horizontal ice and liquid water
    = content variability.
    = 0 - constant global value defined by rad_mcica_sigma
    = 1 - Parametrization described in Hill et al 2012
    = 2 - Use cca from convection scheme for regime dependent param
    = 3 - Use deep and mid-level (not shallow) cca from conv scheme
    =     for regime dependence
    = 4 - Use parametrization described in Boutle et al 2013
    = 5 - Use regime dependent parametrization with smoothed cca field
    = 6 - Use deep and mid-level cca parametrization with smoothed
    =     cca field.
ns=namelist/UM Science Settings/section01/cloud/cloud_2
range=0:6
sort-key=04
type=integer

[namelist:run_radiation=i_inhom]
compulsory=true
description=Treatment of horizontal water content variability
help=Cloud water content exhibits subgrid-scale variability. The options for
    =reperesenting the radiative effects of this variability are as follows:
    =
    =  0 - homogeneous: horizontal water content variability is ignored.
    =  1 - scaling factor: The mean water content in each gridbox is multiplied
    =      by the scaling factors given by inhom_cloud_sw and inhom_cloud_lw.
    =  2 - McICA: A stochastic cloud generator is used to produce sub-columns
    =      containing different water content values,
    =which are randomly sampled.
ns=namelist/UM Science Settings/section01/cloud
sort-key=05
value-titles=Homogeneous,Scaling factor,MCICA
values=0,1,2

[namelist:run_radiation=i_inhom_2]
compulsory=true
description=Treatment of horizontal water content variability (second call)
help=See i_inhom.
ns=namelist/UM Science Settings/section01/cloud/cloud_2
sort-key=03
value-titles=Homogeneous,Scaling factor,MCICA
values=0,1,2

[namelist:run_radiation=i_lw_radstep_perday_diag]
compulsory=true
description=Number of times per day for second LW call
help=Number of times per day for second LW call
    =
    =Where "Diagnose radiative forcings" (i_rad_extra_call=1) has been
    =selected,
    =the second call will be purely diagnostic. The second call
    =must coincide with a full prognostic radiation call but may be
    =less often.
    =
    =Where "Incremental time-stepping scheme" (i_rad_extra_call=2) has
    =been selected,
    =the second call is used to calculate approximate
    =radiative increments in-between full radiation calls. These are
    =prognostic and will affect the model evolution. The number of calls
    =per day must be a multiple of the  number of full radiation calls.
ns=namelist/UM Science Settings/section01/lw
range=1:
sort-key=lw02
type=integer

[namelist:run_radiation=i_lw_radstep_perday_prog]
compulsory=true
description=Number of times per day for full LW radiation calls
help=Number of times per day for full LW radiation calls
    =
    =LW Radiation is expensive and in all standard configurations the
    =increments are only calculated periodically,
    =but added in every
    =timestep. The frequency of calling needs to be a multiple of the timestep
    =and depends on the required temporal resolution of the run.
ns=namelist/UM Science Settings/section01/lw
range=1:
sort-key=lw01
type=integer

[namelist:run_radiation=i_overlap]
compulsory=true
description=Treatment of vertical overlap of cloud
help=The options for treating the vertical overlap between different cloud
    =layers as as follows:
    =  0 - maximum-random: clouds in adjacent layers are maximally overlapped,
    =clouds separated by clear-sky are randomly overlapped
    =  1 - random: all clouds are randomly overlapped
    =  3 - exponential-random: for clouds in adjacent layers the overlap is
    =      a linear combination of maximum and random. The parameter controlling
    =      the proportion of each depends on the decorrelation pressure scale(s).
ns=namelist/UM Science Settings/section01/cloud
sort-key=02
value-titles=Maximum-random,Random,Exponential-random
values=0,1,3

[namelist:run_radiation=i_overlap_2]
compulsory=true
description=Treatment of vertical overlap of cloud (second call)
help=See i_overlap.
ns=namelist/UM Science Settings/section01/cloud/cloud_2
sort-key=02
value-titles=Maximum-random,Random,Exponential-random
values=0,1,3

[namelist:run_radiation=i_ozone_int]
compulsory=true
description=Select option for the ozone treatment in radiation
help=1 - Impose prescribed 3D field
    =2 - Impose prescribed 2D field
    =5 - Match ozone tropopause in ancillary to terminal tropopause
    =     conserving the column mass
ns=namelist/UM Science Settings/section01/ozone
sort-key=01
trigger=namelist:run_radiation=l_use_cariolle: 1,2
value-titles=Prescribed 3D field,Prescribed 2D field,
            =Match tropopause conserving mass
values=1,2,5

[namelist:run_radiation=i_rad_extra_call]
compulsory=true
description=Options for multiple calls to radiation
help=Options for multiple calls to radiation
    =
    =0 - Single call to radiation
    =
    =1 - Diagnose radiative forcings: calculate radiative forcing diagnostics
    =    with respect to variation of certain abundances. A second,
    =purely
    =    diagnostic,
    =call will be made on the supplied time-steps.
    =
    =2 - Incremental time-stepping scheme: calculate approximate radiative
    =    increments on timesteps in-between full radiation timesteps. The
    =    increment calculations (second call) are prognostic and will affect
    =    the model evolution.
    =
    =3 - Diagnostic calculation of radiances
sort-key=a03
trigger=namelist:run_radiation=i_lw_radstep_perday_diag: 1,2,
       =3;
       =namelist:run_radiation=i_sw_radstep_perday_diag: 1,2,
       =3;
       =namelist:r2swclnl=l_co_sw2: 1,2,
       =3;
       =namelist:r2swclnl=l_co2_sw2: 1,2,
       =3;
       =namelist:r2swclnl=l_nh3_sw2: 1,2,
       =3;
       =namelist:r2swclnl=l_tio_sw2: 1,2,
       =3;
       =namelist:r2swclnl=l_vo_sw2: 1,2,
       =3;
       =namelist:r2swclnl=l_h2_sw2: 1,2,
       =3;
       =namelist:r2swclnl=l_he_sw2: 1,2,
       =3;
       =namelist:r2swclnl=l_na_sw2: 1,2,
       =3;
       =namelist:r2swclnl=l_k_sw2: 1,2,
       =3;
       =namelist:r2lwclnl=l_co_lw2: 1,2,
       =3;
       =namelist:r2lwclnl=l_co2_lw2: 1,2,
       =3;
       =namelist:r2lwclnl=l_nh3_lw2: 1,2,
       =3;
       =namelist:r2lwclnl=l_tio_lw2: 1,2,
       =3;
       =namelist:r2lwclnl=l_vo_lw2: 1,2,
       =3;
       =namelist:r2lwclnl=l_h2_lw2: 1,2,
       =3;
       =namelist:r2lwclnl=l_he_lw2: 1,2,
       =3;
       =namelist:r2lwclnl=l_na_lw2: 1,2,
       =3;
       =namelist:r2lwclnl=l_k_lw2: 1,2,
       =3;
       =namelist:run_radiation=i_cloud_representation_2: 1,2,
       =3;
       =namelist:run_radiation=i_inhom_2: 1,2,
       =3;
       =namelist:run_radiation=i_overlap_2: 1,2,
       =3;
       =namelist:run_radiation=i_fsd_2: 1,2,
       =3;
       =namelist:r2swclnl=spectral_file_sw2: 1,2,
       =3;
       =namelist:r2swclnl=l_extra_top_sw2: 1,2,
       =3;
       =namelist:r2swclnl=i_gas_overlap_sw2: 1,2,
       =3;
       =namelist:r2swclnl=i_st_water_sw2: 1,2,
       =3;
       =namelist:r2swclnl=i_cnv_water_sw2: 1,2,
       =3;
       =namelist:r2swclnl=i_st_ice_sw2: 1,2,
       =3;
       =namelist:r2swclnl=i_cnv_ice_sw2: 1,2,
       =3;
       =namelist:r2swclnl=l_n2o_sw2: 1,2,
       =3;
       =namelist:r2swclnl=l_ch4_sw2: 1,2,
       =3;
       =namelist:r2swclnl=l_o2_sw2: 1,2,
       =3;
       =namelist:r2lwclnl=spectral_file_lw2: 1,2,
       =3;
       =namelist:r2lwclnl=l_extra_top_lw2: 1,2,
       =3;
       =namelist:r2lwclnl=i_gas_overlap_lw2: 1,2,
       =3;
       =namelist:r2lwclnl=l_microphysics_lw2: 1,2,
       =3;
       =namelist:r2lwclnl=i_scatter_method_lw2: 1,2,
       =3;
       =namelist:r2lwclnl=i_st_water_lw2: 1,2,
       =3;
       =namelist:r2lwclnl=i_cnv_water_lw2: 1,2,
       =3;
       =namelist:r2lwclnl=i_st_ice_lw2: 1,2,
       =3;
       =namelist:r2lwclnl=i_cnv_ice_lw2: 1,2,
       =3;
       =namelist:r2lwclnl=l_n2o_lw2: 1,2,
       =3;
       =namelist:r2lwclnl=l_ch4_lw2: 1,2,
       =3;
       =namelist:r2lwclnl=l_cfc11_lw2: 1,2,
       =3;
       =namelist:r2lwclnl=l_cfc12_lw2: 1,2,
       =3;
       =namelist:r2lwclnl=l_cfc113_lw2: 1,2,
       =3;
       =namelist:r2lwclnl=l_cfc114_lw2: 1,2,
       =3;
       =namelist:r2lwclnl=l_hcfc22_lw2: 1,2,
       =3;
       =namelist:r2lwclnl=l_hfc125_lw2: 1,2,
       =3;
       =namelist:r2lwclnl=l_hfc134a_lw2: 1,2,
       =3;
       =namelist:r2lwclnl=l_solar_tail_flux_2: 1,2,
       =3;
       =namelist:radfcdia=c2c_aerosol: 1;
       =namelist:radfcdia=c2c_all: 1;
       =namelist:radfcdia=c2c_biog_d: 1;
       =namelist:radfcdia=c2c_bmb_d: 1;
       =namelist:radfcdia=c2c_c113: 1;
       =namelist:radfcdia=c2c_cfc11: 1;
       =namelist:radfcdia=c2c_cfc12: 1;
       =namelist:radfcdia=c2c_ch4: 1;
       =namelist:radfcdia=c2c_co2: 1;
       =namelist:radfcdia=c2c_dust_d: 1;
       =namelist:radfcdia=c2c_hcfc22: 1;
       =namelist:radfcdia=c2c_hfc125: 1;
       =namelist:radfcdia=c2c_hfc134: 1;
       =namelist:radfcdia=c2c_land_s: 1;
       =namelist:radfcdia=c2c_n2o: 1;
       =namelist:radfcdia=c2c_nitr_d: 1;
       =namelist:radfcdia=c2c_o3: 1;
       =namelist:radfcdia=c2c_ocff_d: 1;
       =namelist:radfcdia=c2c_seas_d: 1;
       =namelist:radfcdia=c2c_soot_d: 1;
       =namelist:radfcdia=c2c_sulpc_d: 1;
       =namelist:radfcdia=c2c_ukca_d: 1;
       =namelist:radfcdia=c2c_wmg: 1;
value-titles=Single call,Diagnose radiative forcings,
            =Incremental time-stepping scheme,
            =Diagnostic calculation of radiances
values=0,1,2,3

[namelist:run_radiation=i_rad_topography]
compulsory=true
description=Effect of surface topography on radiation
help=This setting controls two complementary schemes for the treatment of
    =radiative transfer over resolved topographic features:
    =
    =Orographic correction
    =
    =This corrects the direct SW radiation absorbed and reflected at the
    =surface for the angle of the surface slope with respect to the position of
    =the sun. Options using smoothed orography will calculate a slope from the
    =heights of the surrounding grid-boxes.  Options using ancillary gradient
    =fields requires that X and Y gradient fields are present in the orography
    =ancillary file and that they are set to be configured.
    =
    =Terrain shading and LW sky-view correction
    =
    =Corrects the direct SW radiation at the surface for shading by surrounding
    =terrain. Also corrects for the insulating effect of surrounding terrain on
    =the LW net surface flux. Horizon angles used for these corrections may be
    =calculated from the standard (generally smoothed) orographic heights or
    =using the "unfiltered orography" if this is present in the dump or in the
    =ancillary orography file and has been configured.
    =
    =See Manners J,
    =Vosper SB,
    =Roberts N. 2012.
    =Radiative transfer over resolved topographic features
    =for high-resolution weather prediction.
    =Q. J. R. Meteorol. Soc. 138: 720-733. DOI:10.1002/qj.956
sort-key=a06
value-titles=Flat surface,
            =Surface slopes affect direct SW (smoothed model orography),
            =Surface slopes affect direct SW (ancillary gradient fields),
            =Slopes and shading affect direct SW; skyview factor affects LW
            =  (smoothed model orography),
            =Slopes and shading affect direct SW; skyview factor affects LW
            =  (ancillary gradient fields)
values=0,1,2,3,4
widget[rose-config-edit]=rose.config_editor.valuewidget.radiobuttons.RadioButtonsValueWidget

[namelist:run_radiation=i_sw_radstep_perday_diag]
compulsory=true
description=Number of times per day for second SW call
help=Number of times per day for second SW call
    =
    =Where "Diagnose radiative forcings" (i_rad_extra_call=1) has been
    =selected,
    =the second call will be purely diagnostic. The second call
    =must coincide with a full prognostic radiation call but may be
    =less often.
    =
    =Where "Incremental time-stepping scheme" (i_rad_extra_call=2) has
    =been selected,
    =the second call is used to calculate approximate
    =radiative increments in-between full radiation calls. These are
    =prognostic and will affect the model evolution. The number of calls
    =per day must be a multiple of the  number of full radiation calls.
ns=namelist/UM Science Settings/section01/sw
range=1:
sort-key=sw02
type=integer

[namelist:run_radiation=i_sw_radstep_perday_prog]
compulsory=true
description=Number of times per day for full SW radiation calls
help=Number of times per day for full SW radiation calls
    =
    =SW Radiation is expensive and in all standard configurations full
    =calculations are only done periodically,
    =with the increments re-scaled to
    =allow for the motion of the sun across the sky. The rescaling is done every
    =timestep. Frequency of calling needs to be a multiple of the timestep and
    =depends on the required temporal resolution of the run.
ns=namelist/UM Science Settings/section01/sw
range=1:
sort-key=sw01
type=integer

[namelist:run_radiation=inhom_cloud_lw]
compulsory=true
description=Cloud inhomogeneities (LW)
help=Scaling for cloud inhomogeneities
    =
    = The option to use scaling for cloud inhomogeneities will alter the
    = value of the condensate mixing ratios used within the radiation code.
    = This mimics the effect of increased transmissivity seen in
    = inhomogeneous clouds.
    =
    = Values in the array represent:
    =
    = Index  Condensate              Recommended range
    = -----  ----------              -----------------
    = 1      Stratiform cloud water  0.7 - 1.0
    = 2      Stratiform cloud ice    0.9 - 1.0
    = 3      Convective cloud water  0.3 - 0.6
    = 4      Convective cloud ice    0.5 - 0.8
length=4
ns=namelist/UM Science Settings/section01/cloud
range=0:1
sort-key=06
type=real

[namelist:run_radiation=inhom_cloud_sw]
compulsory=true
description=Cloud inhomogeneities (SW)
help=Scaling for cloud inhomogeneities
    =
    = The option to use scaling for cloud inhomogeneities will alter the
    = value of the condensate mixing ratios used within the radiation code.
    = This mimics the effect of increased transmissivity seen in
    = inhomogeneous clouds.
    =
    = Values in the array represent:
    =
    = Index  Condensate              Recommended range
    = -----  ----------              -----------------
    = 1      Stratiform cloud water  0.7 - 1.0
    = 2      Stratiform cloud ice    0.9 - 1.0
    = 3      Convective cloud water  0.3 - 0.6
    = 4      Convective cloud ice    0.5 - 0.8
length=4
ns=namelist/UM Science Settings/section01/cloud
range=0:1
sort-key=07
type=real

[namelist:run_radiation=is_ncol]
compulsory=true
description=Number of columns to be sub-sampled by the ISCCP simulator
ns=namelist/UM Science Settings/section01/cloud
range=0:9999
sort-key=13
type=integer

[namelist:run_radiation=l_bs1999_abundances]
compulsory=true
description=Use abundances from Burrows & Sharp 1999 (for hot Jupiters)
help=Calculates gas abundance as a function of pressure and temperature
    =from relations in Burrows & Sharp,
    =ApJ,1999 (for hot Jupiters).
ns=namelist/UM Science Settings/section01/gas
type=logical

[namelist:run_radiation=l_consistent_cdnc]
compulsory=true
description=Include same CDNC for both indirect effects
help=Use the same CDNC for both indirect effects (uses second indirect
    =effect options)
ns=namelist/UM Science Settings/section01/aero
sort-key=09
trigger=namelist:run_radiation=l_use_bmass_indirect: .false.;
       =namelist:run_radiation=l_use_nitrate_indirect: .false.;
       =namelist:run_radiation=l_use_ocff_indirect: .false.;
       =namelist:run_radiation=l_use_seasalt_indirect: .false.;
       =namelist:run_radiation=l_use_soot_indirect: .false.;
       =namelist:run_radiation=l_use_sulpc_indirect_lw: .false.;
       =namelist:run_radiation=l_use_sulpc_indirect_sw: .false.
type=logical

[namelist:run_radiation=l_fsd_eff_res]
compulsory=true
description=Use an effective resolution in FSD parametrization
help=The parametrization of sub-grid cloud water content variability
    = varies with the model resolution (grid-box size).
    =
    =If false,
    =the actual grid box size is used in this calculation.
    =
    =If true,
    =an effective model resolution is used instead. This is
    = currently set to be equivalent to N96 (1.875x1.25 degrees)
    = based on GA7 trials.
    =
    =Therefore,
    =this option is recommended for global modelling,
    =but not for limited area modelling.
ns=namelist/UM Science Settings/section01/cloud
sort-key=12
type=logical

[namelist:run_radiation=l_quad_t_coast]
compulsory=true
description=Quadratic averaging of the surface temperature at coastal points
help=Quadratic averaging of the surface temperature at coastal points.
    =
    =.FALSE. is deprecated.
    =
    =Options for historical treatment of surface emissivity and temperature:
    =
    =Logical   			Default		GL4
    =l_t_rad_solid    		.F.		.T.
    =l_quad_t_coast		.F.		.T.
    =l_rad_snow_emis		.F.		.T.
    =l_t_land_nosnow		.F.		.F.
ns=namelist/UM Science Settings/section01/lw
sort-key=lw07
type=logical

[namelist:run_radiation=l_rad_deg]
compulsory=true
description=Spatial degradation of radiation calculations
help=Spatial Degradation
    =
    =Switching on the spatial degradation of radiation calculations will do
    =full radiation calculations on every other point,
    =in a chequerboard
    =pattern,
    =and those points on which a radiation calculation is not done
    =will use data interpolated from their neighbours which did do a full
    =calculation.
sort-key=a02
type=logical

[namelist:run_radiation=l_rad_snow_emis]
compulsory=true
description=Adjust the emissivity in radiation for snow cover
help=Adjust the emissivity in radiation for snow cover.
    =
    =This should eventually be moved to the surface scheme,
    =but JULES
    =cannot currently cope with distinct emissivities for snow-covered
    =surfaces,
    =so the switch currently acts only in radiation and logically
    =belongs here for the present.
    =
    =Options for historical treatment of surface emissivity and temperature:
    =
    =Logical   			Default		GL4
    =l_t_rad_solid    		.F.		.T.
    =l_quad_t_coast		.F.		.T.
    =l_rad_snow_emis		.F.		.T.
    =l_t_land_nosnow		.F.		.F.
ns=namelist/UM Science Settings/section01/lw
sort-key=lw08
type=logical

[namelist:run_radiation=l_rad_szacor]
compulsory=true
description=Transmission based solar zenith angle correction
help=Transmission based solar zenith angle correction
    =
    =This will take into account the change in optical path length through the
    =atmosphere when correcting the surface (and TOA) fluxes for the change in
    =solar zenith angle between radiation time-steps. See "Manners et al. 2009,
    =Q. J. R. Meteorol. Soc. 135: 457-468, DOI:10.1002/qj.385" for further
    =details.
ns=namelist/UM Science Settings/section01/sw
sort-key=sw07
type=logical

[namelist:run_radiation=l_rad_use_clim_volc]
compulsory=true
description=Specify climatological volcanic eruption?
help=The sulphate aerosol in the Cusack scheme can be modified in the
    =stratosphere to take account of large enhancements that occur after volcanic
    =eruptions. This is useful in seasonal and decadal forecasts,
    =for example,
    =where a sudden volcano could be detrimental if not represented. At the same
    =time,
    =it is unlikely that detailed measurements of aerosol concentrations
    =would be available quickly enough to specify 3d fields via the ancillary
    =file method below.
    =
    =As such,
    =the volcano is represented as a 'climatology' that varies
    =month by month for 4 years after the eruption date. This 'climatology'
    =is specified as a composite of the 5 explosive tropical eruptions of
    =the 20th century,
    =as reckoned in the Sato (2002) optical depth dataset
    =(http://www.giss.nasa.gov/data/strataer).
    =
    =The code converts optical depth to the necessary mass mixing ratios
    =between the tropopause level and 30hPa and has limited latitude
    =resolution by using differing values for the bands 90-30N,
    =30-0N,0-30S,
    =30-90S. If the volcanic eruption option is selected,
    =then the
    =year and month of the eruption need to be specified. In addition,
    =a
    =scaling factor can be applied to increase or decrease the magnitude of
    =the volcanic eruption effect. The default (1.0) corresponds to a
    =moderate-sized eruption with a peak optical depth of 0.1. For comparison,
    =the 1991 Pinatubo eruption had a peak optical depth of about 0.2. Scaling
    =can be set as high as 9.99 (almost optically saturated) but an eruption
    =this large probably has effects beyond the scope of the code.
    =
    = Related variables:
    =     namelist:run_radiation=clim_rad_volc_eruption_month
    =     namelist:run_radiation=clim_rad_volc_eruption_weight
    =     namelist:run_radiation=clim_rad_volc_eruption_year
ns=namelist/UM Science Settings/section01/aero
sort-key=05
trigger=namelist:run_radiation=clim_rad_volc_eruption_month: .true.;
       =namelist:run_radiation=clim_rad_volc_eruption_weight: .true.;
       =namelist:run_radiation=clim_rad_volc_eruption_year: .true.
type=logical

[namelist:run_radiation=l_radiation]
compulsory=true
description=Run with radiation
sort-key=a01
trigger=namelist:run_radiation=i_rad_extra_call: .true.;
       =namelist:run_radiation=i_rad_topography: .true.;
       =namelist:run_radiation=l_rad_deg: .true.;
type=logical

[namelist:run_radiation=l_sec_var]
compulsory=true
description=Include secular variation of the orbital parameters
help=Most users should not invoke secular variations of the astronomy,
    =relying instead on the default values - currently for the epoch J2000.
    =Users of secular variations should seek advice.
ns=namelist/UM Science Settings/section01/sw
sort-key=sw09
type=logical

[namelist:run_radiation=l_t_bdy_surf]
compulsory=true
description=Take the temperature of the air just above the surface as
           =the temperature at the surface.
help=The variation in the air temperature over the bottom layer is
    =calculated using values at the layer boundaries. As the surface
    =temperature may be quite different to the temperature of the air
    =directly above it the default behaviour is to use the temperature
    =from the middle of the layer as the lower boundary temperature.
    =This switch will use the surface temperature as the lower
    =boundary value instead.
ns=namelist/UM Science Settings/section01/lw
sort-key=lw10
type=logical

[namelist:run_radiation=l_t_land_nosnow]
compulsory=true
description=Emissivity of snow used in averaging the surface temperature
help=Emissivity of snow used in averaging the surface temperature.
    =
    =Setting this switch to .TRUE. is deprecated and it is included only
    =for historical reasons.
    =
    =Options for historical treatment of surface emissivity and temperature:
    =
    =Logical   			Default		GL4
    =l_t_rad_solid    		.F.		.T.
    =l_quad_t_coast		.F.		.T.
    =l_rad_snow_emis		.F.		.T.
    =l_t_land_nosnow		.F.		.F.
ns=namelist/UM Science Settings/section01/lw
sort-key=lw09
type=logical

[namelist:run_radiation=l_t_rad_solid]
compulsory=true
description=Use common solid temperature at coastal points with sea-ice
help=Use common solid temperature at coastal points with sea-ice.
    =
    =.TRUE. is deprecated.
    =
    =Options for historical treatment of surface emissivity and temperature:
    =
    =Logical   			Default		GL4
    =l_t_rad_solid    		.F.		.T.
    =l_quad_t_coast		.F.		.T.
    =l_rad_snow_emis		.F.		.T.
    =l_t_land_nosnow		.F.		.F.
ns=namelist/UM Science Settings/section01/lw
sort-key=lw06
type=logical

[namelist:run_radiation=l_use_arclbiom]
compulsory=true
description=Include biomass burning aerosol climatology
help=Switch on 3D time varying aerosol climatology of biomass burning aerosols
    =using ancillary files which are used for the direct radiative effect and,
    =when switched on,
    =the cloud droplet number in the cloud microphysics.
    =These aerosols have the same properties as the prognostic biomass burning
    =aerosol scheme. The climatology datasets for this aerosol are usually
    =generated from climate model runs.
ns=namelist/UM Science Settings/section01/aero
type=logical

[namelist:run_radiation=l_use_arclblck]
compulsory=true
description=Include black carbon aerosol climatology
help=Switch on 3D time varying aerosol climatology of black carbon aerosols
    =using ancillary files which are used for the direct radiative effect and,
    =when switched on,
    =the cloud droplet number in the cloud microphysics.
    =These aerosols have the same properties as the prognostic soot aerosol
    =scheme. The climatology datasets for this aerosol are usually generated
    =from climate model runs.
ns=namelist/UM Science Settings/section01/aero
type=logical

[namelist:run_radiation=l_use_arcldlta]
compulsory=true
description=Include Delta aerosol climatology
help=Switch on 3D time varying aerosol climatology of 'Delta' aerosols using
    =ancillary files which are used for the direct radiative effect and,
    =when switched on,
    =the cloud droplet number in the cloud microphysics.
    =This is an additional aerosol species that can be used to fill in gaps
    =left by the other climatologies when compared to observations. The
    =datasets used to generate this aerosol climatology are currently ad-hoc.
ns=namelist/UM Science Settings/section01/aero
type=logical

[namelist:run_radiation=l_use_arcldust]
compulsory=true
description=Include dust aerosol climatology
help=Switch on 3D time varying aerosol climatology of dust using ancillary
    =files which are used for the direct radiative effect. These aerosols
    =have the same properties as the prognostic dust scheme. The climatology
    =datasets for this aerosol are usually generated from climate model runs.
ns=namelist/UM Science Settings/section01/aero
type=logical

[namelist:run_radiation=l_use_arclocff]
compulsory=true
description=Include organic carbon (fossil fuel) aerosol climatology
help=Switch on 3D time varying aerosol climatology of organic carbon (fossil
    =fuel) aerosols using ancillary files which are used for the direct
    =radiative effect and,
    =when switched on,
    =the cloud droplet number in the
    =cloud microphysics. These aerosols have the same properties as the
    =prognostic OCFF aerosol scheme. The climatology datasets for this aerosol
    =are usually generated from climate model runs.
ns=namelist/UM Science Settings/section01/aero
type=logical

[namelist:run_radiation=l_use_arclsslt]
compulsory=true
description=Include sea-salt aerosol climatology
help=Switch on 3D time varying aerosol climatology of sea salt aerosols using
    =ancillary files which are used for the direct radiative effect and,
    =when
    =switched on,
    =the cloud droplet number in the cloud microphysics.
    =These aerosols have the same properties as the diagnostic sea-salt aerosol
    =scheme. The climatology datasets for this aerosol are usually generated
    =from climate model runs.
ns=namelist/UM Science Settings/section01/aero
type=logical

[namelist:run_radiation=l_use_arclsulp]
compulsory=true
description=Include sulphate aerosol climatology
help=Switch on 3D time varying aerosol climatology of sulfate aerosols using
    =ancillary files which are used for the direct radiative effect and,
    =when
    =switched on,
    =the cloud droplet number in the cloud microphysics. These
    =aerosols have the same properties as the prognostic sulfate aerosol
    =scheme. The climatology datasets for this aerosol are usually generated
    =from climate model runs.
ns=namelist/UM Science Settings/section01/aero
type=logical

[namelist:run_radiation=l_use_biogenic]
compulsory=true
description=Include biogenic aerosol climatology
help=Biogenic aerosols are interpolated from a climatology,
    =originally made
    = by Colin Johnson using the HadCM3/STOCHEM climate/chemistry model with
    = a degradation model for terpenes as described in Derwent et al. 2003.
    = If the only additional aerosol is the biogenic aerosol,
    =then Cusack
    = aerosol climatology should include both boundary layer and stratosphere
    = components. If biogenic aerosol is used in conjunction with prognostic
    = aerosol scheme and sulphate aerosol indirect effect is switched on,
    =then biogenic aerosol will also have an indirect effect.
ns=namelist/UM Science Settings/section01/aero
type=logical

[namelist:run_radiation=l_use_bmass_direct]
compulsory=true
description=Include Biomass aerosol: direct radiative effect (SW+LW)
help=Biomass aerosol: DIRECT radiative effect (SW+LW);
    = Only available if L_BIOMASS true; biomass scheme must be selected.
    = The direct effect is independent of all other effects.
ns=namelist/UM Science Settings/section01/aero
type=logical

[namelist:run_radiation=l_use_bmass_indirect]
compulsory=true
description=Include Biomass aerosol: first indirect radiative effect (SW+LW)
help=Biomass aerosol: FIRST INDIRECT radiative effect (SW+LW);
    = Only available if L_BIOMASS true and
    = (L_USE_SULPC_INDIRECT_SW or L_USE_SULPC_INDIRECT_SW true)
    = The indirect effects of biomass burning aerosol and use in determining
    = CCN for the aerosol scheme may be selected independently of each other
    = (but this is not recommended).
    = Both are linked to and supplementary to the sulphate aerosol effects.
ns=namelist/UM Science Settings/section01/aero
type=logical

[namelist:run_radiation=l_use_cariolle]
description=Use Cariolle scheme to calculate ozone tracer
help=Activating the Cariolle scheme will allow a 3D Ozone tracer field to be
    =calculated within the UM. The Cariolle scheme provides a simple representation
    =of ozone and how it is modified by loss and production mechanisms. There are
    =several different versions available,
    =the one currently lodged is version 1.
    =
    =More details on the Cariolle scheme are available from  the following
    =reference: Cariolle,
    =D. and M. Deque. Southern hemisphere medium-scale waves
    =and total ozone disturbances in a spectral general circulation model.
    =J. Geophys. Res.,
    =vol. 91,pp 10825-10846,
    =1986.
    =
    =The calculation of the ozone tracer does not affect the ozone field itself,
    =this is Li and Shine Climatology and remains unchanged.
    =
    =When the Cariolle scheme is activated the option is available to use the
    =cariolle ozone tracer field in the radiation in place of the prescribed 2D or
    =3D ozone field. Therefore using the cariolle scheme alongside these options
    =will mean that the ozone tracer is used within the radiation instead of ozone
    =climatology.
    =
    =The ozone tracer is calculated on model levels not ozone levels.
    =
    =The Cariolle scheme should only be used when in a global configuration as the
    =parameters used to calculate it are zonal ancillary files which are specified
    =in the input and ancils panels.
ns=namelist/UM Science Settings/section01/ozone
sort-key=02
trigger=namelist:run_radiation=l_use_ozoneinrad: .true.
type=logical

[namelist:run_radiation=l_use_dust]
compulsory=true
description=Include Mineral Dust aerosol: direct radiative effect (SW+LW)
help=Mineral Dust aerosol: DIRECT radiative effect (SW+LW)
    = Only available if L_DUST true; dust scheme must be selected.
    = The direct effect is independent of all other effects.
ns=namelist/UM Science Settings/section01/aero
type=logical

[namelist:run_radiation=l_use_nitrate_direct]
compulsory=true
description=Include Nitrate aerosol: direct radiative effect (SW+LW)
help=Nitrate aerosol: DIRECT radiative effect (SW+LW)
    = Only available if L_NITRATE true; nitrate scheme must be selected.
    = The direct effect is independent of all other effects.
ns=namelist/UM Science Settings/section01/aero
type=logical

[namelist:run_radiation=l_use_nitrate_indirect]
compulsory=true
description=Include Nitrate aerosol: first indirect radiative effect (SW+LW)
help=Nitrate aerosol: FIRST INDIRECT radiative effect (SW+LW)
    = Only available if L_NITRATE true; nitrate scheme must be selected
    = and (L_USE_SULPC_INDIRECT_SW or L_USE_SULPC_INDIRECT_SW true)
ns=namelist/UM Science Settings/section01/aero
type=logical

[namelist:run_radiation=l_use_ocff_direct]
compulsory=true
description=Include OCFF aerosol: direct radiative effect (SW+LW)
help=Organic Carbon Fossil Fuel aerosol: DIRECT radiative effect (SW+LW)
    = Only available if L_OCFF true; OCFF scheme must be selected.
    = The direct effect is independent of all other effects.
ns=namelist/UM Science Settings/section01/aero
type=logical

[namelist:run_radiation=l_use_ocff_indirect]
compulsory=true
description=Include OCFF aerosol: first indirect radiative effect (SW+LW)
help=Organic Carbon Fossil Fuel aerosol:1ST INDIRECT radiative effect (SW+LW)
    = Only available if L_OCFF true; OCFF scheme must be selected
    = and (L_USE_SULPC_INDIRECT_SW or L_USE_SULPC_INDIRECT_SW true)
ns=namelist/UM Science Settings/section01/aero
type=logical

[namelist:run_radiation=l_use_ozoneinrad]
description=Use Cariolle ozone tracer in radiation scheme
help=When the Cariolle scheme is activated the option is available to use the
    =cariolle ozone tracer field in the radiation in place of the prescribed 2D or
    =3D ozone field. Therefore using the cariolle scheme alongside these options
    =will mean that the ozone tracer is used within the radiation instead of ozone
    =climatology.
    =
    =The ozone tracer is calculated on model levels not ozone levels.
ns=namelist/UM Science Settings/section01/ozone
sort-key=03
type=logical

[namelist:run_radiation=l_use_seasalt_direct]
compulsory=true
description=Include seasalt aerosol: direct radiative effect (SW+LW)
help=Seasalt aerosol: DIRECT radiative effect (SW+LW)
    = Sea-salt is not modelled explicitly,
    =but appropriate concentrations
    = are generated locally within the model from the wind speed variables.
    = The direct effect of sea-salt aerosol may be used independently
    = of all other effects.
ns=namelist/UM Science Settings/section01/aero
type=logical

[namelist:run_radiation=l_use_seasalt_indirect]
compulsory=true
description=Include seasalt aerosol: first indirect radiative effect (SW+LW)
help=Seasalt aerosol: FIRST INDIRECT radiative effect (SW+LW)
    = Only if (L_USE_SULPC_INDIRECT_SW or L_USE_SULPC_INDIRECT_SW true)
    = Sea-salt is not modelled explicitly,
    =but appropriate concentrations
    = are generated locally within the model from the wind speed variables.
    = The indirect effects are linked and supplementary to the sulphate
    = aerosol indirect effects,
    =and cannot be selected alone.
ns=namelist/UM Science Settings/section01/aero
type=logical

[namelist:run_radiation=l_use_soot_direct]
compulsory=true
description=Include soot aerosol: direct radiative effect (SW+LW)
help=Soot aerosol: DIRECT radiative effect (SW+LW)
    = The direct radiative effect of soot is independent of all other effects
    = but the Soot Scheme must be selected; L_SOOT true
    = There is currently no indirect soot effect modelled in the UM.
ns=namelist/UM Science Settings/section01/aero
type=logical

[namelist:run_radiation=l_use_soot_indirect]
compulsory=true
description=Include soot aerosol: indirect radiative effect (SW+LW)
help=Soot aerosol: INDIRECT radiative effect (SW+LW)
    = There is currently no indirect soot effect modelled in the UM.
ns=namelist/UM Science Settings/section01/aero
type=logical

[namelist:run_radiation=l_use_sulpc_direct]
compulsory=true
description=Include Sulphate aerosol: direct radiative effect (SW+LW)
help=Sulphate aerosol: DIRECT radiative effect (SW+LW)
    = Only available if l_SULPC_SO2 is true
ns=namelist/UM Science Settings/section01/aero
type=logical

[namelist:run_radiation=l_use_sulpc_indirect_lw]
compulsory=true
description=Include Sulphate aerosol: first indirect effect (LW)
help=Sulphate aerosol: FIRST INDIRECT effect (LW)
    = Only available if l_SULPC_SO2 is true
ns=namelist/UM Science Settings/section01/aero
type=logical

[namelist:run_radiation=l_use_sulpc_indirect_sw]
compulsory=true
description=Include Sulphate aerosol: first indirect effect (SW)
help=Sulphate aerosol: FIRST INDIRECT effect (SW)
    = Only available if l_SULPC_SO2 is true
ns=namelist/UM Science Settings/section01/aero
type=logical

[namelist:run_radiation=n2ommr]
compulsory=true
description=Specify mass mixing ratio of Nitrous Oxide (N2O)
help=Absorption by nitrous oxide may be included only if relevant data are
    =present in the spectral file. An appropriate mass mixing ratio must
    =be set here unless a more complex scheme is used.
    =WDCGG value for 2010 = 4.911e-07 kg/kg
ns=namelist/UM Science Settings/section01/gas
range=0:
sort-key=02
type=real

[namelist:run_radiation=o2mmr]
compulsory=true
description=Specify mass mixing ratio of Oxygen (O2)
help=Absorption by oxygen may be included only if relevant data are
    =present in the spectral file.
    =An appropriate mass mixing ratio must be set here.
    =(Typical value is 0.2314 for Earth)
ns=namelist/UM Science Settings/section01/gas
range=0:
sort-key=04
type=real

[namelist:run_radiation=rad_mcica_sampling]
compulsory=true
description=MCICA sampling method
help=MCICA involves the sampling of a generated sub-grid cloud field for
    =each monochromatic radiation calculation (k-term). The options are:
    =
    =  0 - Full: every sub-column is sampled (very expensive)
    =  1 - Single: one sub-column is sampled for each k-term
    =  2 - Optimal: the number of sub-columns sampled for each k-term
    =        is set in the mcica_data file (in the spectral file directory)
ns=namelist/UM Science Settings/section01/cloud
sort-key=08
value-titles=Full,Single,Optimal
values=0,1,2

[namelist:run_radiation=rad_mcica_sigma]
compulsory=true
description=Normalised cloud condensate standard deviation
help=For a full treatment of cloud inhomogeneity sub-grid cloud may be
    =generated and then sampled using the MCICA method.
    =
    =Where this is selected it is necessary to set a value for the standard
    =deviation of the cloud condensate (recommended values 0.5 - 1.0).
ns=namelist/UM Science Settings/section01/cloud
range=0:10
sort-key=10
type=real

[namelist:run_radiation=two_d_fsd_factor]
compulsory=true
description=Factor to convert 1D FSD for straight line to 2D value
help=Current parametrizations of FSD (fractional standard deviation,
    =a measure
    =of subgrid variability) of cloud water content used in radiation and
    =microphysics schemes are based on observations taken in a 1D line. For the
    =UM we require the FSD for a 2D gridbox,
    =which is generally larger. We
    =account for this difference by multiplying the 1D fsd by this value.
ns=namelist/UM Science Settings/section01/cloud
range=1:2
sort-key=11
type=real

[namelist:run_rivers]
compulsory=true
description=run_rivers
ns=namelist/UM Science Settings/section26
title=Section 26 - River Routing

[namelist:run_rivers=i_river_vn]
compulsory=true
description=Select river routing configuration
help=1 - Global Model
    = 2 - Limited Area Model
sort-key=a11
values=1,2

[namelist:run_rivers=l_inland]
compulsory=true
description=Re-routing inland basin water back to soil moisture
help=Selecting 'Re-routing inland basin water back to soil moisture' is only
    =applicable to the global river routing scheme 1A and fixes a bug where
    =water from inland outflow points was previously 'lost' to the system on
    =regridding. The re-routed water is held over until the next timestep
    =and added to the change in top-level soil moisture.
    =NOTE: this method as applied at UMvn6.2 was incorrect since only 1/48 of
    =the flux was applied on a daily basis. Correcting this resulted in model
    =crashes so a new approach was applied at vn6.6.2 but this requires different
    =ancillary files.
sort-key=aa2
type=logical

[namelist:run_rivers=l_rivers]
compulsory=true
description=Use Global River Routing scheme
help=Global Model Routing
    =
    =Scheme 1A should be chosen for any GLOBAL run and 2A only for Limited
    =area model (code under development). The 1A global scheme is described in
    =Hadley Centre Technical Note 72 (HCTN72) - currently up to date for UM versions
    =up to 6.2. Further developments and fixes to the scheme have been applied for
    =later UM versions,
    =including new ancillary files for use with water
    =conservation fixes.
sort-key=aa1
trigger=namelist:run_rivers=l_inland: .true.;
       =namelist:run_rivers=river_step: .true.;
       =namelist:run_rivers=river_vel: .true.;
       =namelist:run_rivers=river_mcoef: .true.;
type=logical

[namelist:run_rivers=river_mcoef]
compulsory=true
description=Meander ratio
help=Although in principle,
    =for timesteps less than 1 day the effective velocity may
    =be altered (see below),
    =recent correspondence with the model developers suggest
    =this is unnecessary,
    =so the following settings are currently applied: effective
    =velocity of 0.4 m/s and a meander ratio of 1.4.
range=1.0:5.0
type=real

[namelist:run_rivers=river_step]
compulsory=true
description=River Routing Timestep (sec)
help=The river routing timestep of 86400 secs (1 day) is commonly used,
    =especially as
    =this is often the Atmosphere/Ocean coupling period too. More recent applications
    =are using shorter timesteps (e.g. 3 hours).
range=1.0:10000000.0
type=real

[namelist:run_rivers=river_vel]
compulsory=true
description=Effective Velocity (m/s)
help=Although in principle,
    =for timesteps less than 1 day the effective velocity may
    =be altered (see below),
    =recent correspondence with the model developers suggest
    =this is unnecessary,
    =so the following settings are currently applied: effective
    =velocity of 0.4 m/s and a meander ratio of 1.4.
    =
    =Alterting effective velocity (see above):
    =Effective velocity should be a multiple of the physics timesteps and,
    =if it is
    =changed,
    =is governed by:
    =u.dt < d where u is the effective velocity(m/s),
    =dt the timestep (s) and
    =d distance across a gridbox east-west (which in polar regions is approx.
    =20,
    =000m). Suggestions for timesteps other than 1 day (from off-line scheme)
    =are:
    =
    =dt > 43200secs           0 < u < 0.5 (dt = 86400secs recommended u=0.4)
    =dt = 43200secs (12hours) 0.5=or< u < 1.0 (recommended 0.5)
    =dt = 21600secs (6hours)  1.0=or< u < 1.5
    =dt = 14400secs (4hours)  1.5=or< u < 2.0
    =dt = 10800secs (3hours)  2.0=or< u < 3.0
range=0.001:0.5
type=real

[namelist:run_sl]
compulsory=true
description=Namelist run_sl
ns=namelist/UM Science Settings/section10/solver
title=Solver

[namelist:run_sl=depart_order]
compulsory=true
description=Iterations inside Ritchie scheme
help=Iterations inside Ritchie scheme
ns=namelist/UM Science Settings/section10/Advection
range=0:2
sort-key=a8
type=integer

[namelist:run_sl=high_order_scheme]
compulsory=true
description=high order schemes for (theta,moisture,wind,density,
           =tracers)
help=High order schemes:
    = 0-Linear interpolation - no high order scheme
    = 1-Cubic Lagrange interpolation
    = 2-Quintic Lagrange interpolation
    = 3-ECMWF quasi-cubic interpolation              (New dynamics only)
    = 4-ECMWF monotone quasi-cubic interpolation     (New dynamics only)
    = 5-Bi-cubic Lagrange interpolation in the horizontal,
    =linear interpolation in the vertical
    = 6-ECMWF quasi-cubic interpolation in the horizontal,
    =quintic in the vertical                         (New dynamics only)
    = 7-cubic Lagrange interpolation in the horizontal,
    =quintic in the vertical
    = 8-LOCH: bi-cubic Lagrange in the horizontal; C1-Hermite cubic with quadratic
    =derivative estimates in the vertical            (ENDGame only)
    = 9-HOCH: bi-cubic Lagrange in the horizontal; C1-Hermite cubic with quartic
    =derivative estimates in the vertical            (ENDGame only)
length=5
ns=namelist/UM Science Settings/section10/Advection
range=0:9
sort-key=a2
type=integer

[namelist:run_sl=instability_diagnostics]
compulsory=true
description=printing of unstable pnts and check for -ve pressure creation
help=printing of unstable pnts and check for -ve pressure creation
ns=namelist/UM Science Settings/section10/Trapping
range=0:2
type=integer

[namelist:run_sl=interp_vertical_search_tol]
compulsory=true
description=Vertical interpolation search tolerance
help=Vertical interpolation search tolerance
ns=namelist/UM Science Settings/section10/Advection
range=0:
sort-key=a6
type=integer

[namelist:run_sl=l_2d_sl_geometry]
compulsory=true
description=use 2d vector cooridnate geometry
ns=namelist/UM Science Settings/section10/Advection
sort-key=a7
type=logical

[namelist:run_sl=l_conserve_tracers]
compulsory=true
description=Advect tracers using a conservative scheme?
help=Advect tracers using a conservative scheme?
ns=namelist/UM Science Settings/section10/Advection
sort-key=b2
trigger=namelist:run_sl=l_priestley_correct_tracers: .true.
type=logical

[namelist:run_sl=l_moist_src_in_conserve]
compulsory=true
description=Use sources when applying Priestley conservation ?
help=Controls whether the changes to moisture fields due to fast physics
    =(convection,
    =BL mixing) are considered while conserving using the
    =Priestley scheme. Recommended value is 'true'
ns=namelist/UM Science Settings/section10/Advection
sort-key=b7
type=logical

[namelist:run_sl=l_priestley_correct_moist]
compulsory=true
description=Apply Priestley conservation scheme to moisture?
help=Controls whether a improved Priestley conservation
    =(correction) scheme is used for conservation of moisture fields
ns=namelist/UM Science Settings/section10/Advection
sort-key=b6
trigger=namelist:run_sl=moist_priestley_opt: .true. ;
       =namelist:run_sl=l_moist_src_in_conserve: .true.
type=logical

[namelist:run_sl=l_priestley_correct_thetav]
compulsory=true
description=Apply Priestley conservation scheme to potential temperature
help=Adjust potential temperature at the end of timestep to correct
    =non-conservation from the semi-implicit,
    =semi-Lagrangian scheme.
ns=namelist/UM Science Settings/section10/Advection
sort-key=b3
type=logical

[namelist:run_sl=l_priestley_correct_tracers]
compulsory=true
description=Apply Priestley conservation scheme to tracers?
help=Controls whether a improved Priestley conservation
    =(correction) scheme is used for tracer conservation
ns=namelist/UM Science Settings/section10/Advection
sort-key=b3
trigger=namelist:run_sl=tr_priestley_opt: .true.;
       =namelist:run_sl=l_tr_src_in_conserve: .true.
type=logical

[namelist:run_sl=l_sl_halo_reprod]
compulsory=true
description=Bit reprod for all extended halos?
help=Do you require bit reproducible results whatever size the extended haloes
    = are set to? N.B. This increases the cost of the code.
ns=namelist/UM Science Settings/section10/Advection
type=logical

[namelist:run_sl=l_tr_src_in_conserve]
compulsory=true
description=Use sources when applying Priestley conservation ?
help=Controls whether the changes to tracer fields due to fast physics
    =(convection,
    =BL mixing) are considered while conserving using the
    =Priestley scheme. Recommended value is 'true'
ns=namelist/UM Science Settings/section10/Advection
sort-key=b5
type=logical

[namelist:run_sl=moist_priestley_opt]
compulsory=true
description=Which version of Priestley scheme for moisture conservation?
help=Controls which version of the Priestley scheme is used when conserving
    =moisture fields.
    =1= 'original' (NewDynamics-like),
    =2 = optimised (Recommended)
ns=namelist/UM Science Settings/section10/Advection
sort-key=b6
value-titles=Priestley_orig,Priestley_optim
values=1,2

[namelist:run_sl=moisture_conservation]
compulsory=true
description=Moisture conservation type
help=Moisture conservation types
    = 0-none,1-standard,
    =2-more accurate,(Expensive,do not use for forecast runs)
ns=namelist/UM Science Settings/section10/Advection
range=0:2
sort-key=a4
trigger=namelist:run_sl=l_priestley_correct_moist: this > 0
type=integer

[namelist:run_sl=monotone_scheme]
compulsory=true
description=monotone scheme for (theta,moisture,winds,density,tracers)
help=monotone schemes:
    = 0-No scheme
    = 1-Tri-linear Lagrange interpolation
    = 2-ECMWF monotone quasi-cubic interpolation (New Dynamics Only)
length=5
ns=namelist/UM Science Settings/section10/Advection
range=0:2
sort-key=a1
type=integer

[namelist:run_sl=ritchie_high_order_scheme]
compulsory=true
description=Ritchie departure point scheme,high order
help=Ritchie departure point scheme,high order
ns=namelist/UM Science Settings/section10/Advection
range=0:7
sort-key=b1
type=integer

[namelist:run_sl=ritchie_monotone_scheme]
compulsory=true
description=Ritchie departure point scheme,monotone
help=Ritchie departure point scheme,monotone
ns=namelist/UM Science Settings/section10/Advection
range=0:2
sort-key=a9
type=integer

[namelist:run_sl=thmono_height]
compulsory=true
description=Height (m) up to which a monotone limiter is applied to advection of theta
help=To avoid valley-cooling problems apply a monotone limiter to the
    = non-interpolating advection of theta. To do this set
    = Height (in metres) up to which a monotone limiter is applied to
    = advection of theta to an appropriate REAL value > 0.0. It is recommended
    = that this is set as low as possible to stop the valley cooling since if
    = applied above the tropopause the model tends to be less stable.
ns=namelist/UM Science Settings/section10/Advection
range=0:
sort-key=a5
type=real

[namelist:run_sl=tr_priestley_opt]
compulsory=true
description=Which version of Priestley scheme for tracer conservation?
help=Controls which version of the Priestley scheme is used when conserving
    =tracers. 1= 'original' (NewDynamics-like),
    =2 = optimised (Recommended)
ns=namelist/UM Science Settings/section10/Advection
sort-key=b4
value-titles=Priestley_orig,Priestley_optim
values=1,2

[namelist:run_stochastic]
compulsory=true
description=run_stochastic
ns=namelist/UM Science Settings/section35
title=Section 35 - Stochastic Schemes

[namelist:run_stochastic=a_ent_1_rp]
compulsory=true
description=Entrainment parameter A1 for RP
help=Parameter controlling entrainment parameter A1 in Boundary Layer scheme.
    =Default value of a_ent_1_rp is set here - recommended value is 0.23
ns=namelist/UM Science Settings/section35/rp
sort-key=05
type=real

[namelist:run_stochastic=a_ent_1_rp_max]
compulsory=true
description=Entrainment parameter A1 for RP max value
fail-if=this < namelist:run_stochastic=a_ent_1_rp or this > 1.0
help=Maximum Random Perturbation value for entrainment parameter A1
    =in Boundary Layer scheme. Suggested/usual value is 0.40
ns=namelist/UM Science Settings/section35/rp
sort-key=05
type=real

[namelist:run_stochastic=a_ent_1_rp_min]
compulsory=true
description=Entrainment parameter A1 for RP min value
fail-if=this > namelist:run_stochastic=a_ent_1_rp or this < 0.01
help=Minimum Random Perturbation value for entrainment parameter A1
    =in Boundary Layer Scheme. Suggested/usual value is 0.10
ns=namelist/UM Science Settings/section35/rp
sort-key=05
type=real

[namelist:run_stochastic=alphac]
compulsory=true
description=Updraught proportion of gridbox in SKEB mass-flux convective
           = energy dissipation scheme
help=Updraught proportion of gridbox (0.2% typical)
    =Name alphac also used in Radiation for a different parameter
range=0.001:0.01
sort-key=35f
type=real

[namelist:run_stochastic=br]
compulsory=true
description=SKEB Energy backscatter ratio
help=Backscatter ratio (as fraction of diss. energy)
range=0.01:1.0
sort-key=35f
type=real

[namelist:run_stochastic=cdispfac]
compulsory=true
description=Multiplication factor for convection dissipation
help=Multiplication factor for convection dissipation field (empirical value)
range=0.2:5.0
sort-key=35f
type=real

[namelist:run_stochastic=charnock_max]
compulsory=true
description=Maximum Charnock parameter
help=Maximum Random Perturbation value for Charnock parameter
    =in Boundary Layer scheme. Suggested/usual value is 0.026
ns=namelist/UM Science Settings/section35/rp
range=0.018:0.030
sort-key=05
type=real

[namelist:run_stochastic=charnock_min]
compulsory=true
description=Minimum Charnock parameter
help=Minimum Random Perturbation value for Charnock parameter
    =in Boundary Layer scheme. Suggested/usual value is 0.010
ns=namelist/UM Science Settings/section35/rp
range=0.010:0.018
sort-key=05
type=real

[namelist:run_stochastic=conv_std]
compulsory=true
description=Std dev. for the SPT perturbations to the convection tendency
help=The std of the gaussian applied to the pert.to the convection tend
range=0.01:10
sort-key=35h
type=real

[namelist:run_stochastic=ec_auto_rp]
compulsory=true
description=Autoconversion of cloud water to rain
help=Parameter controlling autoconversion of cloud water to
    =rain in microphysics scheme
    =The default value of ec_auto_rp is set here - the recommended value is
    =0.55
ns=namelist/UM Science Settings/section35/rp
sort-key=08
type=real

[namelist:run_stochastic=ec_auto_rp_max]
compulsory=true
description=Maximum autoconversion of cloud water to rain
help=Maximum Random Perturbation value of parameter controlling
    =autoconversion of cloud water to rain in microphysics scheme.
    =Suggested/usual value is 0.6
ns=namelist/UM Science Settings/section35/rp
range=0.55:0.6
sort-key=08
type=real

[namelist:run_stochastic=ec_auto_rp_min]
compulsory=true
description=Minimum autoconversion of cloud water to rain
help=Maximum Random Perturbation value of parameter controlling
    =autoconversion of cloud water to rain in microphysics scheme.
    =Suggested/usual value is 0.01
ns=namelist/UM Science Settings/section35/rp
range=0.01:0.55
sort-key=08
type=real

[namelist:run_stochastic=g0_rp]
compulsory=true
description=Flux profile parameter
help=Flux profile parameter in Boundary Layer schemes.
    =Default value of g0_rp is set here - recommended value is 10.0
ns=namelist/UM Science Settings/section35/rp
sort-key=05
type=real

[namelist:run_stochastic=g0_rp_max]
compulsory=true
description=Maximum flux profile parameter
help=Maximum Random Perturbation value for flux profile parameter
    =in Boundary Layer scheme. Suggested/usual value is 20.0
    = for RP2 and 40.0 for RP2b
ns=namelist/UM Science Settings/section35/rp
range=10.0:50.0
sort-key=05
type=real

[namelist:run_stochastic=g0_rp_min]
compulsory=true
description=Minimum flux profile parameter
help=Minimum Random Perturbation value for flux profile parameter
    =in Boundary Layer scheme. Suggested/usual value is 5.0
ns=namelist/UM Science Settings/section35/rp
range=2.0:10.0
sort-key=05
type=real

[namelist:run_stochastic=g1_rp]
compulsory=true
description=Cloud-top diffusion control parameter for RP
help=Cloud-top diffusion control parameter in Boundary Layer schemes.
    =Default value of g1_rp is set here - recommended value is 0.85
ns=namelist/UM Science Settings/section35/rp
sort-key=05
type=real

[namelist:run_stochastic=g1_rp_max]
compulsory=true
description=Maximum Cloud-top diffusion control
fail-if=this < namelist:run_stochastic=g1_rp or this > 5.0
help=Maximum Random Perturbation value for Cloud-top diffusion control
    =in Boundary Layer scheme. Suggested/usual value is 1.50
ns=namelist/UM Science Settings/section35/rp
sort-key=05
type=real

[namelist:run_stochastic=g1_rp_min]
compulsory=true
description=Minimum Cloud-top diffusion control
fail-if=this > namelist:run_stochastic=g1_rp or this < 0.1
help=Minimum Random Perturbation value for Cloud-top diffusion control
    =in Boundary Layer scheme. Suggested/usual value is 0.50
ns=namelist/UM Science Settings/section35/rp
sort-key=05
type=real

[namelist:run_stochastic=gwd_frc_max]
compulsory=true
description=Maximum Critical Froude no.
help=Maximum Random Perturbation value for Critical Froude no.
    =in Gravity Wave Drag scheme. Default value gwd_frc=4.0 set by Rose.
    =Suggested/usual value is 6.0
ns=namelist/UM Science Settings/section35/rp
range=4.0:8.0
sort-key=07
type=real

[namelist:run_stochastic=gwd_frc_min]
compulsory=true
description=Minimum Critical Froude no.
help=Minimum Random Perturbation value for Critical Froude no.
    =in Gravity Wave Drag scheme. Default value gwd_frc=4.0 set by Rose.
    =Suggested/usual value is 2.0
ns=namelist/UM Science Settings/section35/rp
range=1.0:4.0
sort-key=07
type=real

[namelist:run_stochastic=gwd_std]
compulsory=true
description=Std dev. for the perturbations to the GWD tend
help=The std of the gaussian applied to the pert.to the GWD tend
range=0.01:10
type=real

[namelist:run_stochastic=i_pert_theta]
compulsory=true
description=Randomly perturb near surface potential temperature
help=Add random perturbations to the near surface potential temperature
    = field. These are either based on a fixed magnitude
    = (namelist:run_stochastic=mag_pert_theta) or the surface buoyancy flux. If
    = they are based on the surface buoyancy flux,
    =mag_pert_theta still provides
    = the maximum possible value. Perturbations are applied on Cumulus points
    = only,
    =up to 2/3 of NTML or a maximum of namelist:run_stochastic=lev_pert_theta.
    =
    =Perturbations are applied over a contiguous horizontal region of
    = namelist:run_stochastic=npts_pert_theta x npts_pert_theta in space.
ns=namelist/UM Science Settings/section35/Theta perturbations
sort-key=01
trigger=namelist:run_stochastic=mag_pert_theta: 1,
       =2;
       =namelist:run_stochastic=lev_pert_theta: 1,
       =2;
       =namelist:run_stochastic=npts_pert_theta: 1,2;
value-titles=No perturbations,Based on fixed magnitude,
            =Based on surface buoyancy flux
values=0,1,2

[namelist:run_stochastic=i_rp_scheme]
compulsory=true
description=Switch to give choice of RP2 (random parameters) scheme
help=Main switch to give choice of RP2 (random parameters) scheme
ns=namelist/UM Science Settings/section35/rp
sort-key=00b
trigger=namelist:run_stochastic=rhcrit_ref_level: 0,
       =1 ;
       = namelist:run_stochastic=rp2_callfreq: 0,
       =1 ;
       = namelist:run_stochastic=rp2_decorr_ts: 0,
       =1 ;
       = namelist:run_stochastic=ran_max: 0,
       =1 ;
       = namelist:run_stochastic=kay_gwave_max: 0,
       =1 ;
       = namelist:run_stochastic=kay_gwave_min: 0,
       =1 ;
       = namelist:run_stochastic=gwd_frc_max: 0,
       =1 ;
       = namelist:run_stochastic=gwd_frc_min: 0,
       =1 ;
       = namelist:run_stochastic=g1_rp_max: 0,
       =1 ;
       = namelist:run_stochastic=g1_rp_min: 0,
       =1 ;
       = namelist:run_stochastic=g1_rp: 0,
       =1 ;
       = namelist:run_stochastic=a_ent_1_rp_max: 0,
       =1 ;
       = namelist:run_stochastic=a_ent_1_rp_min: 0,
       =1 ;
       = namelist:run_stochastic=a_ent_1_rp: 0,
       =1 ;
       = namelist:run_stochastic=ricrit_rp_max: 0 ;
       = namelist:run_stochastic=ricrit_rp_min: 0 ;
       = namelist:run_stochastic=ricrit_rp: 0,
       =1 ;
       = namelist:run_stochastic=lambda_min_rp_max: 0 ;
       = namelist:run_stochastic=lambda_min_rp_min: 0 ;
       = namelist:run_stochastic=lambda_min_rp: 0,
       =1 ;
       = namelist:run_stochastic=charnock_max: 0,
       =1 ;
       = namelist:run_stochastic=charnock_min: 0,
       =1 ;
       = namelist:run_stochastic=g0_rp_max: 0,
       =1 ;
       = namelist:run_stochastic=g0_rp_min: 0,
       =1 ;
       = namelist:run_stochastic=g0_rp: 0,
       =1 ;
       = namelist:run_stochastic=par_mezcla_max: 0 ;
       = namelist:run_stochastic=par_mezcla_min: 0 ;
       = namelist:run_stochastic=par_mezcla: 0,
       =1 ;
       = namelist:run_stochastic=lam_meta_rp_max: 1 ;
       = namelist:run_stochastic=lam_meta_rp_min: 1 ;
       = namelist:run_stochastic=lam_meta_rp: 1 ;
       = namelist:run_stochastic=rhcrit_max: 0,
       =1 ;
       = namelist:run_stochastic=rhcrit_min: 0,
       =1 ;
       = namelist:run_stochastic=m_ci_max: 0,
       =1 ;
       = namelist:run_stochastic=m_ci_min: 0,
       =1 ;
       = namelist:run_stochastic=m_ci: 0,
       =1 ;
       = namelist:run_stochastic=x1r_rp_max: 1 ;
       = namelist:run_stochastic=x1r_rp_min: 1 ;
       = namelist:run_stochastic=x1r_rp: 1 ;
       = namelist:run_stochastic=ndrop_surf_rp_max: 1 ;
       = namelist:run_stochastic=ndrop_surf_rp_min: 1 ;
       = namelist:run_stochastic=ndrop_surf_rp: 1 ;
       = namelist:run_stochastic=ec_auto_rp_max: 1 ;
       = namelist:run_stochastic=ec_auto_rp_min: 1 ;
       = namelist:run_stochastic=ec_auto_rp: 1 ;
       = namelist:run_stochastic=l_rp2_cycle_in: 0,
       =1 ;
       = namelist:run_stochastic=l_rp2_cycle_out: 0,1 ;
value-titles=RP2,RP2b
values=0,1

[namelist:run_stochastic=kay_gwave_max]
compulsory=true
description=Maximum Gravity wave constant
help=Maximum Random Perturbation value for Gravity wave constant
    =in Gravity Wave Drag scheme. Default kay_gwave=3300(R) or 5000(G)
    =Suggested/usual value is 4400.0(R) or 6600.0(G)
    =N.B. gui Help values not used in actual MOGREP-G runs.
ns=namelist/UM Science Settings/section35/rp
range=3000.0:8000.0
sort-key=07
type=real

[namelist:run_stochastic=kay_gwave_min]
compulsory=true
description=Minimum Gravity wave constant
help=Minimum Random Perturbation value for Gravity wave constant
    =in Gravity Wave Drag scheme. Default kay_gwave=3300(R) or 5000(G)
    =Suggested/usual value is 2200.0(R) or 3000.0(G)
    =N.B. gui Help values not used in actual MOGREP-G runs.
ns=namelist/UM Science Settings/section35/rp
range=1000.0:5000.0
sort-key=07
type=real

[namelist:run_stochastic=kdispfac]
compulsory=true
description=Multiplication factor for SKEB1 (KE) dissipation
help=Multiplication factor for SKEB1 (KE) dissipation field (empirical value)
range=0.2:5.0
sort-key=35f
type=real

[namelist:run_stochastic=l_rp2]
compulsory=true
description=Switch controls use of RP2 (random parameters) scheme
help=Main switch to control use of RP2 (random parameters) scheme
ns=namelist/UM Science Settings/section35/rp
sort-key=00a
trigger=namelist:run_stochastic=i_rp_scheme: .true. ;
type=logical

[namelist:run_stochastic=l_rp2_cycle_in]
compulsory=true
description=If true,
           =then read in initial values of random parameters
           =from a file.  Must be used with l_stphseed_file = TRUE
           =and stphseed = 0 or 1.
           =Base name for the file is specified in rpseed.
fail-if=this ==".true." and namelist:run_stochastic=stphseed == 2
       =#stphseed must be 0 or 1
help=If set to true,
    =then the intial values for the random parameters are
    =read in from a file.  Must be used with l_stphseed_file = TRUE
    =and stphseed = 0 or 1.
    =The file-name must take the format
    =basename_RP2_CYCLE_IN_0000000000
    =where the basename is specified in rpseed
ns=namelist/UM Science Settings/section35/rp
sort-key=03
type=logical

[namelist:run_stochastic=l_rp2_cycle_out]
compulsory=true
description=If true,
           =then write out values of random parameters to a file
           =at a specified time.  Must be used with l_stphseed_file = TRUE.
           =File specified in rpseed.
fail-if=this ==".true." and namelist:run_stochastic=l_stphseed_file ==".false."
       =# l_stphseed_file must be set to TRUE
help=If set to true,
    =then the random parameters will be written out to
    =a file at a specified time (rp2_cycle_tm).  Must be used with
    =l_stphseed_file = TRUE.  The file-name is based on rpseed with the
    =additional tag RP2_CYCLE.
ns=namelist/UM Science Settings/section35/rp
sort-key=03
trigger=namelist:run_stochastic=rp2_cycle_tm: .true. ;
type=logical

[namelist:run_stochastic=l_skeb2]
compulsory=true
description=Switch controls use of SKEB2 scheme
help=Main switch to control use of SKEB2 scheme
sort-key=35e
trigger=namelist:run_stochastic=l_skeb2_psicdisp: .true. ;
       = namelist:run_stochastic=l_skeb2_psisdisp:  .true. ;
       = namelist:run_stochastic=l_skeb2_skeb1disp:  .true. ;
       = namelist:run_stochastic=l_skeb2_velpot:  .true. ;
       = namelist:run_stochastic=l_skebsmooth_adv:  .true. ;
       = namelist:run_stochastic=l_skebprint:  .true. ;
       = namelist:run_stochastic=l_skeb2_conv_disp_mod:  .true. ;
       = namelist:run_stochastic=skeb2_toplev:  .true. ;
       = namelist:run_stochastic=skeb2_botlev:  .true. ;
       = namelist:run_stochastic=nsmooth:  .true. ;
       = namelist:run_stochastic=tot_backscat:  .true. ;
       = namelist:run_stochastic=stph_n1:  .true. ;
       = namelist:run_stochastic=br:  .true. ;
       = namelist:run_stochastic=tau_skeb:  .true. ;
type=logical

[namelist:run_stochastic=l_skeb2_conv_disp_mod]
compulsory=true
description=Convective dissipation rate factor for scalability across horizontal resolutions
help=A factor sqrt(216/res) modulates the convective dissipation rate,
    =set to one if false
sort-key=35f
type=logical

[namelist:run_stochastic=l_skeb2_psicdisp]
compulsory=true
description=Streamfunction modulation by convection
help=If TRUE include streamfunction modulation by convection
sort-key=35f
trigger=namelist:run_stochastic=cdispfac:  .true. ;
       =namelist:run_stochastic=skeb2_cdisp:  .true. ;
       =namelist:run_stochastic=l_skeb2_conv_disp_mod:  .true. ;
type=logical

[namelist:run_stochastic=l_skeb2_psisdisp]
compulsory=true
description=Streamfunction modulation by numerical dissipation
help=If TRUE include streamfunction modulation by numerical dissipation
sort-key=35f
trigger=namelist:run_stochastic=sdispfac:  .true. ;
       =namelist:run_stochastic=skeb2_sdisp:  .true. ;
type=logical

[namelist:run_stochastic=l_skeb2_skeb1disp]
compulsory=true
description=Streamfunction modulation by SKEB1-type scheme
help=If TRUE include streamfunction modulation by SKEB1-type scheme
sort-key=35f
trigger=namelist:run_stochastic=kdispfac: .true. ;
type=logical

[namelist:run_stochastic=l_skeb2_velpot]
compulsory=true
description=Divergent-wind increment from VelPot forcing
help=Calculate divergent-wind increment from Velocity Potential forcing
sort-key=35f
type=logical

[namelist:run_stochastic=l_skebprint]
compulsory=true
description=Print global KE backscattered at each timestep
help=If TRUE print global KE backscattered at each timestep
sort-key=35f
type=logical

[namelist:run_stochastic=l_skebsmooth_adv]
compulsory=true
description=Advanced smoothing of energy dissipation fields
help=Perform advanced smoothing of energy dissipation fields
sort-key=35f
type=logical

[namelist:run_stochastic=l_spt]
compulsory=true
description=Switch controls use of SPT scheme
help=Main switch to control use of Stochastic Perturbation of Tendencies (SPT) scheme
sort-key=35g
trigger=namelist:run_stochastic=l_spt_rain:  .true. ;
       = namelist:run_stochastic=l_spt_rad:  .true. ;
       = namelist:run_stochastic=l_spt_gwd:  .true. ;
       = namelist:run_stochastic=l_spt_conv:  .true. ;
       = namelist:run_stochastic=l_spt_conv_mom:  .true. ;
       = namelist:run_stochastic=l_spt_cfl:  .true. ;
       = namelist:run_stochastic=l_spt_qcons:  .true. ;
       = namelist:run_stochastic=l_spt_mse:  .true. ;
       = namelist:run_stochastic=spt_top_tap_lev:  .true. ;
       = namelist:run_stochastic=spt_toplev:  .true. ;
       = namelist:run_stochastic=spt_bot_tap_lev:  .true. ;
       = namelist:run_stochastic=spt_botlev:  .true. ;
       = namelist:run_stochastic=nsmooth_spt:  .true. ;
       = namelist:run_stochastic=rain_std:  .true. ;
       = namelist:run_stochastic=rad_std:  .true. ;
       = namelist:run_stochastic=gwd_std:  .true. ;
       = namelist:run_stochastic=conv_std:  .true. ;
       = namelist:run_stochastic=sd_orog_thres:  .true. ;
       = namelist:run_stochastic=psif_orog_thres:  .true. ;
       = namelist:run_stochastic=tau_spt:  .true. ;
type=logical

[namelist:run_stochastic=l_spt_cfl]
compulsory=true
description=Activate CFL constraint for convection increments
help=It does not apply the perturbations to these points to avoid CFL breaching
sort-key=35h
type=logical

[namelist:run_stochastic=l_spt_conv]
compulsory=true
description=Apply SPT perturbations to the T and q tendencies from convection
help=If false it does not add the perturbations from q and T of conv.tendencies
sort-key=35h
trigger=namelist:run_stochastic=conv_std: .true. ;
       =namelist:run_stochastic=l_spt_cfl: .true. ;
type=logical

[namelist:run_stochastic=l_spt_conv_mom]
compulsory=true
description=Apply SPT perturbations to the momentum tendencies from convection
help=If false it does not add the perturbatios from convective mom tendencies
sort-key=35h
type=logical

[namelist:run_stochastic=l_spt_gwd]
compulsory=true
description=Apply SPT perturbations to the tendencies from GW drag scheme
help=If false it does not include GWD tendencies.
sort-key=35h
trigger=namelist:run_stochastic=gwd_std: .true. ;
type=logical

[namelist:run_stochastic=l_spt_mse]
compulsory=true
description=Activate MSE conservation
help=It links SPT theta increments to q increments to conserve Moist Static Energy.
sort-key=35h
type=logical

[namelist:run_stochastic=l_spt_qcons]
compulsory=true
description=Activate water conservation in the column
help=It makes SPT to conserve the specific humidity q in the model column.
sort-key=35h
type=logical

[namelist:run_stochastic=l_spt_rad]
compulsory=true
description=Apply SPT perturbations to the tendencies from radiation scheme
help=If false it does not include Radiation tendencies
sort-key=35h
trigger=namelist:run_stochastic=rad_std: .true. ;
type=logical

[namelist:run_stochastic=l_spt_rain]
compulsory=true
description=Apply SPT perturbations to the tendencies from condensation scheme
help=If false it does not include LS-rain tendencies
sort-key=35h
trigger=namelist:run_stochastic=rain_std: .true. ;
type=logical

[namelist:run_stochastic=l_stphseed_file]
compulsory=true
description=Store stochastic pattern spherical harmonic coefficients in seed file.
           =The name and location of the random seed file is set by
           =rpseed in [namelist:nlcfiles].
           =Also used in RP2 scheme in conjunction with l_rp2_cycle_in and
           =l_rp2_cycle_out. See Random Parameter Section for more details.
fail-if=this == '.false.' and namelist:run_stochastic=stphseed == 2 # Seed file must be defined with this option
help=If TRUE a file containing RP2 parameter values,
    =SKEB and/or SPT pattern
    =coefficients is written whenever an atmospheric dump is written. This file will
    =be read at the start of a CRUN and will ensure that n runs of length m are
    =equivalent to a single run of length n times m. The filename will have an automatic
    =suffix xxxx_nnnnnnnnnn,
    =where xxxx is the name of the stochastic scheme,e.g. SKEB,
    =SPT,RP2,
    =SEED; and nnnnnnnnnn is the validity timestep number formatted to 10 digits.
    =
    =When used in conjunction with "stphseed" option=2 the initial seedfile is read from
    =rpseed without any suffix (i.e. the exact filename provided by the user). Thereafter
    =the filename suffixes are appended automatically by the model.
sort-key=35b
trigger=namelist:nlcfiles=rpseed: .true. ;
type=logical

[namelist:run_stochastic=l_x_eq_sin_x]
compulsory=true
description=Activates the sin(x)~x approximation for Pmn computation
help=This flags makes the sin(x)~x approximation to compute the Associate
    = Legendre Polynomials for the SH decomposition,
    =to make results comparable to
    = the previous operational version.
type=logical

[namelist:run_stochastic=lam_meta_rp]
compulsory=true
description=Parameter to control mixing lengths in the boundary layer for RP
help=Parameter controlling the mixing length for RP in the boundary
    =layer scheme.  RP2b only.  Replaces par_mezcla and lambda_min_rp
    =from the RP2 scheme.
    =Default value of lam_meta_rp is set here - recommended value is 1.0
ns=namelist/UM Science Settings/section35/rp
sort-key=05
type=real

[namelist:run_stochastic=lam_meta_rp_max]
compulsory=true
description=Maximum  mixing length for RP max value
help=Maximum Random Perturbation value for the parameter controlling
    =the mixing length for RP in the boundary layer scheme.
    =Suggested/usual value is 3.0
ns=namelist/UM Science Settings/section35/rp
range=1.0:3.0
sort-key=05
type=real

[namelist:run_stochastic=lam_meta_rp_min]
compulsory=true
description=Minimum mixing length for RP min value
help=Minimum Random Perturbation value for min mixing length for RP
    =in microphysics scheme. Suggested/usual value is 0.2
ns=namelist/UM Science Settings/section35/rp
range=0.2:1.0
sort-key=05
type=real

[namelist:run_stochastic=lambda_min_rp]
compulsory=true
description=Minimum mixing length for RP
           =Only the default value is needed for RP2b,
           =as the parameter varies with lam_meta.
help=Parameter controlling min mixing length for RP in Microphysics scheme.
    =Default value of lambda_min_rp is set here - recommended value is 40.0
ns=namelist/UM Science Settings/section35/rp
sort-key=05
type=real

[namelist:run_stochastic=lambda_min_rp_max]
compulsory=true
description=Maximum  mixing length for RP max value
help=Maximum Random Perturbation value for min mixing length for RP
    =in microphysics scheme. Suggested/usual value is 100.0
ns=namelist/UM Science Settings/section35/rp
range=40.0:200.0
sort-key=05
type=real

[namelist:run_stochastic=lambda_min_rp_min]
compulsory=true
description=Minimum mixing length for RP min value
help=Minimum Random Perturbation value for min mixing length for RP
    =in microphysics scheme. Suggested/usual value is 20.0
ns=namelist/UM Science Settings/section35/rp
range=10.0:40.0
sort-key=05
type=real

[namelist:run_stochastic=lev_pert_theta]
compulsory=true
description=Maximum level up to which to add theta perturbations
ns=namelist/UM Science Settings/section35/Theta perturbations
sort-key=03
type=integer

[namelist:run_stochastic=m_ci]
compulsory=true
description=Ice fall speed multiplication factor
help=Parameter controlling ice fall speed in 3C/3D Microphysics schemes.
    =The default value of m_ci is set here - the recommended value is 1.0
ns=namelist/UM Science Settings/section35/rp
sort-key=08
type=real

[namelist:run_stochastic=m_ci_max]
compulsory=true
description=Maximum Ice fall speed multiplication factor
help=Maximum Random Perturbation value controlling ice fall speed
    =in microphysics scheme. Suggested/usual value is 1.4
ns=namelist/UM Science Settings/section35/rp
range=1.0:1.6
sort-key=08
type=real

[namelist:run_stochastic=m_ci_min]
compulsory=true
description=Minimum Ice fall speed multiplication factor
help=Minimum Random Perturbation value controlling ice fall speed
    =in microphysics scheme. Suggested/usual value is 0.6
ns=namelist/UM Science Settings/section35/rp
range=0.4:1.0
sort-key=08
type=real

[namelist:run_stochastic=mag_pert_theta]
compulsory=true
description=Maximum magnitude of theta perturbations
ns=namelist/UM Science Settings/section35/Theta perturbations
sort-key=02
type=real

[namelist:run_stochastic=ndrop_surf_rp]
compulsory=true
description=Surface droplet number concentration
help=Parameter controlling surface droplet number concentration in
    =the microphysics schemes.
    =The default value of ndrop_surf_rp is set here - the recommended value is
    =7.5e+07
ns=namelist/UM Science Settings/section35/rp
sort-key=08
type=real
warn-if=this != namelist:run_precip=ndrop_surf

[namelist:run_stochastic=ndrop_surf_rp_max]
compulsory=true
description=Maximum surface droplet number concentration
help=Maximum Random Perturbation value controlling the surface droplet
    =number concentration in the microphysics scheme.
    =Suggested/usual value is 10.0e+07
ns=namelist/UM Science Settings/section35/rp
range=7.5e+07:10.0e+07
sort-key=08
type=real

[namelist:run_stochastic=ndrop_surf_rp_min]
compulsory=true
description=Minimum surface droplet number concentration
help=Minimum Random Perturbation value controlling the surface droplet
    =number concentraton in the microphysics scheme.
    =Suggested/usual value is 2.0e+07
ns=namelist/UM Science Settings/section35/rp
range=2.0e+07:7.5e+07
sort-key=08
type=real

[namelist:run_stochastic=npts_pert_theta]
compulsory=true
description=Horizontal number of points over which to apply same perturbation
ns=namelist/UM Science Settings/section35/Theta perturbations
sort-key=04
type=integer

[namelist:run_stochastic=nsmooth]
compulsory=true
description=Iteration count for spatial smoothing in SKEB
help=Iteration count for spatial smoothing
range=1:10
sort-key=35f
type=integer

[namelist:run_stochastic=nsmooth_spt]
compulsory=true
description=Number of smoothing iterations for the SPT pert
help=The number of iterations for the 1-2-1 filter to the SPT perturbations
range=0:10
sort-key=35h
type=integer

[namelist:run_stochastic=par_mezcla]
compulsory=true
description=Neutral mixing length
           =Default value only needed for RP2b,
           =as parameter
           =varies with lam_meta.
help=Parameter for neutral mixing length in Boundary Layer schemes.
    =Default value of par_mezcla is set here - recommended value is 0.15
ns=namelist/UM Science Settings/section35/rp
sort-key=05
type=real

[namelist:run_stochastic=par_mezcla_max]
compulsory=true
description=Maximum neutral mixing length
help=Maximum Random Perturbation value for neutral mixing length
    =in Boundary Layer scheme. Suggested/usual value is 0.5
ns=namelist/UM Science Settings/section35/rp
range=0.15:1.0
sort-key=05
type=real

[namelist:run_stochastic=par_mezcla_min]
compulsory=true
description=Minimum neutral mixing length
help=Minimum Random Perturbation value for neutral mixing length
    =in Boundary Layer scheme. Suggested/usual value is 0.05
ns=namelist/UM Science Settings/section35/rp
range=0.01:0.15
sort-key=05
type=real

[namelist:run_stochastic=psif_orog_thres]
compulsory=true
description=Capping SPT pert above ABS(psif) and sd_orog_thres
help=Set the threshold for the absolute value of the Forcing Pattern (FP)
    = for SPT orographic capping.
    = SPT perturbation are removed if FP >= psif_orog_thres in areas
    = where the standard deviation of subgrid orography is higher than the
    = 'sd_orog_thres' parameter (also contained in the 'namelist:run_stochastic').
    = The default value is 0.5.
range=0.1:1.0
sort-key=35h
type=real

[namelist:run_stochastic=rad_std]
compulsory=true
description=Std dev. for the perturbations to the radiation tend
help=The standard deviation of the gaussian applied to the perturbation to the radiation tendency
range=0.01:10
type=real

[namelist:run_stochastic=rain_std]
compulsory=true
description=Std dev. for the perturbations to the rain tend.
help=The standard deviation of the gaussian applied to the perturbation to the rain tendency
range=0.01:10
type=real

[namelist:run_stochastic=ran_max]
compulsory=true
description=Number of independent RP2 variations
help=Number of independent RP2 variations
ns=namelist/UM Science Settings/section35/rp
range=1:20
sort-key=04
type=integer

[namelist:run_stochastic=rhcrit_max]
compulsory=true
description=Maximum Critical Relative Humidity at rhcrit_ref_level
help=Maximum Random Perturbation value of RHCRIT at rhcrit_ref_level
    =in microphysics scheme. Suggested/usual value is 0.906
    =To determine appropriate min/max values for RHCRIT,
    =check default
    =values for levels 2,
    =3 and 4. Typical default is 0.890
    =Max value of RHCRIT at level 3 should be less than default on level 2.
    =Min value of RHCRIT at level 3 should be greater than value on level 4.
    =If level 4 has same value as level 3,
    =then min value of RHCRIT at level 3
    =should be greater than next value of RHCRIT smaller than value on level 3.
ns=namelist/UM Science Settings/section35/rp
range=0.7:1.0
sort-key=09b
type=real

[namelist:run_stochastic=rhcrit_min]
compulsory=true
description=Minimum Critical Relative Humidity at rhcrit_ref_level
help=Minimum Random Perturbation value of RHCRIT at rhcrit_ref_level
    =in microphysics scheme. Suggested/usual value is 0.874
    =To determine appropriate min/max values for RHCRIT,
    =check default
    =values for levels 2,
    =3 and 4.Typical default is 0.890
    =Max value of RHCRIT at level 3 should be less than default on level 2.
    =Min value of RHCRIT at level 3 should be greater than value on level 4.
    =If level 4 has same value as level 3,
    =then min value of RHCRIT at level 3
    =should be greater than next value of RHCRIT smaller than value on level 3.
ns=namelist/UM Science Settings/section35/rp
range=0.7:1.0
sort-key=09b
type=real

[namelist:run_stochastic=rhcrit_ref_level]
compulsory=true
description=RHCrit reference level for RP2 scheme
help=RHCrit reference level for RP2 scheme
ns=namelist/UM Science Settings/section35/rp
range=2:20
sort-key=09a
type=integer

[namelist:run_stochastic=ricrit_rp]
compulsory=true
description=Critical Richardson no. for RP
           =Default value only needed for RP2b,
           =as parameter
           =varies with g0_rp
help=Parameter controlling critical Richardson no. in Boundary Layer scheme.
    =Default value of ricrit_rp is set here - recommended value is 1.0
ns=namelist/UM Science Settings/section35/rp
sort-key=05
type=real

[namelist:run_stochastic=ricrit_rp_max]
compulsory=true
description=Critical Richardson no. for RP max value
fail-if=this < namelist:run_stochastic=ricrit_rp or this > 1.0
help=Maximum Random Perturbation value for critical Richardson no.
    =in boundary layer scheme. Suggested/usual value is 1.0
ns=namelist/UM Science Settings/section35/rp
sort-key=05
type=real

[namelist:run_stochastic=ricrit_rp_min]
compulsory=true
description=Critical Richardson no. for RP min value
help=Minimum Random Perturbation value for critical Richardson no.
    =in boundary layer scheme. Suggested/usual value is 0.25
ns=namelist/UM Science Settings/section35/rp
range=0.01:1.0
sort-key=05
type=real

[namelist:run_stochastic=rp2_callfreq]
compulsory=true
description=RP2 calling frequency (seconds)
help=RP2 calling frequency (seconds) in multiples of the timestep,
    =and up to 24 hours long.
ns=namelist/UM Science Settings/section35/rp
range=1:86400
sort-key=01a
type=integer

[namelist:run_stochastic=rp2_cycle_tm]
compulsory=true
description=Time at which to write the RP2 parameters out
           =to a file (seconds)
help=Length of time from the beginning of the forecast after
    =which the set of random parameters are written out to a file.
    =File name is specified in stphseed_file,
    =with additional tag
    =of RP2_CYCLE.  Can be used to initiate parameters in subsequent
    =forecasts.  Recommended value is 43200.0 (12 hours)
ns=namelist/UM Science Settings/section35/rp
sort-key=03
type=integer

[namelist:run_stochastic=rp2_decorr_ts]
compulsory=true
description=De-correlation timescale (seconds) for the
           =random parameters scheme
fail-if=this < 1.0
help=De-correlation timescale (seconds) used in the AR1 process for
    =updating the parameter each time the random parameters scheme runs.
    =Recommended value for global model is 216000.0 (60 hours)
    =Recommended value for mogreps-uk is 604800.0 (1 week)
ns=namelist/UM Science Settings/section35/rp
sort-key=01b
type=real

[namelist:run_stochastic=sd_orog_thres]
compulsory=true
description=Capping SPT pert. above this value of subgrid std. dev. of orography
help=This parameter sets the threshold for the standard deviation of subgrid orography (sigma_orog)
    = for SPT orographic capping.
    = SPT perturbations are removed in areas where sigma_orog >= sd_orog_thres and
    = when the absolute value of the forcing pattern is above the namelist:run_stochastic
    = parameter 'psif_orog_thres'. The default value is 500m
range=100.0:4000.0
sort-key=35h
type=real

[namelist:run_stochastic=sdispfac]
compulsory=true
description=Multiplication factor for SKEB numerical dissipation
help=Multiplication factor for numerical dissipation field (empirical value)
range=0.2:5.0
sort-key=35f
type=real

[namelist:run_stochastic=skeb2_botlev]
compulsory=true
description=Bottom level of SKEB calculations
help=Bottom level of SKEB2 calculations - model level a little above surface
range=2:60
sort-key=35f
type=integer

[namelist:run_stochastic=skeb2_cdisp]
compulsory=true
description=Type of streamfunction modulation by convection
help=Choose type of streamfunction modulation by convection
    =4 for Dissipation from convection using CAPE
    =5 for Dissipation from convection using Mass-Flux
sort-key=35f
trigger=namelist:run_stochastic=alphac: 5;
value-titles=Dissipation from convection using CAPE,
            =Dissipation from convection using Mass-Flux
values=4,5

[namelist:run_stochastic=skeb2_sdisp]
compulsory=true
description=Type of streamfunction modulation by numerical advection
fail-if=this == 7 and namelist:run_dyn=l_endgame != ".true."
help=Choose type of streamfunction modulation by numerical advection
    =6 for Dissipation from numerical advection using Smagorinsky scheme
    =7 for Dissipation from numerical advection using bi-harmonic scheme
sort-key=35f
value-titles=Dissipation from numerical advection using Smagorinsky scheme,
            =Dissipation from numerical advection using bi-harmonic scheme
values=6,7

[namelist:run_stochastic=skeb2_toplev]
compulsory=true
description=Top level of SKEB2 calculations
help=Top level of SKEB2 calculations - model level at or just above tropopause
range=30:200
sort-key=35f
type=integer

[namelist:run_stochastic=spt_bot_tap_lev]
compulsory=true
description=Bottom level where tapering starts
help=SPT perturbations start in this level
range=2:60
sort-key=35h
type=integer

[namelist:run_stochastic=spt_botlev]
compulsory=true
description=Higher level of the lower tapering
help=At this level full SPT perturbations start to apply
range=2:60
sort-key=35h
type=integer

[namelist:run_stochastic=spt_top_tap_lev]
compulsory=true
description=Top level of SPT calculations,including tapering zone
help=Top level of SPT calculations,
    =perturbations stop at this level
range=30:200
sort-key=35h
type=integer

[namelist:run_stochastic=spt_toplev]
compulsory=true
description=Vertical level where start the upper tapering
help=Initial level for the upper lid tapering
range=30:200
sort-key=35h
type=integer

[namelist:run_stochastic=stph_n1]
compulsory=true
description=Minimum wavenumber for SKEB random pattern
help=Minimum wavenumber for stochastic perturbations
range=1:30
sort-key=35b
type=integer

[namelist:run_stochastic=stph_n2]
compulsory=true
description=Maximum wavenumber for SKEB/SPT random pattern
help=Maximum wavenumber for stochastic perturbations
range=2:240
sort-key=35b
type=integer

[namelist:run_stochastic=stphseed]
compulsory=true
description=UM sets the runtime random seed according to the
           =following integer selection:
           =
           =0 => Use environment variable ENS_MEMBER and date/time of start-dump
           =1 => Use date/time from computer clock
           =2 => Use seed value stored in file define by rpseed in [namelist:nlcfiles]
help=Random Seed Setting
    =A random seed is a long integer that sets the start point of the random
    =number generator. Stochastic physics requires arrays of random numbers
    =to initiate a spatial pattern,
    =so it is important that these patterns
    =are distinct between ensemble members. This requires a good range of
    =random seeds to be spread among ensemble members. The three ways of doing
    =this are set by the integer variable stphseed:
    =
    =*Option 0: Use ENS_MEMBER environment variable and date/time of input dump *
    =
    =A random seed will be calculated by the model. This seed is based on the
    =input dump validity date (accuracy to the nearest minute) and an environment
    =variable ENS_MEMBER. This option is typically used in MOGREPS and other systems
    =where reproducibility is important.
    =
    =
    =*Option 1: Use date/time from computer clock*
    =
    =Each run will generate a different random seed based on the current computer
    =date/time. Re-running the model will produce different results.
    =
    =
    =*Option 2: Use seed value stored in seed file rpseed as set in [namelist:nlcfiles]*
    =
    =The random seed is read in from the file defined by rpseed in [namelist:nlcfiles].
    =Note that rpseed can only be set when l_stphseed_file in [namelist:run_stochastic] is true.
sort-key=35a
values=0,1,2

[namelist:run_stochastic=tau_skeb]
compulsory=true
description=Decorrelation time in SKEB AR1 process
help=Tau is a decorrelation time (20000 sec = ~5.5 hrs is typical)
range=1.0e3:1.0e7
sort-key=35f
type=real

[namelist:run_stochastic=tau_spt]
compulsory=true
description=Decorrelation time in SPT AR1 process
help=Tau is a decorrelation time (20000 sec = ~5.5 hrs is typical)
range=1.0e3:1.0e7
sort-key=35h
type=real

[namelist:run_stochastic=tot_backscat]
compulsory=true
description=Global-mean rate of energy backscatter in SKEB
help=Global-mean rate of energy backscatter in m**2 s**(-3) (1.e-4 typical)
range=1.0e-5:1.0e-3
sort-key=35f
type=real

[namelist:run_stochastic=x1r_rp]
compulsory=true
description=Rain particle size distribution intercept coefficient
help=Parameter controlling the particle size distribution for rain
    =in the microphysics scheme. The default value of x1r_rp is set
    =here - the recommended value is 0.22
ns=namelist/UM Science Settings/section35/rp
sort-key=08
type=real

[namelist:run_stochastic=x1r_rp_max]
compulsory=true
description=Maximum rain particle size distribution intercept coefficient
help=Maximum Random Perturbation value controlling ice fall speed
    =in microphysics scheme. Suggested/usual value is 0.52
ns=namelist/UM Science Settings/section35/rp
range=0.22:0.52
sort-key=08
type=real

[namelist:run_stochastic=x1r_rp_min]
compulsory=true
description=Minimum rain particle size distribution intercept coefficient
help=Minimum Random Perturbation value controlling ice fall speed
    =in microphysics scheme. Suggested/usual value is 0.07
ns=namelist/UM Science Settings/section35/rp
range=0.07:0.22
sort-key=08
type=real

[namelist:run_track]
compulsory=true
ns=namelist/UM Science Settings/section30
title=Section 30 - FV-TRACK

[namelist:run_track=l_hoskins]
compulsory=true
description=Switch on Hoskins filter for 850hPa level.
help=Main switch to activate the Hoskins filter for 850hPa level.
sort-key=a2
trigger=namelist:run_track=sm: .true. ;
type=logical

[namelist:run_track=nbot_850]
compulsory=true
description=Lowermost truncation wavenumber for the filtering at 850hPa
help=All wavenumbers below this value are filtered in the 850hPa vorticity field
range=0:100
sort-key=c4
type=integer

[namelist:run_track=nlevs_avg]
compulsory=true
description=Number of levels to average when the new TC method is requested.
help=It will average the following number of levels (OPS: Not operative at the moment).
range=1:5
sort-key=d0
type=integer

[namelist:run_track=ntop_850]
compulsory=true
description=Uppermost truncation wavenumber for the filtering at 850hPa
help=All wavenumbers above this value are filtered in the 850hPa vorticity field
range=10:1000
sort-key=c5
type=integer

[namelist:run_track=ntop_tc]
compulsory=true
description=Uppermost truncation wavenumber for the filtering of vorticity of TC levels
help=All wavenumbers above this value are filtered in the TC vorticity field
range=10:1000
sort-key=c6
type=integer

[namelist:run_track=sm]
compulsory=true
description=Value of the Hoskins filter at truncation
help=The lowest number filtered is multiplied by this number
range=0:1
sort-key=b5
type=real

[namelist:run_ukca]
compulsory=true
description=run_ukca
ns=namelist/UM Science Settings/section34
title=Section 34 - UKCA: UK Aerosols and chemistry

[namelist:run_ukca=biom_aer_ems_scaling]
compulsory=true
description=Scaling factor for biomass burning emissions of OC and BC aerosol
help=Due to uncertainties in biomass burning emissions and processes it may
    =be necessary to tune these aerosol emissions to gain agreement between
    =modelled and observed aerosol loading and aerosol optical depth in
    =biomass burning regions.
    =Recommended value is 2.0,
    =but this may vary with emission dataset
    =injection height and other processes.
range=0.0:30.00
sort-key=g11
type=real

[namelist:run_ukca=chem_timestep]
compulsory=true
description=Chemistry timestep (seconds)
fail-if=this < ((namelist:nlstcgen=secs_per_periodim)/(namelist:nlstcgen=steps_per_periodim));
       =# chemical timestep must be greater or equal to model timestep
help=The UKCA chemical solver may not be called at every timestep
    = for all model configurations. chem_timestep is the timestep
    = for the chemistry solver,
    =and determines the interval
    = between sucessive calls to the chemistry in units of
    = model timesteps. This chemical timestep affects the photolysis
    = and aerosol models as well as the chemical solver.
    =
    = The Newton-Raphson solver is typically run
    = with a chemical timestep set to two or three times
    = the model timestep.
    = The same is true for the offline oxidants chemistry
    = using the backward-Euler solver.
    =
    = Backward-Euler solvers normally have the chemical timestep set to the
    = model timestep,
    =but it is still possible to set a larger
    = chemical timestep,
    =so that the solver is called less frequently.
    = Note that the choice of chem_timestep does not affect the internal
    = timestep of the Backward-Euler solvers which is set using dts0.
    =
    = The chemical timestep is in seconds,
    =and must not be set lower than the
    = model timestep,
    =and must be set to be an integer number of model timesteps.
    =
    = The model timestep is defined in panel Model Domain and Timestep
    = (under Top Level Model Control) where it is secs_per_periodim divided
    = by steps_per_periodim.
range=1:7200
sort-key=a4
type=integer

[namelist:run_ukca=dir_strat_aer]
compulsory=true
description=Directory containing climatological aerosol file
sort-key=b09
type=character

[namelist:run_ukca=dts0]
compulsory=true
description=Backward Euler Timestep (s)
range=1:3600
sort-key=a6
type=integer

[namelist:run_ukca=fastjx_mode]
compulsory=true
description=Method above cut-off level
help=Above the cut off level there are 3 options:
    = 1: 'only lookup table'
    = 2: 'combination of Fast-JX and lookup tables'
    = 3: Fast-JX
    = The recommended option is  to 'Use Lookup Tables' above a pressure cut-off
    = of 20 hPa.
sort-key=c9
value-titles=only lookup table,Fast-JX and lookup table,Fast-JX only
values=1,2,3

[namelist:run_ukca=fastjx_numwl]
compulsory=true
description=Number of wavelengths to be used
help=It is possible to choose 8,
    =12 or 18 wavelength bins for
    = Fast-JX.
    = The 18 wavelength version is the full Fast-JX version.
    = Choosing 12 is only suitable for troposphere only models
    = and drops cross sections for stratospheric species.
    = The 8 bin version is a fast troposphere only version.
    = The choice between the 8 and 12 bin versions is a trade off
    = between accuracy and speed.
sort-key=c7
values=8,12,18

[namelist:run_ukca=fastjx_prescutoff]
compulsory=true
description=Cut-off Pressure for tabulated photolysis
help=The "Cut-off Pressure for tabulated photolysis"
    = can be used to specify the pressure level (in hPa) above which
    = a simplified look-up table approach can be used to compensate
    = for the lower wavelength limit of this scheme. The recommended
    = option is to 'Use Lookup Tables' above a pressure cut-off of 20 hPa.
range=0:9999.999
sort-key=c8
type=real

[namelist:run_ukca=file_strat_aer]
compulsory=true
description=File containing climatological aerosol data
sort-key=b10
type=character

[namelist:run_ukca=i_mode_bln_param_method]
compulsory=true
description=Parameterisation method for BL Nucleation
help=This option specifies the parametrization method for Boundary
    = layer nucleation. Options available are:
    = 1) 'Activation',
    =2) 'Kinetic'
    = 3) 'Organic mediated (as per Metzger et al, PNAS, 2010)'.
sort-key=g18
value-titles=Activation,Kinetic,Organic mediated
values=1,2,3

[namelist:run_ukca=i_mode_nzts]
compulsory=true
description=Number of substeps for Nucleation/Sedimentation
help=Allows the user to specify fewer or more sub-steps (within a
    = chemistry time step) within which to allow the 3 processes of
    = 1) chemical production,
    =2) condensation,
    =3) nucleation to
    = compete for sulphuric acid vapour. Note that currently in the UM
    = the chemical production of H2SO4 is applied within the UKCA
    = chemistry,
    =so this sub-stepping resolves only the competition
    = between condensation and new particle formation (2 and 3).
    = Recommended setting to use is 15.
range=1:50
sort-key=g15
type=integer

[namelist:run_ukca=i_mode_setup]
compulsory=true
description=Set Aerosol Species and Modes
help=The MODE aerosol scheme is currently available
    = in the UM in 4 configurations (1,
    =2,
    =6 and 8) described below:
    = 1) sulphate and sea-salt components in 4 soluble modes.
    = 2) sulphate sea-salt black carbon (BC) & organic carbon (OC)
    = components in 4 soluble modes and 1 insoluble mode.
    = 6) dust only in 2 insoluble modes.
    = 8) sulphate sea-salt black carbon (BC) organic carbon (OC) dust
    = components in 4 soluble modes and 3 insoluble mode.
    = In 2 and 8) secondary organic carbon produced from the oxidation of
    = biogenic monoterpenes is stored together with the primary
    = organic carbon in a single OC component (OC). Similarly primary
    = BC/OC and dust aerosol are emitted into an insoluble Aitken and
    = Accumulation/Coarse modes respectively and age
    = to the soluble modes at a rate determined by the condensation of
    = sulphuric acid vapour and gas phase condensible organic species
    = ("microphysical ageing").
sort-key=g02
trigger=namelist:run_ukca=l_ukca_dust: 6,8 ;
values=1,2,6,8

[namelist:run_ukca=i_so2_hi_level]
compulsory=true
description=Model level to emit SO2 high level emissions into
fail-if=this < 1 or this > namelist:nlsizes=model_levels
help=This must be between 1 and the number of model levels. It will be
    = ignored if the CLASSIC sulphur scheme is on,
    =or if the new emissions are on since the level(s) are specified in the
    =netCDF metadata.
sort-key=a8
type=integer

[namelist:run_ukca=i_ukca_chem]
compulsory=true
description=UKCA Chemistry scheme
help=The UKCA chemistry schemes are principally based around two
    = solvers : Backward-Euler and Newton-Raphson. The Backward-Euler
    = solver is explicit iterative and supports three chemistry schemes
    = (see below) while the Newton-Raphson solver is used through the
    = ASAD (Carver Brown and Wild 1997) framework and supports four
    = chemistry schemes. The BE solver for the offline oxidants scheme
    = is not iterative. UKCA can also be used in a "No chemistry"
    = configuration which carries out only the emission processing
    = and tracer transport e.g. to determine the age of air. Note that
    = this option has not been extensively tested.
    = Chemistry scheme options:
    =  0 - No Chemistry;
    = 11 - Standard Tropospheric(BE);
    = 13 - RAQ(BE);
    = 14 - Offline Oxidants(BE);
    = 50 - Tropospheric+Isoprene;
    = 51 - Stratospheric+Tropospheric Chemistry
    = 52 - Standard Stratospheric;
    = 54 - Offline Oxidants Chemistry;
sort-key=a3
# Certain options only available for certain solvers
trigger=namelist:run_ukca=l_ukca_chem_aero: 11,14,50,51,52,
       =54 ;
       =namelist:run_ukca=dts0: 11,13,
       =14 ;
       =namelist:run_ukca=nit: 11,
       =13 ;
       =namelist:run_ukca=l_ukca_het_psc: 51,
       =52 ;
       =namelist:run_ukca=l_ukca_mode: 11,14,50,51,52,
       =54 ;
       =namelist:run_ukca=l_ukca_trophet: 50,
       =51 ;
       =namelist:run_ukca=i_ukca_photol: 11,13,50,51,
       =52 ;
       =namelist:run_ukca=l_ukca_qch4inter: 11,13,50,51,
       =52 ;
       =namelist:run_ukca=l_ukca_h2o_feedback: 51,
       =52 ;
       =namelist:run_ukca=l_ukca_use_2dtop: 11,13,
       =50 ;
       =namelist:run_ukca=l_ukca_rado3: 11,13,50,51,
       =52 ;
       =namelist:run_ukca=l_ukca_radch4: 11,13,50,51,
       =52 ;
       =namelist:run_ukca=l_ukca_radn2o: 51,
       =52 ;
       =namelist:run_ukca=l_ukca_radf11: 51,
       =52 ;
       =namelist:run_ukca=l_ukca_radf12: 51,
       =52 ;
       =namelist:run_ukca=l_ukca_radf113: 51,
       =52 ;
       =namelist:run_ukca=l_ukca_radf22: 51,
       =52 ;
       =namelist:run_ukca=l_ukca_intdd: 11,13,14,50,51,52,
       =54 ;
       =namelist:run_ukca=l_ukca_prescribech4: 11,13,50,51,
       =52 ;
       =namelist:run_ukca=l_ukca_set_trace_gases: 51,
       =52 ;
       =namelist:run_ukca=l_ukca_ibvoc: 13,50,
       =51 ;
       =namelist:run_ukca=i_ukca_scenario: 51,
       =52 ;
       =namelist:run_ukca=ukca_offline_dir: 14,
       =54 ;
       =namelist:run_ukca=ukca_offline_files: 14,
       =54 ;
       =namelist:run_ukca=l_ukca_ageair: 0,11,14,50,51,52,
       =54 ;
       =namelist:run_ukca=l_ukca_new_emiss: 11,13,14,50,51,52,
       =54 ;
       =namelist:run_ukca=chem_timestep: 11,13,14,50,51,52,
       =54 ;
       =namelist:run_ukca=l_ukca_classic_hetchem: 13 ;
value-titles=No Chemistry,Standard Tropospheric(BE),RAQ(BE),
            =Offline Oxidants(BE),Tropospheric+Isoprene,
            =Stratospheric+Tropospheric,Standard Stratospheric,
            =Offline Oxidants
values=0,11,13,14,50,51,52,54

[namelist:run_ukca=i_ukca_conserve_method]
compulsory=true
description=Method for conservation of UKCA tracers
fail-if=this == 0 and namelist:run_sl=l_priestley_correct_tracers== '.true.' # Cannot use UM/ADAS scheme if Priestley chosen for other tracers.
help=Specify the method to use for conservation of UKCA tracers
    = Options available are:
    = Default,
    =UM tracer conservation method
    = Priestley (original/ NewDynamics-like)
    = optimised Priestley (recommended)
    = Do not apply conservation
ns=namelist/UM Science Settings/section34
sort-key=j1
trigger=namelist:run_ukca=i_ukca_hiorder_scheme: 1,
       =2 ;
       =namelist:run_ukca=l_ukca_src_in_conservation: 1,2
value-titles=UM_tr_conservation,Priestley_orig,Priestley_optim,
            =No_conservation
values=0,1,2,3

[namelist:run_ukca=i_ukca_dms_flux]
compulsory=true
description=scheme for Interactive DMS sea-air exchange under UKCA
help=Use to select an Interactive DMS sea-air exchange scheme.
    =1 for Liss & _Merlivat scheme,
    =2 for Wanninkhof scheme,
    =3 for Nightingale scheme.
    = Only required if CLASSIC sulphur cycle is Off
sort-key=a9
values=1,2,3

[namelist:run_ukca=i_ukca_hiorder_scheme]
compulsory=true
description=which scheme for hi-order UKCA tracer transport?
help=Specify whether to use a hi-order for UKCA tracers that is different
    = from that used for tracers (namelist:run_sl=high_order_scheme)
    = and which one to use. The options available are the same as those
    = for the above 'high_order_scheme' namelist item.
sort-key=j2
value-titles=No high order,Cubic Lagrange,Quintic Lagrange,
            =ECMWF quasi-cubic,ECMWF monotone q-cubic,
            =Bi-cubic_Lagrange_with_linear_vert,
            =ECMWF_q-cubic_with_quint_vert,
            =cubic_Lagrange_with_qunit_vert,
            =LOCH bi-cubic_Lagrange_with_Hermite_quad_vert,
            =HOCH bi-cubic_Lagrange_with_Hermite_quart_vert
values=0,1,2,3,4,5,6,7,8,9

# Photolysis section
[namelist:run_ukca=i_ukca_photol]
compulsory=true
description=Photolysis scheme
help=There are two currently available photolysis schemes for UKCA.
    = 2-D Photolysis: The 2-D photolysis scheme uses tropospheric
    =   photolysis rates from a dataset developed using the Cambridge
    =   2-D model (Law and Pyle 1993).  For the stratospheric schemes
    =   photolysis rates are calculated from UV fluxes and the
    =   appropriate cross sections.
    = Fast-JX: The Fast-JX scheme (Neu et al 2007) calculates photolysis
    =   rates in the presence of an arbitrary mix of cloud and aerosol
    =   layers. It uses up to 18-bins making it suitable for use in
    =   stratospheric configurations.
    =   To consider the impact of aerosols on the photolysis rates Fast-JX
    =   currently makes use of SO4 aerosols from CLASSIC to calculate the
    =   surface area so it is essential that the CLASSIC sulphate aerosol
    =   scheme is switched ON when Fast-JX is used.
sort-key=c1
trigger=namelist:run_ukca=phot2d_dir: 1 ;
       =namelist:run_ukca=jvspec_dir: 3 ;
       =namelist:run_ukca=jvspec_file: 3 ;
       =namelist:run_ukca=jvscat_file: 3 ;
       =namelist:run_ukca=fastjx_numwl: 3 ;
       =namelist:run_ukca=fastjx_prescutoff: 3 ;
       =namelist:run_ukca=fastjx_mode: 3 ;
value-titles=No photolysis,2-D Photolysis,Fast-JX
values=0,1,3

[namelist:run_ukca=i_ukca_scenario]
compulsory=true
description=Choose where to take CO2,N2O,CH4,and CFC concentrations
help=This option is available only for stratospheric configurations.
    = On selecting option 0,
    =the lower boundary mass mixing ratios
    = of CO2,N2O,CH4,
    =CFC-11,CFC-12,CFC113,CFC114,HFCF22,
    =HFC125
    = and HFC134A are set to the values specified for these species
    = in the LW Radiation Gas section. The values for the CFCs
    = (MeBr,
    =MeCl,
    =..) not set in LW radiation but required by UKCA are
    = activated by this switch.
    = On selecting option 1 the values for these gases are taken from
    = the WMO A1(b) scenario. This is only valid for model years
    = 1950-2100.
    = On selection option 2 the values from these gases are read-in
    = from a user-defined file which must be of the RCPDAT format and
    = can be downloaded from the CMIP5 website.
sort-key=d02
trigger=namelist:run_ukca=ukca_mebrmmr: 0 ;
       =namelist:run_ukca=ukca_meclmmr: 0 ;
       =namelist:run_ukca=ukca_ch2br2mmr: 0 ;
       =namelist:run_ukca=ukca_cfc115mmr: 0 ;
       =namelist:run_ukca=ukca_ccl4mmr: 0 ;
       =namelist:run_ukca=ukca_meccl3mmr: 0 ;
       =namelist:run_ukca=ukca_hcfc141bmmr: 0 ;
       =namelist:run_ukca=ukca_hcfc142bmmr: 0 ;
       =namelist:run_ukca=ukca_h1211mmr: 0 ;
       =namelist:run_ukca=ukca_h1202mmr: 0 ;
       =namelist:run_ukca=ukca_h1301mmr: 0 ;
       =namelist:run_ukca=ukca_h2402mmr: 0 ;
       =namelist:run_ukca=ukca_cosmmr: 0 ;
       =namelist:run_ukca=ukca_rcpdir : 2 ;
       =namelist:run_ukca=ukca_rcpfile : 2 ;
value-titles=UM settings,WMO A1(b),RCP file
values=0,1,2

[namelist:run_ukca=jvscat_file]
compulsory=true
description=filename for Fast-JX scatterer file
help=Fast-JX scatterer file containing the required scatterer data.
sort-key=c6
type=character

[namelist:run_ukca=jvspec_dir]
compulsory=true
description=Directory pathname for Fast-JX input files
help=location of files containing the cross-section and scatterrer
    = data. A standard copy of the files is maintained in the UM
    = repository and extracted to the folder:
    = '$UMDIR/vn$VN/ctldata/UKCA/fastj' on the computing
    = system.
sort-key=c3
type=character

[namelist:run_ukca=jvspec_file]
compulsory=true
description=filename for Fast-JX spectral file
help=Fast-JX spectral file containing the required cross-sections.
sort-key=c5
type=character

[namelist:run_ukca=l_bcoc_bf]
compulsory=true
description=Biofuel BC/OC
sort-key=g08
type=logical

[namelist:run_ukca=l_bcoc_bm]
compulsory=true
description=Biomass burning BC/OC
sort-key=g09
trigger=namelist:run_ukca=biom_aer_ems_scaling: .true. ;
type=logical

[namelist:run_ukca=l_bcoc_ff]
compulsory=true
description=Fossil fuel BC/OC
sort-key=g07
type=logical

[namelist:run_ukca=l_mode_bhn_on]
compulsory=true
description=Include binary homogenous sulphate nucleation
help=This allows the user to switch on/off new particle formation by
    = binary H2SO4-H2O nucleation (produces particles in the nucleation
    = mode). Recommended setting to use is ON.
sort-key=g16
type=logical

[namelist:run_ukca=l_mode_bln_on]
compulsory=true
description=Include Boundary Layer sulphate nucleation
help=This allows the user to switch on/off new particle formation by
    = boundary layer (BL) nucleation (produces particles in the
    = nucleation mode).
sort-key=g17
trigger=namelist:run_ukca=i_mode_bln_param_method: .true. ;
type=logical

[namelist:run_ukca=l_ukca]
compulsory=true
description=Turn on UKCA
fail-if=this == ".true." and namelist:nlstcgen=steps_per_periodim % 24 != 0;
       =# Model step must coincide with whole hours for UKCA
help=Main switch for the UKCA Aerosols and Chemistry Sub-model.
sort-key=a2
# This turns off UKCA items when UKCA is not on
trigger=namelist:run_ukca=i_ukca_chem: .true.;
       =namelist:run_ukca=l_ukca_ibvoc: .true.;
       =namelist:run_ukca=tc_lbc_ukca: .true.;
       =namelist:run_ukca=l_ukca_asad_plev: .true.;
       =namelist:run_ukca=l_ukca_chem_plev: .true.;
type=logical

[namelist:run_ukca=l_ukca_ageair]
compulsory=true
description=Include Age-of-air tracer?
fail-if=namelist:run_ukca=i_ukca_chem==0 and this=='.false.' # Age-air has to be selected for 'No chem' option.
help=Allows the Age-of-Air tracer to be included
    =in the model configuration.
sort-key=a09
type=logical

[namelist:run_ukca=l_ukca_aie1]
compulsory=true
description=1st Indirect Effect of MODE aerosols (on radiation)
help=Couple the cloud droplet number concentration from MODE to the
    = calculation of cloud radiative properties.
sort-key=e11
type=logical

[namelist:run_ukca=l_ukca_aie2]
compulsory=true
description=2nd Indirect Effect of MODE aerosols (on precip.)
help=Couple the cloud droplet  number concentration from MODE to the
    = calculation of autoconversion rate in large-scale precipitation.
sort-key=e12
type=logical

[namelist:run_ukca=l_ukca_arg_act]
compulsory=true
description=Calculate Cloud Droplet Number
           = using Abdul-Razzak and Ghan Activation Method
help=This is a Mechanistic activation scheme based on the Abdul-Razzak
    = and Ghan method that calculates the cloud droplet number based
    = on the "fraction activated" in each mode. The CDNC is available
    = as a diagnostic (34162/34163) and can be fed back into the UM
    = cloud processing scheme.
sort-key=g19
trigger=namelist:run_ukca=l_ukca_sfix: .true.
type=logical

[namelist:run_ukca=l_ukca_asad_plev]
compulsory=true
description=Turn on UKCA ASAD pressure level diagnostics section 52
fail-if=this == ".true." and namelist:run_ukca=l_ukca == ".false.";
help=To output the quantities in Section 50 on pressure levels
sort-key=a9
type=logical

[namelist:run_ukca=l_ukca_chem_aero]
compulsory=true
description=Include Aerosol Chemistry
help=The aerosol chemistry in UKCA includes reactions for SO2 DMS and
    = monoTerpene in the troposphere and additional H2S COS reactions
    = for the stratospheric configurations. Aerosol Chemistry can be
    = switched ON with all the Newton-Raphson chemistry schemes and
    = also with the Standard Trop BE scheme. SO2 DMS and NH3 emissions
    = are accessed through the CLASSIC aerosol scheme in section 17 which
    = implies that CLASSIC sulphur cycle needs to be switched ON for
    = the scheme to work.
sort-key=a5
trigger=namelist:run_ukca=l_ukca_mode: .true.;
       =namelist:run_ukca=i_ukca_dms_flux: .true.;
       =namelist:run_ukca=i_so2_hi_level: .true.;
type=logical

[namelist:run_ukca=l_ukca_chem_plev]
compulsory=true
description=Turn on UKCA CHEM pressure level diagnostics section 51
fail-if=this == ".true." and namelist:run_ukca=l_ukca == ".false.";
help=To output the quantities in Section 34 on pressure levels
sort-key=a8
type=logical

[namelist:run_ukca=l_ukca_classic_hetchem]
compulsory=true
description=Turn on UKCA-CLASSIC heterogeneous chemistry
help=This option allows the use of heterogeneous chemistry on aerosol
    = surfaces from CLASSIC within UKCA. For the moment used only
    = with the RAQ chemistry scheme. It needs to have the CLASSIC
    = aerosol scheme switched ON.
sort-key=e10
type=logical

[namelist:run_ukca=l_ukca_dust]
compulsory=true
description=UKCA dust
fail-if=this == ".true." and  namelist:run_dust=i_dust == 0;
       =this == ".true." and  namelist:run_dust=l_twobin_dust == ".true.";
       =# 6 bin dust emissions from classic are needed for ukca
help=The simulation of atmospheric dust in the UM can be done by either
    = the CLASSIC or UKCA aerosol schemes.  Dust emissions are calculated by
    = CLASSIC in either case,
    =so for UKCA dust the CLASSIC 'prognostic' or
    = 'diagnostic' 6-bin dust scheme must be selected to provide emissions.
    = The 'diagnostic' scheme will be appropriate in most cases,
    =but if the
    = CLASSIC 'prognostic' dust scheme is chosen then either CLASSIC or UKCA
    = atmospheric dust radiative effects may be enabled,
    =causing the dust
    = from the other scheme to be treated as a passive tracer.
    = NB: Aerosols are assumed to be internally mixed in UKCA,
    =so switching
    = aerosol radiative effects on/off will affect all species.  Dust can
    = only be treated independently in UKCA when it is the only species
    = included (i.e. i_mode_setup=6).
sort-key=g22
trigger=namelist:run_ukca=l_ukca_primdu: .true. ;
type=logical

[namelist:run_ukca=l_ukca_h2o_feedback]
compulsory=true
description=Switch on water feedback from chemistry
fail-if=this == '.true.' and namelist:gen_phys_inputs=l_use_methox == '.true.'
help=When this option is set,
    =water produced from the chemistry is fed back
    = into the specific humidity tracer of the UM.
sort-key=b06
type=logical

[namelist:run_ukca=l_ukca_het_psc]
compulsory=true
description=Switch on Heterogeneous/PSC chemistry
help=This option sets the logical l_UKCA_HET_PSC. The chemistry defined
    = in the rath_defs_strat_psc array (UKCA_CHEM_STRAT) for Strat Chem
    = or the rath_defs_strattrop_psc array (UKCA_CHEM_STRATTROP) for
    = Strat+Trop Chem will be used if this logical is set. The scheme
    = can use either reference aerosol data from files or aerosols from
    = the CLASSIC scheme for the surface areas.
sort-key=b07
trigger=namelist:run_ukca=l_ukca_sa_clim: .true.
type=logical

[namelist:run_ukca=l_ukca_ibvoc]
compulsory=true
description=Turn on the interactive BVOC emissions (coupled to JULES).
help=Selects interactive BVOC emission:
    = isoprene,terpenes,
    =methanol,
    =and acetone (for now).
    = When this option is active the logical L_UKCA_iBVOC is set to TRUE.
type=logical

[namelist:run_ukca=l_ukca_intdd]
compulsory=true
description=UKCA interactive dry deposition scheme
help=This scheme uses resistances calculated using variables from the
    = surface exchange scheme.
sort-key=e08
type=logical

# First element in this section now is master switch for aerosols
[namelist:run_ukca=l_ukca_mode]
compulsory=true
description=UKCA-GLOMAP-mode aerosol scheme
help=This is a modal aerosol scheme considering sulphate,seasalt,
    =organic and black carbon species.
    = Dust is included in a test configuration only at this stage.
    = UKCA-GLOMAP-mode requires the UKCA Aerosol
    = chemistry as well as CLASSIC aerosol scheme to be switched ON.
    = The CLASSIC aerosol scheme provides the S-cycle emissions while
    = BC fossil-fuel,
    =BC bio-fuel,
    =OC fossil-fuel and OC bio-fuel are
    = input via the user single-level ancillary file and BC and OC from
    = biomass burning are input through the multi-level ancillary file.
    = In addition to the tracers for aerosol chemistry above this scheme
    = requires aerosol tracers to be switched ON.
    = The GLOMAP-mode aerosol scheme can be coupled to the UM radiation
    = scheme and the UM cloud/precipitation schemes
sort-key=g01
# only show MODE related items when MODE is on
trigger=namelist:run_ukca=l_ukca_trophet: .true. ;
       =namelist:run_ukca=i_mode_setup: .true. ;
       =namelist:run_ukca=l_ukca_primbcoc: .true. ;
       =namelist:run_ukca=l_ukca_primsu: .true. ;
       =namelist:run_ukca=l_ukca_primss: .true. ;
       =namelist:run_ukca=l_mode_bhn_on: .true. ;
       =namelist:run_ukca=l_mode_bln_on: .true. ;
       =namelist:run_ukca=i_mode_nzts: .true. ;
       =namelist:run_ukca=l_ukca_arg_act: .true. ;
       =namelist:run_ukca=l_ukca_radaer: .true. ;
       =namelist:run_ukca=l_ukca_aie1: .true. ;
       =namelist:run_ukca=l_ukca_aie2: .true. ;
       =namelist:run_ukca=mode_aitsol_cvscav: .true. ;
       =namelist:run_ukca=mode_activation_dryr: .true. ;
       =namelist:run_ukca=l_ukca_scale_biom_aer_ems: .true. ;
       =namelist:run_ukca=l_ukca_scale_soa_yield: .true. ;
       =namelist:run_ukca=mode_incld_so2_rfrac: .true. ;
type=logical

[namelist:run_ukca=l_ukca_new_emiss]
compulsory=true
description=Turn on the new emission system in UKCA (NetCDF)
help=This new system allows the use of NetCDF emission files.
    =
    = It has been tested with RAQ and SratTrop jobs,
    =and it is likely to
    = replace the use of single- and multi-level user ancillaries for UKCA
    = emissions in the future.
    =
    = When this option is active the logical L_UKCA_NEW_EMISS is set to TRUE.
    = Then the user should indicate a unique path for the NetCDF emission files
    = and the name of one or more emission files. This is done by completing
    = the entry box "Directory pathname for NetCDF emission files" and filling
    = in at least one cell in "Names of NetCDF emission files",
    =respectively.
sort-key=h1
trigger=namelist:run_ukca=ukca_em_dir: .true. ;
       = namelist:run_ukca=ukca_em_files: .true. ;
       =namelist:run_ukca=i_so2_hi_level: .false. ;
type=logical

[namelist:run_ukca=l_ukca_prescribech4]
compulsory=true
description=Use prescribed surface CH4 concentrations
help=When selected,CH4 emissions are not added to the CH4 tracer,
    =and instead the global surface concentration of CH4 in UKCA
    = is overwritten with a prescribed scalar value. The Methane
    = Absorption option must be on in LW radiation (either with a
    = constant value or with a complex method of specification).
    = The LW section also controls what this surface concentration is.
sort-key=d01
type=logical

[namelist:run_ukca=l_ukca_primbcoc]
compulsory=true
description=Primary BC/OC Emissions
help=Primary BC/OC emissions from anthropogenic and biomass burning
    = sources are included: For anthropogenic emissions,
    =two types are
    = traced with different size settings for emissions from
    = fossil-fuel combustion and from bio-fuel combustion following
    = the emissions types from the SPEW emissions database (Bond et al,
    =2004). Size settings are used to match AEROCOM recommendations
    = (Dentener et al,
    =2006)
sort-key=g06
# only show options for types of BC/OC emissions if the
# BC/OC emissions are on
trigger=namelist:run_ukca=l_bcoc_ff: .true. ;
       =namelist:run_ukca=l_bcoc_bf: .true. ;
       =namelist:run_ukca=l_bcoc_bm: .true. ;
type=logical

[namelist:run_ukca=l_ukca_primdu]
compulsory=true
description=Emissions into UKCA dust from UM.
fail-if=this == ".true." and namelist:run_dust=i_dust == 0;
       =# Must have emissions calculated
help=This must be set to true if the UKCA dust scheme is on,
    =to allow emissions to be passed in.
    = The CLASSIC 6-bin dust scheme must be switched on to provide these;
    = in most cases the 'diagnostic' version of the scheme will be most
    = appropriate,
    =but the 'prognostic' version may also be used,
    =in which case
    = either CLASSIC or UKCA atmospheric dust radiative effects may be enabled,
    =causing the dust from the other scheme to be treated as a passive tracer.
    = NB: Aerosols are assumed to be internally mixed in UKCA,
    =so switching
    = aerosol radiative effects on/off will affect all species.  Dust can
    = only be treated independently in UKCA when it is the only species
    = included (i.e. i_mode_setup=6).
sort-key=g23
type=logical

[namelist:run_ukca=l_ukca_primss]
compulsory=true
description=Primary Seasalt Emissions
help=Primary sea-salt emissions are driven by the model wind speed
    = at each timestep based on the Gong-Monahan sea-spray source
    = function (Gong,
    =2003)
sort-key=g05
type=logical

[namelist:run_ukca=l_ukca_primsu]
compulsory=true
description=Primary Sulphate Emissions
help=Primary sulphate emissions refers to sub-grid scale conversion of
    = SO2 to sulphate aerosol. All SO2 sources (anthropogenic,
    =volcanic,biomass burning) produce primary sulphate.
sort-key=g03
# only show fraction of SO2 emissions as particulate if emissions on
trigger=namelist:run_ukca=mode_parfrac: .true. ;
type=logical

[namelist:run_ukca=l_ukca_qch4inter]
compulsory=true
description=Interactive wetland CH4 emissions
help=Interactive CH4 emissions from wetlands are provided by the
    = Gedney et al 2004 scheme,
    =with emission diagnostics available
    = in section 8 (item 242).
sort-key=b01
type=logical

[namelist:run_ukca=l_ukca_radaer]
compulsory=true
description=Direct effect of MODE aerosols in radiation scheme
help=Direct effect of UKCA-MODE aerosols in radiation scheme,
    =including
    = aerosol optical depth.
sort-key=e09
trigger=namelist:nlcfiles=ukcaprec: .true. ;
       =namelist:nlcfiles=ukcaacsw: .true. ;
       =namelist:nlcfiles=ukcaaclw: .true. ;
       =namelist:nlcfiles=ukcaansw: .true. ;
       =namelist:nlcfiles=ukcaanlw: .true. ;
       =namelist:nlcfiles=ukcacrsw: .true. ;
       =namelist:nlcfiles=ukcacrlw: .true. ;
       =namelist:run_ukca=l_ukca_radaer_sustrat: .true. ;
type=logical

[namelist:run_ukca=l_ukca_radaer_sustrat]
compulsory=true
description=Sulphuric acid aerosol in stratosphere
help=Direct effect of UKCA-MODE aerosols will assume sulphuric acid
    = optical properties for sulphate aerosol in the stratosphere
    = aerosol optical depth.
sort-key=f08
type=logical

[namelist:run_ukca=l_ukca_radch4]
compulsory=true
description=UKCA CH4 in radiation scheme
sort-key=e02
type=logical

[namelist:run_ukca=l_ukca_radf11]
compulsory=true
description=UKCA CFC-11 in radiation scheme
sort-key=e04
type=logical

[namelist:run_ukca=l_ukca_radf113]
compulsory=true
description=UKCA CFC-113 in radiation scheme
sort-key=e06
type=logical

[namelist:run_ukca=l_ukca_radf12]
compulsory=true
description=UKCA CFC-12 in radiation scheme
sort-key=e05
type=logical

[namelist:run_ukca=l_ukca_radf22]
compulsory=true
description=UKCA HCFC-2 in radiation scheme
sort-key=e07
type=logical

[namelist:run_ukca=l_ukca_radn2o]
compulsory=true
description=UKCA N2O in radiation scheme
sort-key=e03
type=logical

[namelist:run_ukca=l_ukca_rado3]
compulsory=true
description=UKCA O3 in radiation scheme
sort-key=e01
type=logical

[namelist:run_ukca=l_ukca_sa_clim]
compulsory=true
description=Use climatological Aerosol for Surface Area
help=This option is only active when Het/PSC chemistry is
    = selected for stratospheric configurations and allows the
    = model to read in reference or climatological aerosol fields
    = to compute the surface area. On selecting this option,
    =the
    = user has to specify the directory and filename for the file
    = containing the climatological data. The model currently expects
    = the aerosol data as used by the SPARC experiments: Latitude
    = (5deg interval) x height (500m interval) x time,
    =ASCII files
    = with values in micrometer^2/cm^3. The standard datafiles are
    = part of the UM repository and extracted to :
    = '$UMDIR/$VN/ctldata/UKCA/strat' on the computing node.
sort-key=b08
trigger=namelist:run_ukca=dir_strat_aer: .true. ;
       =namelist:run_ukca=file_strat_aer: .true. ;
       =namelist:run_ukca=l_ukca_use_background_aerosol: .true.
type=logical

[namelist:run_ukca=l_ukca_scale_biom_aer_ems]
compulsory=true
description=Option to scale biomass burning emissions of OC and BC aerosol
help=This logical activates the scaling factor biom_aer_ems_scaling.
    =Due to uncertainties in biomass burning emissions and processes it may
    =be necessary to tune these aerosol emissions to gain agreement between
    =modelled and observed aerosol loading and aerosol optical depth in
    =biomass burning regions.
sort-key=g10
trigger=namelist:run_ukca=biom_aer_ems_scaling: .true.
type=logical

[namelist:run_ukca=l_ukca_scale_soa_yield]
compulsory=true
description=Option to scale production of Secondary Organic Aerosol (SOA)
help=This logical activates the scaling factor soa_yield_scaling.
    =Secondary organic aerosol is produced in UKCA from the oxidation of
    =monoterpene. By default the yield is 13% for all oxidants (OH,
    =O3,
    =NO3).
    =Whilst monoterpene is the only pathway for the production of SOA
    =it is recommended that this production is scaled up to compensate
    =for lack of  SOA production from other key BVOc such as isoprene.
    =The scaling factor is applied to the yield from all three oxidation paths.
sort-key=g12
trigger=namelist:run_ukca=soa_yield_scaling: .true.
type=logical

[namelist:run_ukca=l_ukca_set_trace_gases]
compulsory=true
description=Specify Values for Trace Gases
help=This option allows the user to specify the lower boundary mass
    = mixing ratios of H2 and N2,
    =as well as their concentrations to use
    = in the Newton-Raphson solver. On selecting this option,
    =the user
    = can prescribe the MMR values for these species.
sort-key=d16
trigger=namelist:run_ukca=ukca_h2mmr: .true. ;
       =namelist:run_ukca=ukca_n2mmr: .true.
type=logical

[namelist:run_ukca=l_ukca_sfix]
compulsory=true
description=Calculate CCN at fixed super saturation
sort-key=g20
type=logical

[namelist:run_ukca=l_ukca_src_in_conservation]
compulsory=true
description=Consider physics2 changes for conservation
help=Controls whether changes to UKCA tracers from fast physics
    = (mainly convection) are considered when conserving with
    = the Priestley Scheme.
sort-key=j3
type=logical

[namelist:run_ukca=l_ukca_trophet]
compulsory=true
description=Tropospheric heterogeneous chemistry
help=This option is only available for tropospheric schemes based on
    = the Newton-Raphson solver. Currently two heterogeneous reactions
    = (for N2O5 and HO2) on aerosol surfaces are considered.
    = The scheme uses the MODE aerosols for determining aerosol surface
    = area and wet radius and hence is only available when UKCA-MODE is
    = selected.
sort-key=b04
type=logical

[namelist:run_ukca=l_ukca_use_2dtop]
compulsory=true
description=Use 2D top boundary data
help=To set the concentrations of O3,
    =NOy and CH4 at the top boundary
    = from 2-D input data when running the tropospheric model,
    =select
    = this option and set the path to the 2D files.
sort-key=b02
trigger=namelist:run_ukca=strat2d_dir: .true.
type=logical

[namelist:run_ukca=l_ukca_use_background_aerosol]
compulsory=true
description=Use a cyclic,
           =monthly-varying 'background'
           = aerosol field instead of timeseries
help=This option controls the L_UKCA_USE_BACKGROUND_AEROSOL logical,
    =which instructs the model to read in a cyclic,
    =or fixed
    = monthly-varying aerosol field from the climatological aerosol
    = file,
    =instead of a timeseries covering the simulation period.
    = If the timeseries (1850-2100) file is specified with this option,
    =the UKCA_READ_AEROSOL routine will only read in monthly data for
    = 2100 and use it for the whole simulation.
sort-key=b11
type=logical

[namelist:run_ukca=mode_activation_dryr]
compulsory=true
description=Activation dry radius in nm
help=Set the activation dry radius in nm.
    = The recommended value is 37.5 nm
    = (Mann et al.,
    =2010,GMD).
range=20.0:100.00
sort-key=g21
type=real

[namelist:run_ukca=mode_aitsol_cvscav]
compulsory=true
description=Scavenging fraction of Aitken soluble mode aerosol in convective plume
help=Set the scavenging fraction of Aitken soluble mode aerosol for the
    = convective plume scavenging scheme.
range=0.01:1.00
sort-key=g14
type=real

[namelist:run_ukca=mode_incld_so2_rfrac]
compulsory=true
description=Wet removal fraction of in-cloud oxidised SO2
help=Accounts for the fraction of in-cloud oxidised
    = SO2 removed by precipitation. There is currently
    = potentially too much sulphate aerosol produced by
    = the wet oxidation by H2O2 and O3 owing to this missing
    = removal process. Recommended GA7/UKESM setting is 0.25.
range=0.0:1.00
sort-key=g22
type=real

[namelist:run_ukca=mode_parfrac]
compulsory=true
description=% SO2 emitted as SO4
help=Set the fraction of SO2 emissions that are emitted as primary
    = sulphate. The recommended value is 2.5% as advised for AEROCOM
    = (Dentener et al,
    =2006,ACP).
range=0.01:5.00
sort-key=g04
type=real

[namelist:run_ukca=nit]
compulsory=true
description=Number of iterations for BE solver
range=1:250
sort-key=a7
type=integer

[namelist:run_ukca=phot2d_dir]
compulsory=true
description=Directory pathname for 2D photolysis input files
help=The directory containing the data for 2D photolysis.
    = The standard files are maintained in the UM repository and
    = extracted to the folder:
    = '$UMDIR/$VN/ctldata/UKCA/tropdata/photol' on the computing
    = system.
sort-key=c2
type=character

[namelist:run_ukca=soa_yield_scaling]
compulsory=true
description=Scaling factor for production of Secondary Organic Aerosol (SOA)
help=Secondary organic aerosol is produced in UKCA from the oxidation of
    =monoterpene. By default the yield is 13% for all oxidants (OH,
    =O3,
    =NO3).
    =Whilst monoterpene is the only pathway for the production of SOA
    =it is recommended that this production is scaled up to compensate
    =for lack of  SOA production from other key BVOc such as isoprene.
    =The scaling factor is applied to the yield from all three oxidation paths.
    =Recommended value is 2.0.
range=0.0:5.00
sort-key=g13
type=real

[namelist:run_ukca=strat2d_dir]
compulsory=true
description=Directory pathname for the 2D top boundary data
help=If using 2D top boundary data,
    =this directory is expected to
    = contain: ch4_topbound.dat,
    =o3_topbound.dat and noy_topbound.dat
    = The standard top_boundary fields are in the UM repository and
    = extracted to '$UMDIR/$VN/ctldata/UKCA/tropdata' on the computing
    = node.
sort-key=b03
type=character

[namelist:run_ukca=tc_lbc_ukca]
compulsory=true
description=Specify which tracers have lateral boundary condition
           =data in the LBC input file.
help=Lateral boundary conditions (LBCs) for the UKCA tracers may be input
    =using a file as for physical variables such as temperature. The file
    =is specified by namelist:nlcfiles=alabcin1.
    =In this array,
    =for every tracer for which
    =there is an LBC in the input file,
    =select 0 for not present and 1 for LBC
    =data present.
length=150
sort-key=i1
values=0,1

[namelist:run_ukca=ukca_ccl4mmr]
compulsory=true
description=CCl4 as MMR
range=0.0:1.e-6
sort-key=d07
type=real

[namelist:run_ukca=ukca_cfc115mmr]
compulsory=true
description=CFC115 as MMR
range=0.0:1.e-6
sort-key=d06
type=real

[namelist:run_ukca=ukca_ch2br2mmr]
compulsory=true
description=CH2Br2 as MMR
range=0.0:1.e-6
sort-key=d05
type=real

[namelist:run_ukca=ukca_cosmmr]
compulsory=true
description=COS as MMR
range=0.0:1.e-6
sort-key=d15
type=real

[namelist:run_ukca=ukca_em_dir]
compulsory=true
description=Directory pathname for NetCDF emission files
help=Unique location of the NetCDF emission files
sort-key=h2
type=character

[namelist:run_ukca=ukca_em_files]
compulsory=true
description=Names of NetCDF emission files
help=Names of the NetCDF emission files.
    =
    = When this functionality is enabled the user should indicate a minimum
    = of one and a maximum of 40 emission files. Note that despite this
    = limitation on the number of files,
    =there is no limit on the number
    = of emission fields contained in each file.
    =
    = The frequency (in hours) at which emissions will be updated should be
    = set separately for each NetCDF emission file with a global attribute
    = called 'update_freq_in_hours'. This means that all emission fields
    = present in the same file will be updated with the same frequency
    = while this frequency can change from file to file.
    =
    = See section "New emission system in UKCA" of UMPDP084 for more
    = information on the metadata attributes needed in the NetCDF files.
length=40
sort-key=h3
type=character

[namelist:run_ukca=ukca_h1202mmr]
compulsory=true
description=H1202 as MMR
range=0.0:1.e-6
sort-key=d12
type=real

[namelist:run_ukca=ukca_h1211mmr]
compulsory=true
description=H1211 as MMR
range=0.0:1.e-6
sort-key=d11
type=real

[namelist:run_ukca=ukca_h1301mmr]
compulsory=true
description=H1301 as MMR
range=0.0:1.e-6
sort-key=d13
type=real

[namelist:run_ukca=ukca_h2402mmr]
compulsory=true
description=H2402 as MMR
range=0.0:1.e-6
sort-key=d14
type=real

[namelist:run_ukca=ukca_h2mmr]
compulsory=true
description=H2 as MMR
range=0.0:1.e-6
sort-key=d17
type=real

[namelist:run_ukca=ukca_hcfc141bmmr]
compulsory=true
description=HCFC141b as MMR
range=0.0:1.e-6
sort-key=d09
type=real

[namelist:run_ukca=ukca_hcfc142bmmr]
compulsory=true
description=HCFC142b as MMR
range=0.0:1.e-6
sort-key=d10
type=real

[namelist:run_ukca=ukca_mebrmmr]
compulsory=true
description=MeBr as MMR
range=0.0:1.e-6
sort-key=d03
type=real

[namelist:run_ukca=ukca_meccl3mmr]
compulsory=true
description=MeCCl3 as MMR
range=0.0:1.e-6
sort-key=d08
type=real

[namelist:run_ukca=ukca_meclmmr]
compulsory=true
description=MeCl as MMR
range=0.0:1.e-6
sort-key=d04
type=real

[namelist:run_ukca=ukca_n2mmr]
compulsory=true
description=N2 as MMR
range=0.0:1.0
sort-key=d18
type=real

[namelist:run_ukca=ukca_offline_dir]
compulsory=true
description=Directory pathname for Offline Oxidant netcdf input files
help=location of files containing the offline oxidant mass mixing ratio
    = data.
sort-key=h4
type=character

[namelist:run_ukca=ukca_offline_files]
compulsory=true
description=Names of NetCDF offline oxidant files
help=Names of the NetCDF offline oxidant files.
    =
    = When this functionality is enabled the user should indicate a minimum
    = of one and a maximum of 5 oxidant files. Note that despite this
    = limitation on the number of files,
    =there is no limit on the number
    = of oxidant fields contained in each file.
    =
    = The frequency (in hours) at which oxidants will be updated should be
    = set separately for each NetCDF emission file with a global attribute
    = called 'update_freq_in_hours'. This means that all fields
    = present in the same file will be updated with the same frequency
    = while this frequency can change from file to file.
    =
    = See section "Updating of Offline Oxidants using netCDF Files" of UMDP084
    = for more information on the metadata attributes needed in the NetCDF files.
length=5
sort-key=h5
type=character

[namelist:run_ukca=ukca_rcpdir]
compulsory=true
description=Directory pathname for RCP input file
help=location of RCPDAT formatted file containing the volume mixing ratio
    = data of the trace gases that are required to be specified as lower
    = boundary conditions for all Stratospheric schemes.
sort-key=d19
type=character

[namelist:run_ukca=ukca_rcpfile]
compulsory=true
description=filename for RCP lower boundary condition datafile
help=File of format RCPDAT which can be downloaded from the CMIP5 website
    = (although dos2unix may need to be run on these files before first use).
    = This file should specify the volume mixing ratios of the various
    = trace gases,
    =with values defined for the middle of the years considered.
    = Daily time points between the years specified will be linearly
    = interpolated from the data provided,
    =and time-points outside the range
    = given will just use the initial/final concentration.
    = Currently this functionality cannot cope with sub-yearly data.
sort-key=d20
type=character

[namelist:streq]
duplicate=true
ns=namelist/Model Input and Output/STASH Requests and Profiles/streq
widget[rose-config-edit:sub-ns]=stash.StashSummaryDataPanelv1

[namelist:streq=dom_name]
compulsory=true
description=Domain Profile
pattern=(?# Must be between 1 and 16 characters)^'.{1,16}'$
type=character

[namelist:streq=isec]
compulsory=true
description=Section Number
range=0:
type=integer

[namelist:streq=item]
compulsory=true
description=Item Number
type=integer

[namelist:streq=package]
compulsory=true
description=Package
pattern=(?# Must be between 0 and 40 characters)^'.{0,40}'$
type=character

[namelist:streq=tim_name]
compulsory=true
description=Time Profile
pattern=(?# Must be between 1 and 16 characters)^'.{1,16}'$
type=character

[namelist:streq=use_name]
compulsory=true
description=Usage Profile
pattern=(?# Must be between 1 and 16 characters)^'.{1,16}'$
type=character

[namelist:temp_fixes]
compulsory=true
description=to assist managing science fixes across UM versions
ns=namelist/UM Science Settings/temp_fixes
title=Short term logicals

[namelist:temp_fixes=l_dtcanfix]
compulsory=true
description=Correct the evolution of the skin temperature in the implicit solver
help=This switch corrects a bug in the evolution of the skin temperature in
    =the implicit solver,
    =whereby the change in the skin temperature is
    =artificially constrained. This generally has a small effect,
    =but can
    =cause unphysical results if a canopy with a large heat capacity is
    =coupled to an underlying substrate with a small heat capacity.
type=logical

[namelist:temp_fixes=l_eg_damp_height_lid]
compulsory=true
description=Set the ENDGame w-damping reference height to the height of the lid
help=Previously the ENDGame w-damping reference height was input via
    =the variable damp_height in the run_dyn namelist. Ideally this
    =should be set to the top of the model,
    =which is enforced by
    =setting this switch. GA6 runs using the L85_50t_35s_85km level
    =set,
    =however,
    =should have this switch set to false and the reference
    =height set to 80000 (80km).
trigger=namelist:run_dyn=damp_height: .false.;
type=logical

[namelist:temp_fixes=l_emis_ssi_full]
compulsory=true
description=Adopt the full implementation of emissivity for sea and sea-ice
help=The original implementation of non-black sea and sea-ice as used
    = in GA4 was deficient in a couple of terms. This switch includes
    = the extra terms.
    = It is a short term logical to be retained only so long as the old
    = option is required,
    =i.e. not beyond the life of ND.
type=logical

[namelist:temp_fixes=l_fail_p_layers_inconsis]
compulsory=true
description=Radiation scheme fails when passed inconsistent pressure levels.
help=When set to true,
    =the radiation scheme will fail when passed an
    = inconsistent set of pressures of the levels.
type=logical

[namelist:temp_fixes=l_fix_arcl_eg_levs]
compulsory=true
description=Use correct vertical levels for aerosol climatologies in ENDGAME
help=Fixes the aerosol climatologies in ENDGame runs so that they use
    = data from level 1 to model top,
    =rather than level 0 to level top-1.
type=logical

[namelist:temp_fixes=l_fix_conserv]
compulsory=true
description=ENDGame mass conservation independent of tracers at level 0
help=If true,
    =changes all routines that affect the mass conservation
    = in ENDGame to be independent of tracers at the surface level (or zero level)
    = whether they are set properly or not before or after the correction.
type=logical

[namelist:temp_fixes=l_fix_drop_settle]
compulsory=true
description=Use correct cloud drop number in gravitational droplet settling
help=Gravitational droplet settling in the microphysics has been set to
    =a land-sea mask,
    =in some cases when the cloud drop is explicitly
    =calculated. Turning this switch on removes this inconsistency and should
    =only have a very minor impact on results.
type=logical

[namelist:temp_fixes=l_fix_mphys_diags_iter]
compulsory=true
description=Correct diagnostic output with multiple iterations of precipitation
help=When set to false,
    =section 4 (large scale precipitation) diagnostics with
    =item numbers between 240 and 271 inclusive will only contain data from the
    =last iteration,
    =where multiple iterations of the precipitation scheme
    =are in use. Mutiple iterations are set by variable l_mcr_iter in the
    =run_precip namelist and are usually only performed in global model
    =configurations.
type=logical

[namelist:temp_fixes=l_fix_nh4no3_equilibrium]
compulsory=true
description=Fix for the equilibrium of ammonium nitrate in CLASSIC
help=This switch corrects a bug found in some unit conversions needed for
    =the equilibrium of ammonium nitrate in the CLASSIC aerosol scheme.
    =Such conversions use a wrong factor of 2.0,
    =probably because
    =they assumed that ammonium nitrate is transported as mass mixing
    =ratio of N in NH4NO3 (2 N atoms) while it is transported as mass
    =mixing ratio of N in NO3 (only 1 N atom).
    =It is a short term logical until the code becomes the new default.
type=logical

[namelist:temp_fixes=l_glue_conv5a]
compulsory=true
description=Correct argument list order for call to deep convection 5A scheme
help=This is only triggered as an option by switching on the 5A convection
    = scheme.
    =rho*r**2 on theta levels and rho*r**2 on rho levels are the
    =wrong way around in the call to deep convection.
    =The change is expected to have little impact on results but this
    =has not been established yet.
type=logical

[namelist:temp_fixes=l_iau_pc2check]
compulsory=true
description=Check cloud after IAU
help=The IAU code increments cloud fractions and cloud condensate separately
    = which can lead to potential inconsistencies and cause problems
    = for the microphysics code. Selecting this option calls pc2_checks
    = at the end of the IAU to ensure the condensate and fraction are
    = consistent.
type=logical

[namelist:temp_fixes=l_ignore_error_ancil_struct]
compulsory=true
description=Ignore checks that reconfiguration reads the correct field in an ancil file
help=Some anciallry fields in the past have had the wrong structure. This ignores a check.
type=logical

[namelist:temp_fixes=l_methox_fix]
compulsory=true
description=Fix indexing error for level height in methane oxidation scheme
help=When set to false,
    =the idealised pressure profile used within
    = the methane oxidation scheme uses heights from the level below,
    =so that the pressures will be consistently too high.
    = It is a short term logical until the code becomes the new default.
type=logical

[namelist:temp_fixes=l_mphys_gr_out]
compulsory=true
description=Include graupel in snow rate calculations and diagnostics
help=In model runs which include graupel,
    =the graupel was not being counted
    = in snowfall diagnostics and in total ice amounts passed to other sections
    = (radiation,
    =for example). This change corrects this missing term.
type=logical

[namelist:temp_fixes=l_pc2_homog_turb_q_neg]
compulsory=true
description=Prevent pc2_homog_plus_turb from making negative humidities
help=Prevents pc2_homog_plus_turb from converting more water vapour (q)
    = into cloud liquid water (qcl) than there is available.
type=logical

[namelist:temp_fixes=l_rm_hardwire_gas360]
compulsory=true
description=Remove gas concentration interpolation hardwired to 360 day calendar
help=When a timeseries of trace gases are used for greenhouse gas forcings they
    =are interpolated to give the current model timestep value. The code is
    =hardwired to use the 360 day calendar,
    =but this logical includes a fix
    =to use the calendar specified in the model.
type=logical

[namelist:temp_fixes=l_rm_neg_par]
compulsory=true
description=Fix for negative PAR values in radiation
help=Fix for negative PAR values in radiation
    = It is a short term logical until the code becomes the new default.
type=logical

[namelist:temp_fixes=l_roughnesslength_fix]
compulsory=true
description=Fix for reconfiguring roughness length
help=Interpolates roughness length for land and sea points separately.
    =When coastal tiling is used,
    =this fix may have a detrimental effect
    = on the 10m winds at the end of timestep one after a reconfiguration
    = step. For other configurations this fix is recommended,
    =but note it will
    = change answers.
type=logical

[namelist:temp_fixes=l_stph_rhcrit_unbias]
compulsory=true
description=Remove bias of RHCRIT perturbations in random parameters
help=When set to false,
    =the perturbations to RHCRIT in the random parameters scheme
    = will introduce a bias in cloud cover.
    = It is a short term logical until the code becomes the new default.
type=logical

[namelist:time]
duplicate=true
ns=namelist/Model Input and Output/STASH Requests and Profiles/time
title=Time Profiles

[namelist:time=iedt]
compulsory=true
description=Select end date and time
help=The date and time for start of regular data YYYY,MM,DD,HH,
    =MM,SS
length=6
sort-key=a52
type=integer

[namelist:time=iend]
compulsory=true
description=End time of diag output
help=Please select a time to end output from time profile,
    =units unt3
    =set to -1 to go to end of forecast run
sort-key=a33
type=integer

[namelist:time=ifre]
compulsory=true
description=Frequency of diag output
help=Please select frequency to output data,using units unt3
sort-key=a34
type=integer

[namelist:time=intv]
compulsory=true
description=Specify the Time Interval for processing
help=Enter time interval over which to process the data,
    =units are described by unt1
sort-key=a21
type=integer

[namelist:time=ioff]
compulsory=true
description=Sampling offset (0 for no offset)
help=One can select to offset the sampling frequency from the time interval.
sort-key=a27
type=integer

[namelist:time=iopt]
compulsory=true
description=Diagnostic output option
help=Please select a time unit for output times. Only regular intervals is valid when time processing.
sort-key=a31
trigger=namelist:time=istr: 1;
       =namelist:time=lts0: 1;
       =namelist:time=iend: 1;
       =namelist:time=ifre: 1,
       =3;
       =namelist:time=itimes: 2;
       =namelist:time=iser: 2;
       =namelist:time=isdt: 3;
       =namelist:time=iedt: 3;
value-titles=Regular intervals,specified list,
            =Regular intervals start/stop dates
values=1,2,3

[namelist:time=isam]
compulsory=true
description=Specify the Sampling Period
help=Enter sampling period,the units are described by unt2
sort-key=a25
type=integer

[namelist:time=isdt]
compulsory=true
description=Select start date and time
help=The date and time for start of regular data YYYY,MM,DD,HH,
    =MM,SS
length=6
sort-key=a51
type=integer

[namelist:time=iser]
compulsory=true
description=List of times data is required,using unit UNT3
help=List of times data is required,using unit UNT3
length=:
sort-key=a42
type=integer

[namelist:time=istr]
compulsory=true
description=Start time of diag output
help=Please select a time to start output from time profile,
    =units unt3
sort-key=a32
trigger=namelist:time=lts0: 0
type=integer

[namelist:time=itimes]
compulsory=true
description=How many specific times do you require the output?
help=How many specific times do you require the output?
range=0:
sort-key=a41
type=integer

[namelist:time=ityp]
compulsory=true
description=Specify time processing required
help=Time profiles have three sets of parameters
    =1. The type of time processing,
    =if any,that is required.
    =2. If time processing is selected,
    =the period over which to process data,
    =and the sampling period.
    =3. The output times for data. The first question in the panel defines time processing choices.
    =Single time fields:are snap-shots of a field output at the timesteps implied by the second part of the window,
    =i.e. no time processing.
    =Accumulations and Means:Need to be accumulated over an interval,
    =known as the period. Values that make up the mean/accumulation do not need to be taken from each timestep but most often are,
    =in which case set the sampling frequency to 1 timestep.
    =Time series: Are best used in conjunction with time series domain profiles. A series of data points is appended at the frequency specified into STASH reserved space in dump. The data in dump is overwritten every re-cycling period. see below:
    =Special day-mean time series: Are best used in conjunction with time series domain profiles. A series of data points is appended at the frequency specified into STASH reserved space in dump. The data in dump is overwritten every re-cycling period. The data is based on daily sampling of timestep means over the day. Hence,
    =sampling period must be 1 day and sampling offset must be zero.
    =Maximum/minimum:Settings should be similar to accumulations. The period defines the period over which the extremum is calculated and the sampling frequency defines the timesteps at which the checks of current values against current extrema are made (most often 1 timestep).
    =If one of the time processing options is selected,
    =an area in the dump is used to hold a working copy of the diagnostic.
sort-key=a1
trigger=namelist:time=isam: this !=1 ;
       =namelist:time=intv: this !=1 ;
       =namelist:time=unt1: this !=1 ;
       =namelist:time=unt2: this !=1 ;
       =namelist:time=ioff: this !=1 ;
value-titles=No time processing,
            =Time accumulation specify period and sampling frequency,
            =Time mean specify meaning period and sampling frequency,
            =time series specify recycling period and sampling frequency,
            =Maximum value in a period specify period and sampling frequency,
            =Minimum value in a period specify period and sampling frequency,
            =Special daily mean time series
values=1,2,3,4,5,6,8
widget[rose-config-edit]=rose.config_editor.valuewidget.radiobuttons.RadioButtonsValueWidget

[namelist:time=lts0]
compulsory=true
description=Disable output of diagnostics at TimeStep 0
help=Some diagnostics from section 0 and 16 can (nominally) be output
    =at TimeStep 0.
    =In order to preserve consistency between diagnostic output from
    =an NRun and a CRun this functionality can be switched off.
    =
    =Disabling output at TimeStep 0 is recommended for Climate jobs.
sort-key=a35
type=logical

[namelist:time=tim_name]
compulsory=true
description=Name of time profile
help=This is the name of a time profile
    = which can be selected in the stash panel.
    = Max of 16 characters
pattern=(?# Must be between 1 and 16 characters)^'.{1,16}'$
sort-key=a11
type=character

[namelist:time=unt1]
compulsory=true
description=Units for Time Interval processing
fail-if=this == 2 and namelist:nlstcgen=steps_per_periodim % 24 != 0;
       =# Model step must coincide with whole hours to use Hours unit
       =this == 3 and namelist:nlstcgen=steps_per_periodim % 24 != 0;
       =# Model step must coincide with whole hours to use Days unit
help=Please select a time units for time processing.
sort-key=a22
value-titles=timesteps, Hours, Days, Dump periods
values=1,2,3,4

[namelist:time=unt2]
compulsory=true
description=Units for sampling period
fail-if=this == 2 and namelist:nlstcgen=steps_per_periodim % 24 != 0;
       =# Model step must coincide with whole hours to use Hours unit
       =this == 3 and namelist:nlstcgen=steps_per_periodim % 24 != 0;
       =# Model step must coincide with whole hours to use Days unit
help=Please select a time units for sampling period.
sort-key=a26
value-titles=timesteps, Hours, Days, Dump periods
values=1,2,3,4

[namelist:time=unt3]
compulsory=true
description=Units for output times of diag
fail-if=this == 2 and namelist:nlstcgen=steps_per_periodim % 24 != 0;
       =# Model step must coincide with whole hours to use Hours unit
       =this == 3 and namelist:nlstcgen=steps_per_periodim % 24 != 0;
       =# Model step must coincide with whole hours to use Days unit
help=Please select a time unit for output times.
sort-key=a30
value-titles=timesteps, Hours, Days, Dump periods
values=1,2,3,4

[namelist:trans]
compulsory=true
description=Define data to be transplanted into reconfiguration dump. See help for more
           =information.
duplicate=true
help=The transplant facility allows users to copy data out of one dump and put it
    =into the dump at reconfiguration. The fields must be prognostic and the dumps
    =must be on the same domain. This facility is used for certain types of problem
    =investigation. Most users will never use this.
    =
    =See UMDP C4 for a definition of STASH and STASH items,
    =but an item number is a
    =number given to variables (prognostic or diagnostic) in the UM system.
    =
    =See also the Basic User Guide: Getting output.
    =
    =The table length is dynamic,
    =change the length and press enter.
    =There is a maxiumum length of 100 items to be consistent with the parameter
    =max_trans rcf_readnl_trans_mod.F90.
    =
    =The table allows you to specify sub-areas in the obvious way. Items can be
    =repeated to allow more than one sub area.
ns=namelist/Reconfiguration and Ancillary Control/Transplant Data/Transplant Table

[namelist:trans=col1]
compulsory=true
description=From column
help=Take care to define dimensions relative to the item's grid
range=1:
sort-key=e
type=integer

[namelist:trans=col2]
compulsory=true
description=To column
help=Take care to define dimensions relative to the item's grid
range=1:
sort-key=f
type=integer

[namelist:trans=itemc]
compulsory=true
description=STASH item
help=STASHmaster item number
range=1:
sort-key=b
type=integer

[namelist:trans=lev1]
compulsory=true
description=From level
help=Take care to define dimensions relative to the item's grid
range=0:
sort-key=c
type=integer

[namelist:trans=lev2]
compulsory=true
description=To level
help=Take care to define dimensions relative to the item's grid
range=0:
sort-key=d
type=integer

[namelist:trans=row1]
compulsory=true
description=From row
help=Take care to define dimensions relative to the item's grid
range=1:
sort-key=g
type=integer

[namelist:trans=row2]
compulsory=true
description=To row
help=Take care to define dimensions relative to the item's grid
range=1:
sort-key=h
type=integer

[namelist:trans=sctnc]
compulsory=true
description=Section
help=STASHmaster section number
range=0:
sort-key=a
type=integer

[namelist:urban2t_param]
compulsory=true
ns=namelist/JULES Science Settings/urban2t_param
title=JULES Urban-2T parameters

[namelist:urban_switches]
compulsory=true
description=Switches to control the two-tile urban schemes URBAN-2T and MORUSES.
           =URBAN-2T parameters are used unless the relevant MORUSES switch is true.
ns=namelist/JULES Science Settings/urban_switches
title=JULES Urban switches

[namelist:urban_switches=l_moruses_albedo]
compulsory=true
description=Shotware canyon albedo
help=Shortwave radiative exchange in the form of an effective canyon albedo
    =
    =Includes shading and multiple reflections,
    =which depends on building
    =materials,
    =geometry and zenith angle.
sort-key=c
type=logical

[namelist:urban_switches=l_moruses_emissivity]
compulsory=true
description=Longwave canyon emissivity
help=Long-wave radiative exchange in the form of an effective canyon emissivity
    =
    =Includes multiple reflections,
    =which depends on building materials and
    =geometry.
sort-key=d
type=logical

[namelist:urban_switches=l_moruses_macdonald]
compulsory=true
description=Use MacDonald et al. (1998) to calculate effective roughness length
help=MORUSES switch for using MacDonald et al. (1998) to calculate effective
    =roughness length of urban areas and displacement height from urban geometry.
    =TRUE => Use MacDonald et al. (1998) formulations.
    =FALSE => Appropriate data needs to be supplied instead.
sort-key=f
type=logical

[namelist:urban_switches=l_moruses_rough]
compulsory=true
description=Transfer of heat in the form of effective roughness length
help=Transfer of heat in the form of effective roughness length for heat and
    =momentum.
    =
    =Effective roughness lengths for momentum and displacement heights can
    =either be provided as an ancillary,
    =if the empirical relationships are not
    =used (see below),
    =or can be calculated using the MacDonald et al. (1998)
    =formulation,
    =which makes use of urban geometry (l_moruses_macdonald).
    =
    =Effective roughness length for heat has a physical basis and is not
    =calculated as a fraction of momentum. It depends on the geometry of the
    =canyon,
    =which affects the recirculation of the jet within the canyon. Flow
    =within the canyon can be broken down into two regions; the recirculation
    =and ventilation regions,
    =where the recirculation region forms in the wake
    =of each building. Three different flow regimes are represented:
    =
    =1. Isolated roughness - Canyon has separate recirculation and a
    =ventilation regions
    =
    =2. Wake interference - Recirculation region begins to impinge on the
    =downstream building
    =
    =3. Skimming flow - Recirculation region fills the entire canyon
    =
    =The effective roughness length for heat is calculated using a resistance
    =network within these regions.
sort-key=e
trigger=namelist:urban_switches=l_moruses_macdonald: .true.;
type=logical

[namelist:urban_switches=l_moruses_storage]
compulsory=true
description=Thermal inertia and coupling with underlying soil
help=The road only is conductively coupled to the underlying soil,
    =whereas the
    =walls and roof are uncoupled and have a zero-flux boundary condition. As
    =MORUSES only has two tiles,
    =this is parametrised using a canyon scaling
    =factor. The roof has a lower thermal inertia and can respond more rapidly to
    =changes in forcing. The heat capacities of the canyon and roof are
    =calculated using the properties of the urban fabric and the geometry of the
    =canyon.
sort-key=g
type=logical

[namelist:urban_switches=l_moruses_storage_thin]
compulsory=true
description=Use thin roofs (includes effects of insulation)
sort-key=h
type=logical

[namelist:urban_switches=l_urban2t]
compulsory=true
description=Turn on two urban tile scheme
help=Essentially the same as the original one tile urban scheme (URBAN-1T),
    =but
    =instead of one urban tile there are now two; urban_canyon & urban_roof. The
    =urban_canyon and urban_roof land fractions are calculated using the urban
    =geometry variable wrr or "w/r ratio",
    =where:
    =w = width of the canyon
    =r = width of the canyon + roof
    =
    =For 2D canyon geometry this is equivalent to the fraction of the urban tile
    =that is canyon.
    =
    =There is no extra physics for this scheme just different parameters,
    =which are
    =set via the urban2t_param namelist. The parameters are not spatially variant. The default
    =parameters are the same as the nvegparm urban parameters with a lower roof heat
    =capacity. These parameters have still to be evaluated so are likely to change
    =in the future.
sort-key=a
type=logical

[namelist:use]
duplicate=true
macro=output_streams.OutputStreamValidate
ns=namelist/Model Input and Output/STASH Requests and Profiles/use
title=Usage Profiles

[namelist:use=file_id]
compulsory=true
description=file ID of FF output stream
help=When requesting output to a user FF this provides the file ID of the
    =output stream from the namelist:nlstcall_pp namelists
pattern=(?# Must be between 1 and 20 characters)^'.{1,20}'$
sort-key=a3
type=character

[namelist:use=locn]
compulsory=true
description=Specify the destination of the diagnostic
help=The useage profile defines the output destination of a diagnostic.
    = Most often,
    =simple diagnostics are written to one of the output
    = streams defined by the namelist:nlstcall_pp namelists
    =
    = Alternatively,
    =diagnostics can be written to the D1 area
    = (and the external dump by implication).
    = Users may wish to do this so that diagnostics can be
    = passed from one section of code to another.
sort-key=a2
trigger=namelist:use=macrotag: 1,2,6;
       =namelist:use=file_id: 3;
value-titles=Dump store with user specified TAG,
            =Dump store with climate mean TAG,
            =To be written to a FF output stream with supplied file ID,
            =Secondary store with user supplied TAG
values=1,2,3,6
widget[rose-config-edit]=rose.config_editor.valuewidget.radiobuttons.RadioButtonsValueWidget

[namelist:use=macrotag]
compulsory=true
description=Specify TAG required for diagnostic output when not writing direct to user FF
help=For TAGs To allow the code to find the particular diagnostic it is
    =Tagged so search routines can find the STASHlist record that has such TAGs
    =attached.
sort-key=a3
type=integer

[namelist:use=use_name]
compulsory=true
description=Name of useage profile
help=This is the name of a usage profile
    = which can be selected in the stash panel.
    = This will be linked with a UM FF output stream or store (TAG)
    = max of 16 characters
pattern=(?# Must be between 1 and 16 characters)^'.{1,16}'$
sort-key=a1
type=character

[namelist:vertical]
compulsory=true
ns=namelist/Reconfiguration and Ancillary Control/vertical
sort-key=a3
title=Vertical interpolation

[namelist:vertical=v_int_order]
compulsory=true
description=Type of vert interpolation
help=Linear vertical interpolation (option 1) in the reconfiguration usually
    = extrapolates at the top and bottom of the domain.
    = If you are significantly altering the orography (through ancillary files)
    = or the height at the top of the model,
    =it may be more appropriate to use
    = vertical interpolation without extrapolation (option 2).
    = Options 3 and 5 are cubic and quintic interpolation albeit these are not
    = readily used.
value-titles=Linear,Linear with no extrapolation,Cubic,Quintic
values=1,2,3,5

[ns=file]
description=Files to be created when app is launched.  The order of the namelists
           =contained in the files should not be modified.

[ns=namelist]
description=Configure UM and reconfiguration namelists. Please expand and select a page.

[ns=namelist/Coupling]
description=The coupler used by the model is selected in Coupled Settings
           =env section [env=COUPLER]. Choosing a coupler will enable the
           =namelist items in this panel.
sort-key=1c
title=Coupling

[ns=namelist/Data Assimilation]
description=Please expand and select a page
sort-key=1h

[ns=namelist/IO System Settings]
description=Please expand and select a page
sort-key=1e

[ns=namelist/JULES Science Settings]
description=Please expand and select a page
sort-key=1g

[ns=namelist/Model Input and Output]
description=Please expand and select a page
           =
           =For a description of special filenaming control sequences please
           =right click this section and view the "Help"
help=Numerous UM output filename entries support special control
    =sequences which will be expanded prior to creating the file based
    =on the current time state of the model.
    =
    =The available special characters are:
    =
    =  * Absolute time components (%Y, %m, %d, %H, %M, %S)
    =    The exact date/time of the model at the point where the
    =    filename is generated.
    =
    =  * Analysis time components (%AY, %Am, %Ad, %AH, %AM, %AS)
    =    The exact date/time of the model analysis (if no analysis is
    =    being used, this will be the start date/time of the run).
    =
    =  * Relative time components (%QY, %Qm, %Qd, %QH, %QM, %QS)
    =    The time into the model run relative to the analysis time (or
    =    start of run if no analysis is in use).  Each unit is rounded
    =    down, so if using these make sure the lowest expected unit is
    =    included to avoid naming clashes.  Supports padding (see below).
    =
    =  * Relative total times (%RY, %Rm, %Rd, %RH, %RM, %RS)
    =    The total time into the model run relative to the analysis time
    =    (or start of run if no analysis is in use) in each unit.  Unlike
    =    the above "Q" versions these are equivalent to each other;
    =    i.e. if the model has run for 2 days, %RD = 02, %RH = 48,
    =    %RM = 2880 (whereas %QD = 02, %QH = 00, %QM = 00)
    =
    =  * Month or season names (%b, %s)
    =    The name of the current month, or the name of the season which
    =    starts in the current month.  Using 3 characters (e.g. jan, feb
    =    mar... dec or djf, jfm, fma... ond).
    =
    =  * Timestep (%T)
    =    The exact number of the current timestep.
    =
    =  * Analysis position indicator (%+)
    =    Either a plus or minus sign, depending on whether the model has
    =    reached the analysis time (if using an analysis).
    =
    =  * Literal percentage (%%)
    =    An actual percentage character, if required.
    =
    =The amount of zero-padding can be overridden for the %R and %Q
    =control sequences by including a number between the first and
    =second letters, e.g. %R3H or %Q6S.  Note that if for any reason the
    =value cannot fit into the provided amount of padding, the value will
    =be ignored and the entry in the filename expanded to fit the value
    =exactly (i.e. no padding).
    =
    =To support the UM naming conventions prior to UM 10.1 several legacy
    =options are also provided.  These will allow a filename to reproduce
    =exactly the old behaviour:
    =
    =  * Legacy-style relative hours (%N)
    =    This expands to a 3-character string giving the hours relative
    =    to the analysis time (or start of run).  To support hours up to
    =    3599 in this width the first character uses letters after the
    =    999th hour (so a00 = 1000 hours ... z99 = 3599 hours).  It is
    =    recommended to use the non-legacy form "%R3H" to replace this.
    =
    =  * Legacy-style sub-hourly (%n)
    =    This expands to a 4-character string giving the hours and minutes
    =    relative to the analysis (or start of run).  As with the %N form
    =    above this supports up to 359 hours and 59 seconds by using letters
    =    (so a000 = 100 hours ... z959 = 359 hours 59 minutes).  It is
    =    recommended to use the non-legacy form "%R2H%Q2M" to replace this.
    =
    =  * Legacy-style analysis position letter (%z)
    =    This is similar to %+ above, but instead of expanding to be a
    =    plus or minus sign it expands to a "z" or an "a", which was used
    =    in older dump files as the indicator.
    =
    =  * Legacy-style absolute (%C)
    =    This expands to a variety of possible strings.
    =
    =    For most dumps or normal output stream files it resembles either
    =    "%Y%m%d" or "%Y%m%d_%H" (depending on if the output frequency is
    =    more or less frequent than 1-day, though dumps never have the "%H"
    =    part).  It is recommended to use on of the above forms to replace
    =    this for these cases.
    =
    =    For climate meaning files it expands to a pre-determined name
    =    depending on the periodicity of the meaning.  There are too many
    =    possibilities to cover here but as a few examples:
    =       %C => "m%Y%b"   (monthly means)
    =       %C => "s%Y%s"   (seasonal means)
    =       %C => "w%Y%m%d" (weekly means)
    =       %C => "x%Y%m%d" (10 yearly means)
    =       %C => "1%Y%m%d_%H" (unknown mean for period 1)
    =       %C => "2%Y%m%d_%H" (unknown mean for period 2)
    =
    =    Note also that using the above option files will be named using
    =    the date/time at the *end* of the meaning period (not the start),
    =    *except* for the monthly and seasonal means - which will be
    =    labelled using the start of the mean period.  It is recommended
    =    to replace the "%C" indicator with a suitable form such as those
    =    above, based on knowledge of the periodicity.
    =
sort-key=1e

[ns=namelist/Model Input and Output/Dumping and Meaning]
sort-key=1a

[ns=namelist/Model Input and Output/Model Output Streams]
sort-key=1b

[ns=namelist/Model Input and Output/STASH Requests and Profiles]
description=Please expand and select a page
sort-key=1c

[ns=namelist/Model Input and Output/STASH Requests and Profiles/streq]
macro=stash_indices.TidyStashTransformPruneDuplicated,
     =stash_indices.TidyStashValidate,
     =stash_testmask.STASHTstmskValidate,
     =stash_indices.TidyStashTransform,
     =output_streams.OutputStreamValidate,
     =stash_requests.StashProfilesValidate,
     =stash_requests.StashProfilesRemoveUnused
title=STASH Requests

[ns=namelist/Reconfiguration and Ancillary Control]
description=Please expand and select a page
sort-key=1b

[ns=namelist/Reconfiguration and Ancillary Control/Transplant Data]
sort-key=a7

[ns=namelist/Top Level Model Control]
description=Please expand and select a page
sort-key=1a

[ns=namelist/Top Level Model Control/LAM Configuration]
sort-key=2a

[ns=namelist/Top Level Model Control/LBC Related Options]
sort-key=2b

[ns=namelist/Top Level Model Control/Model Domain and Timestep]
description=The grid and level specification are configured by the reconfiguration
           =and then read directly by the UM from the start dump. Please see "Output
           =dump grid sizes and levels" page in "Reconfiguration and Ancillary Control".
sort-key=1a

[ns=namelist/Top Level Model Control/Model Identifier Code]
sort-key=4a

[ns=namelist/Top Level Model Control/Parallel Communication Options]
sort-key=3a

[ns=namelist/Top Level Model Control/Run Control and Time Settings]
sort-key=1b

[ns=namelist/UM Science Settings]
description=Please expand and select a page
sort-key=1f

[ns=namelist/UM Science Settings/Planet Constants]
description=planet_constants: Parameters specific to the planet being modelled.
help=Orbital parameters and atmospheric constants can be set to user defined
    =values or a specific planet may be selected. The modelling of planet
    =atmospheres other than the Earth is currently experimental and can only
    =be done in an idealised setup.

[ns=namelist/UM Science Settings/section01/aero]
description=run_radiation: Options specific to the treatment of aerosols in radiation.
sort-key=09
title=Aerosol

[ns=namelist/UM Science Settings/section01/cloud]
description=run_radiation: Cloud options for the main radiation call.
sort-key=07
title=Cloud

[ns=namelist/UM Science Settings/section01/cloud/cloud_2]
description=run_radiation: Cloud options for the second radiation call.
sort-key=08
title=Cloud second call

[ns=namelist/UM Science Settings/section01/gas]
description=run_radiation: Fixed gas mass mixing ratios used in radiation.
sort-key=10
title=Gas MMRs

[ns=namelist/UM Science Settings/section01/gas/clmchfcg]
description=clmchfcg: Time-varying gas mass mixing ratios used in radiation.
sort-key=11
title=Varying gas MMRs

[ns=namelist/UM Science Settings/section01/gas/clmchfcg/cfc11]
description=clmchfcg: Time-varying CFC11 mass mixing ratio used in radiation.
sort-key=12d
title=Varying CFC11 MMR

[ns=namelist/UM Science Settings/section01/gas/clmchfcg/cfc113]
description=clmchfcg: Time-varying CFC113 mass mixing ratio used in radiation.
sort-key=12g
title=Varying CFC113 MMR

[ns=namelist/UM Science Settings/section01/gas/clmchfcg/cfc114]
description=clmchfcg: Time-varying CFC114 mass mixing ratio used in radiation.
sort-key=12k
title=Varying CFC114 MMR

[ns=namelist/UM Science Settings/section01/gas/clmchfcg/cfc12]
description=clmchfcg: Time-varying CFC12 mass mixing ratio used in radiation.
sort-key=12e
title=Varying CFC12 MMR

[ns=namelist/UM Science Settings/section01/gas/clmchfcg/ch4]
description=clmchfcg: Time-varying CH4 mass mixing ratio used in radiation.
sort-key=12b
title=Varying CH4 MMR

[ns=namelist/UM Science Settings/section01/gas/clmchfcg/co2]
description=clmchfcg: Time-varying CO2 mass mixing ratio used in radiation.
sort-key=12a
title=Varying CO2 MMR

[ns=namelist/UM Science Settings/section01/gas/clmchfcg/hcfc22]
description=clmchfcg: Time-varying HCFC22 mass mixing ratio used in radiation.
sort-key=12h
title=Varying HCFC22 MMR

[ns=namelist/UM Science Settings/section01/gas/clmchfcg/hfc125]
description=clmchfcg: Time-varying HFC125 mass mixing ratio used in radiation.
sort-key=12i
title=Varying HFC125 MMR

[ns=namelist/UM Science Settings/section01/gas/clmchfcg/hfc134a]
description=clmchfcg: Time-varying HFC134a mass mixing ratio used in radiation.
sort-key=12j
title=Varying HFC134a MMR

[ns=namelist/UM Science Settings/section01/gas/clmchfcg/n2o]
description=clmchfcg: Time-varying N2O mass mixing ratio used in radiation.
sort-key=12c
title=Varying N2O MMR

[ns=namelist/UM Science Settings/section01/gas/clmchfcg/so4]
description=clmchfcg: Time-varying SO4 mass mixing ratio used in radiation.
sort-key=12f
title=Varying SO4 MMR

[ns=namelist/UM Science Settings/section01/lw]
description=run_radiation: Options specific to LW (thermal) radiation.
sort-key=02
title=Longwave

[ns=namelist/UM Science Settings/section01/lw/r2lwclnl]
description=r2lwclnl: Control options for the main call to LW radiation.
sort-key=05
title=LW main call

[ns=namelist/UM Science Settings/section01/lw/r2lwclnl_2]
description=r2lwclnl: Control options for the second call to LW radiation.
sort-key=06
title=LW second call

[ns=namelist/UM Science Settings/section01/ozone]
description=run_radiation: Options specific to the treatment of ozone in radiation.
sort-key=13
title=Ozone

[ns=namelist/UM Science Settings/section01/radfcdia]
description=radfcdia: Options for the second radiation call for the calculation of radiative forcing diagnostics.
sort-key=14
title=Diagnostic forcing

[ns=namelist/UM Science Settings/section01/run_cosp]
description=run_cosp: Options for the CFMIP Observation Simulator Package.
sort-key=15
title=COSP

[ns=namelist/UM Science Settings/section01/sw]
description=run_radiation: Options specific to SW (solar) radiation.
sort-key=01
title=Shortwave

[ns=namelist/UM Science Settings/section01/sw/r2swclnl]
description=r2swclnl: Control options for the main call to SW radiation.
sort-key=03
title=SW main call

[ns=namelist/UM Science Settings/section01/sw/r2swclnl_2]
description=r2swclnl: Control options for the second call to SW radiation.
sort-key=04
title=SW second call

[ns=namelist/UM Science Settings/section03/1a_switches]
sort-key=02
title=1a scheme options

[ns=namelist/UM Science Settings/section03/9b_9c_switches]
sort-key=01
title=9b/c scheme options

[ns=namelist/UM Science Settings/section03/Implicit]
sort-key=03
title=Implicit solver options

[ns=namelist/UM Science Settings/section04/cdrop]
sort-key=04b
title=Cloud drop number and aerosol-cloud processes

[ns=namelist/UM Science Settings/section04/ice]
sort-key=04d
title=Ice processes

[ns=namelist/UM Science Settings/section04/lbc]
sort-key=04z
title=Lateral boundary conditions

[ns=namelist/UM Science Settings/section04/mphase]
sort-key=04e
title=Mixed phase processes

[ns=namelist/UM Science Settings/section04/rain]
sort-key=04c
title=Warm rain processes

[ns=namelist/UM Science Settings/section05/closure]
sort-key=5e
title=Convective closure

[ns=namelist/UM Science Settings/section05/cloud_opts]
sort-key=5h
title=Convective cloud

[ns=namelist/UM Science Settings/section05/cmt]
sort-key=5g
title=CMT - Convective momentum transport

[ns=namelist/UM Science Settings/section05/diagnosis]
sort-key=5b
title=Diagnosis - Needed by BL and convection

[ns=namelist/UM Science Settings/section05/downdraughts]
sort-key=5f
title=Downdraughts

[ns=namelist/UM Science Settings/section05/main_switches]
sort-key=5c
title=General convective control

[ns=namelist/UM Science Settings/section05/updraughts]
sort-key=5d
title=Updraughts

[ns=namelist/UM Science Settings/section09/PC2]
sort-key=01
title=PC2 options

[ns=namelist/UM Science Settings/section10/Idealised/Forcing]
description=Choose a quantity to view the relevant forcing data timeseries and options

[ns=namelist/UM Science Settings/section13/diag]
sort-key=06
title=Diagnostic Printing

[ns=namelist/UM Science Settings/section13/horiz]
sort-key=02
title=Horizontal Diffusion

[ns=namelist/UM Science Settings/section13/polar]
sort-key=01
title=Combi Diffusion/Polar Filtering

[ns=namelist/UM Science Settings/section13/qpos]
sort-key=07
title=Moisuture Resetting (qpos)

[ns=namelist/UM Science Settings/section13/sponge]
sort-key=08
title=Sponge Zones

[ns=namelist/UM Science Settings/section13/targ]
sort-key=05
title=Targetted Diffusion

[ns=namelist/UM Science Settings/section13/turb]
sort-key=03
title=Subgrid Turbulence

[ns=namelist/UM Science Settings/section13/vert]
sort-key=04
title=Vertical Diffusion

[ns=namelist/UM Science Settings/section35/rp]
title=Random Parameters
